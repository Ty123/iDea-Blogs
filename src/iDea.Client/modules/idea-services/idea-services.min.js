(function(){"use strict";app.factory("AuthService",["$http","$q","$log","localStorageService","ngAuthSettings",function(n,t,i,r,u){var s=u.apiServiceBaseUri,e={},f={userName:"",isAuth:!1},h=function(t){return o(),n.post(s+"api/account/register",t).then(function(n){return n})},c=function(i){var e="grant_type=password&username="+i.userName+"&password="+i.password,u=t.defer();return n.post(s+"token",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(n){r.set("authorizationData",{token:n.access_token,userName:i.userName,isAuth:!0});f.userName=i.userName;f.isAuth=!0;u.resolve(n)}).error(function(n){o();u.reject(n)}),u.promise},o=function(){r.clearAll();f.isAuth=!1;f.userName=""},l=function(){var n=r.get("authorizationData");n&&(f.isAuth=!0,f.userName=n.userName)};return e.saveRegistration=h,e.login=c,e.logOut=o,e.authentication=f,e.fillAuthData=l,e}])})(),function(){"use strict";app.factory("AuthInterceptorService",["$q","$injector","$location","localStorageService",function(n,t,i,r){var u={},f=function(n){n.headers=n.headers||{};var t=r.get("authorizationData");return t&&(n.headers.Authorization="Bearer "+t.token),n},e=function(u){if(u.status===401){var f=t.get("AuthService"),e=r.get("authorizationData");f.logOut();i.path("/login")}return n.reject(u)};return u.request=f,u.responseError=e,u}])}(),function(){app.factory("PostService",["$http","$q","$log","ngAuthSettings",function(n,t,i,r){var u={},f=r.apiDalBaseUri;return u.delete=function(i){var r=t.defer();return n.delete(f+"api/Posts/Delete/"+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.getByName=function(i){var r=t.defer();return n.get(f+"api/Posts/Search?title="+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.getById=function(i){var r=t.defer();return n.get(f+"api/Posts/Details/"+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.edit=function(i){var r=t.defer();return n.post(f+"api/Posts/Edit",i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.add=function(i){var r=t.defer();return n.post(f+"api/Posts/Add",i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.posts=function(){var i=t.defer();return n.get(f+"api/Posts/").success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise},u}])}(),function(){app.factory("CategorieService",["$http","$q","$log","ngAuthSettings",function(n,t,i,r){var u={},f=r.apiDalBaseUri;return u.categories=function(){var i=t.defer();return n.get(f+"api/Categories").success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise},u.add=function(i){var r=t.defer();return n.post(f+"api/Categories/Add",i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.edit=function(i){var r=t.defer();return n.post(f+"api/Categories/Edit",i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.delete=function(i){var r=t.defer();return n.delete(f+"api/Categories/Delete/"+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u.getById=function(i){var r=t.defer();return n.get(f+"api/Categories/Details/"+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise},u}])}(),function(){app.factory("HomeServices",["$http","$q","$log","ngAuthSettings",function(n,t,i,r){var u=r.apiDalBaseUri;return{posts:function(){var i=t.defer();return n.get(u+"api/Posts").success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise},categories:function(){var i=t.defer();return n.get(u+"api/Categories").success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise},tags:function(){var i=t.defer();return n.get(u+"api/Tags").success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise}}}])}();
//# sourceMappingURL=idea-services.min.js.map
