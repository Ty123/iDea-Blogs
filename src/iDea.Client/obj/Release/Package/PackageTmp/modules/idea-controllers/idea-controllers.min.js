(function(){"use strict";app.controller("HomeController",["$scope","AuthService",function(n){n.loading=function(){n.$parent.loading()};n.unload=function(){n.$parent.unload()}}])})(),function(){"use strict";app.controller("IndexController",["$scope","AuthService","$location","$timeout",function(n,t,i){n.authentication=t.authentication;n.regex=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})");n.loading=function(){document.getElementById("idea-loading").classList.add("fadeIn")};n.unload=function(){document.getElementById("idea-loading").classList.remove("fadeIn")};n.logout=function(){t.logOut();i.path("#/login")}}])}(),function(){"use strict";app.controller("LoginController",["$scope","$window","$timeout","AuthService","$state",function(n,t,i,r,u){n.message="";n.login=function(){n.$parent.loading();r.login({userName:n.username,password:n.password}).then(function(){n.$parent.unload();u.go("admin")},function(t){n.$parent.unload();n.message=t.error_description})}}])}(),function(){app.controller("SignupController",["$scope","$location","$timeout","AuthService","SendEmailService",function(n,t,i,r,u){n.savedSuccessfully=!1;n.message="";n.signUp=function(){n.$parent.loading();r.saveRegistration({email:n.username,password:n.password,confirmPassword:n.password}).then(function(t){var i=t.data.userId,r=t.data.code,f=n.username,e={userId:i,callbackUrlBase:"http://blog-admin.tyly.co.nz/#/activate/",code:r,destination:f,subject:"Confirm your account",body:'<p> Please confirm your account by clicking the <a href="{0}">this link<\/a>'};u.send(e).then(function(){n.message=" Please check your email [ "+n.username+" ] activate your account.";n.savedSuccessfully=!0;n.username=undefined;n.password=undefined;n.signupForm.$setValidity();n.signupForm.$setPristine();n.signupForm.$setUntouched();n.$parent.unload()},function(){n.$parent.unload()})},function(t){var r,u,i;n.$parent.unload();r=[];for(u in t.data.modelState)for(i=0;i<t.data.modelState[u].length;i++)r.push(t.data.modelState[u][i]);n.message=""+r.join(" ")})}}])}(),function(){"use strict";app.controller("ForgetController",["$scope","ForgetPwdService","SendEmailService",function(n,t,i){n.savedSuccessfully==!1;n.reset=function(){n.$parent.loading();t.reset(n.username).then(function(t){console.log(t);var r={userId:t.userId,destination:n.username,callbackUrlBase:"http://blog-admin.tyly.co.nz/#/reset/",code:t.code,subject:"Reset your password",body:'<p> Please reset your password by clicking the <a href="{0}">this link<\/a>'};i.send(r).then(function(){n.message=" Please check your email [ "+n.username+" ] to reset your password";n.savedSuccessfully=!0;n.username=undefined;n.forgetForm.$setValidity();n.forgetForm.$setPristine();n.forgetForm.$setUntouched();n.$parent.unload()},function(){n.$parent.unload()})},function(t){var u=[],r,i;if(t.data.modelState){for(r in t.data.modelState)for(i=0;i<response.data.modelState[r].length;i++)u.push(response.data.modelState[r][i]);n.message=""+u.join(" ")}else n.message=t.error_description})}}])}(),function(){app.controller("ResetController",["$scope","ResetPwdService","$stateParams","$window",function(n,t,i,r){n.reset=function(){var u={userId:i.userId,code:i.code,newPassword:n.password};n.$parent.loading();t.reset(u).then(function(){n.$parent.unload();r.location.href="#/login"},function(n){alert(JSON.stringify(n))})}}])}(),function(){app.controller("ActivateController",["$scope","$stateParams","ActivateService","$window",function(n,t,i,r){n.userId=t.userId;n.code=t.code;n.activate=function(){n.$parent.loading();var t={userId:n.userId,code:n.code};i.activate(t).then(function(){n.$parent.unload();r.location.href="#/login"},function(t){n.$parent.unload();alert(JSON.stringify(t))})}}])}(),function(){app.controller("PostController",["$scope","PostService",function(n,t){n.$on("$routeChangeSuccess",function(){t.allPosts().then(function(t){n.posts=t;console.log(n.posts)},function(){})});n.addPost=function(){}}])}(),function(){app.controller("CategoriesController",["$scope","CategoriesService","$window","$timeout",function(n,t,i){n.categories=[];n.savedSuccessfully=!1;n.message="";n.$on("$routeChangeSuccess",function(){t.categories().then(function(t){n.categories=t},function(){})});n.add=function(){var r={name:n.category,description:n.description};n.$parent.loading();t.add(r).then(function(){i.location.href="#/categories";n.$parent.unload()},function(t){var r,u,i;if(n.$parent.unload(),r=[],t.data.modelState){for(u in t.data.modelState)for(i=0;i<response.data.modelState[u].length;i++)r.push(response.data.modelState[u][i]);n.message=""+r.join(" ")}else n.message=t.error_description})};n.edit=function(){var r={id:n.id,name:n.category,description:n.description};t.edit(r).then(function(){i.location.href="#/categories";n.$parent.unload()},function(t){var r,u,i;if(n.$parent.unload(),r=[],response.data.modelState){for(u in response.data.modelState)for(i=0;i<response.data.modelState[u].length;i++)r.push(response.data.modelState[u][i]);n.message=""+r.join(" ")}else n.message=t.error_description})}}])}();
//# sourceMappingURL=idea-controllers.min.js.map
