(function(){"use strict";app.factory("AuthService",["$http","$q","$log","localStorageService","ngAuthSettings",function(n,t,i,r,u){var s=u.apiServiceBaseUri,e={},f={userName:"",isAuth:!1},h=function(t){return o(),n.post(s+"api/account/register",t).then(function(n){return n})},c=function(i){var e="grant_type=password&username="+i.userName+"&password="+i.password,u=t.defer();return n.post(s+"token",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(n){r.set("authorizationData",{token:n.access_token,userName:i.userName,isAuth:!0});f.userName=i.userName;f.isAuth=!0;u.resolve(n)}).error(function(n){o();u.reject(n)}),u.promise},o=function(){r.clearAll();f.isAuth=!1;f.userName=""},l=function(){var n=r.get("authorizationData");n&&(f.isAuth=!0,f.userName=n.userName)};return e.saveRegistration=h,e.login=c,e.logOut=o,e.authentication=f,e.fillAuthData=l,e}])})(),function(){"use strict";app.factory("AuthInterceptorService",["$q","$injector","$location","localStorageService",function(n,t,i,r){var u={},f=function(n){n.headers=n.headers||{};var t=r.get("authorizationData");return t&&(n.headers.Authorization="Bearer "+t.token),n},e=function(u){if(u.status===401){var f=t.get("AuthService"),e=r.get("authorizationData");f.logOut();i.path("/login")}return n.reject(u)};return u.request=f,u.responseError=e,u}])}(),function(){app.factory("ResetService",["$http","$q","ngAuthSettings",function(n,t,i){var u=i.apiServiceBaseUri,r={},f=function(i){var r=t.defer();return n.post(u+"api/Account/SendForgetPassword?email="+i).success(function(n){r.resolve(n)}).error(function(n){r.reject(n)}),r.promise};return r.reset=f,r}])}();
//# sourceMappingURL=idea-services.min.js.map
