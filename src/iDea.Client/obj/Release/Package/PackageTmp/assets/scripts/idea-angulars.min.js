(function(n){"use strict";function l(n){return function(){for(var i=arguments[0],u,t,r="["+(n?n+":":"")+i+"] http://errors.angularjs.org/1.5.8/"+(n?n+"/":"")+i,i=1;i<arguments.length;i++)r=r+(1==i?"?":"&")+"p"+(i-1)+"=",u=encodeURIComponent,t=arguments[i],t="function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t,r+=u(t);return Error(r)}}function kt(n){if(null==n||ur(n))return!1;if(c(n)||h(n)||e&&n instanceof e)return!0;var t="length"in Object(n)&&n.length;return w(t)&&(0<=t&&(t-1 in n||n instanceof Array)||"function"==typeof n.item)}function t(n,i,r){var u,e,o;if(n)if(f(n))for(u in n)"prototype"==u||"length"==u||"name"==u||n.hasOwnProperty&&!n.hasOwnProperty(u)||i.call(r,n[u],u,n);else if(c(n)||kt(n))for(o="object"!=typeof n,u=0,e=n.length;u<e;u++)(o||u in n)&&i.call(r,n[u],u,n);else if(n.forEach&&n.forEach!==t)n.forEach(i,r,n);else if(we(n))for(u in n)i.call(r,n[u],u,n);else if("function"==typeof n.hasOwnProperty)for(u in n)n.hasOwnProperty(u)&&i.call(r,n[u],u,n);else for(u in n)wt.call(n,u)&&i.call(r,n[u],u,n);return n}function ve(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function ye(n){return function(t,i){n(i,t)}}function bc(){return++ku}function of(n,t,i){for(var e,u,r,l=n.$$hashKey,o=0,v=t.length;o<v;++o)if(e=t[o],s(e)||f(e))for(var a=Object.keys(e),h=0,y=a.length;h<y;h++)u=a[h],r=e[u],i&&s(r)?et(r)?n[u]=new Date(r.valueOf()):rr(r)?n[u]=new RegExp(r):r.nodeName?n[u]=r.cloneNode(!0):hf(r)?n[u]=r.clone():(s(n[u])||(n[u]=c(r)?[]:{}),of(n[u],[r],!0)):n[u]=r;return l?n.$$hashKey=l:delete n.$$hashKey,n}function a(n){return of(n,bt.call(arguments,1),!1)}function kc(n){return of(n,bt.call(arguments,1),!0)}function tt(n){return parseInt(n,10)}function sf(n,t){return a(Object.create(n),t)}function o(){}function ir(n){return n}function ft(n){return function(){return n}}function pe(n){return f(n.toString)&&n.toString!==rt}function r(n){return"undefined"==typeof n}function u(n){return"undefined"!=typeof n}function s(n){return null!==n&&"object"==typeof n}function we(n){return null!==n&&"object"==typeof n&&!oh(n)}function h(n){return"string"==typeof n}function w(n){return"number"==typeof n}function et(n){return"[object Date]"===rt.call(n)}function f(n){return"function"==typeof n}function rr(n){return"[object RegExp]"===rt.call(n)}function ur(n){return n&&n.window===n}function fr(n){return n&&n.$evalAsync&&n.$watch}function ui(n){return"boolean"==typeof n}function dc(n){return n&&w(n.length)&&bv.test(rt.call(n))}function hf(n){return!(!n||!(n.nodeName||n.prop&&n.attr&&n.find))}function gc(n){var i={},t;for(n=n.split(","),t=0;t<n.length;t++)i[n[t]]=!0;return i}function at(n){return v(n.nodeName||n[0]&&n[0].nodeName)}function er(n,t){var i=n.indexOf(t);return 0<=i&&n.splice(i,1),i}function dt(n,i){function o(n,t){var u=t.$$hashKey,i,f;if(c(n))for(i=0,f=n.length;i<f;i++)t.push(r(n[i]));else if(we(n))for(i in n)t[i]=r(n[i]);else if(n&&"function"==typeof n.hasOwnProperty)for(i in n)n.hasOwnProperty(i)&&(t[i]=r(n[i]));else for(i in n)wt.call(n,i)&&(t[i]=r(n[i]));return u?t.$$hashKey=u:delete t.$$hashKey,t}function r(n){var t,i;if(!s(n))return n;if(t=u.indexOf(n),-1!==t)return e[t];if(ur(n)||fr(n))throw hi("cpws");return t=!1,i=h(n),void 0===i&&(i=c(n)?[]:Object.create(oh(n)),t=!0),u.push(n),e.push(i),t?o(n,i):i}function h(n){switch(rt.call(n)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new n.constructor(r(n.buffer),n.byteOffset,n.length);case"[object ArrayBuffer]":if(!n.slice){var t=new ArrayBuffer(n.byteLength);return new Uint8Array(t).set(new Uint8Array(n)),t}return n.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new n.constructor(n.valueOf());case"[object RegExp]":return t=new RegExp(n.source,n.toString().match(/[^\/]*$/)[0]),t.lastIndex=n.lastIndex,t;case"[object Blob]":return new n.constructor([n],{type:n.type})}if(f(n.cloneNode))return n.cloneNode(!0)}var u=[],e=[];if(i){if(dc(i)||"[object ArrayBuffer]"===rt.call(i))throw hi("cpta");if(n===i)throw hi("cpi");return c(i)?i.length=0:t(i,function(n,t){"$$hashKey"!==t&&delete i[t]}),u.push(n),e.push(i),o(n,i)}return r(n)}function ot(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!==n&&t!==t)return!0;var r=typeof n,i;if(r==typeof t&&"object"==r)if(c(n)){if(!c(t))return!1;if((r=n.length)==t.length){for(i=0;i<r;i++)if(!ot(n[i],t[i]))return!1;return!0}}else{if(et(n))return et(t)?ot(n.getTime(),t.getTime()):!1;if(rr(n))return rr(t)?n.toString()==t.toString():!1;if(fr(n)||fr(t)||ur(n)||ur(t)||c(t)||et(t)||rr(t))return!1;r=y();for(i in n)if("$"!==i.charAt(0)&&!f(n[i])){if(!ot(n[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&u(t[i])&&!f(t[i]))return!1;return!0}return!1}function or(n,t,i){return n.concat(bt.call(t,i))}function sr(n,t){var i=2<arguments.length?bt.call(arguments,2):[];return!f(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,or(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function nl(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:ur(i)?r="$WINDOW":i&&n.document===i?r="$DOCUMENT":fr(i)&&(r="$SCOPE"),r}function hr(n,t){if(!r(n))return w(t)||(t=t?2:null),JSON.stringify(n,nl,t)}function be(n){return h(n)?JSON.parse(n):n}function ke(n,t){n=n.replace(kv,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function cf(n,t,i){i=i?-1:1;var r=n.getTimezoneOffset();return t=ke(t,r),i*=t-r,n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+i),n}function vt(n){n=e(n).clone();try{n.empty()}catch(i){}var t=e("<div>").append(n).html();try{return n[0].nodeType===di?v(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(n,t){return"<"+v(t)})}catch(r){return v(t)}}function de(n){try{return decodeURIComponent(n)}catch(t){}}function ge(n){var i={};return t((n||"").split("&"),function(n){var f,t,r;n&&(t=n=n.replace(/\+/g,"%20"),f=n.indexOf("="),-1!==f&&(t=n.substring(0,f),r=n.substring(f+1)),t=de(t),u(t)&&(r=u(r)?de(r):!0,wt.call(i,t)?c(i[t])?i[t].push(r):i[t]=[i[t],r]:i[t]=r))}),i}function lf(n){var i=[];return t(n,function(n,r){c(n)?t(n,function(n){i.push(ht(r,!0)+(!0===n?"":"="+ht(n,!0)))}):i.push(ht(r,!0)+(!0===n?"":"="+ht(n,!0)))}),i.length?i.join("&"):""}function tu(n){return ht(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ht(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function tl(n,t){for(var i,u=ki.length,r=0;r<u;++r)if(i=ki[r]+t,h(i=n.getAttribute(i)))return i;return null}function il(n,i){var r,u,f={};t(ki,function(t){t+="app";!r&&n.hasAttribute&&n.hasAttribute(t)&&(r=n,u=n.getAttribute(t))});t(ki,function(t){t+="app";var i;!r&&(i=n.querySelector("["+t.replace(":","\\:")+"]"))&&(r=i,u=i.getAttribute(t))});r&&(f.strictDi=null!==tl(r,"strict-di"),i(r,u?[u]:[],f))}function no(i,r,u){s(u)||(u={});u=a({strictDi:!1},u);var o=function(){if(i=e(i),i.injector()){var t=i[0]===n.document?"document":vt(i);throw hi("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"));}return r=r||[],r.unshift(["$provide",function(n){n.value("$rootElement",i)}]),u.debugInfoEnabled&&r.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),r.unshift("ng"),t=ar(r,u.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),t},h=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;if(n&&h.test(n.name)&&(u.debugInfoEnabled=!0,n.name=n.name.replace(h,"")),n&&!c.test(n.name))return o();n.name=n.name.replace(c,"");ut.resumeBootstrap=function(n){return t(n,function(n){r.push(n)}),o()};f(ut.resumeDeferredBootstrap)&&ut.resumeDeferredBootstrap()}function rl(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function ul(n){if(n=ut.element(n).injector(),!n)throw hi("test");return n.get("$$testability")}function to(n,t){return t=t||"_",n.replace(dv,function(n,i){return(i?t:"")+n.toLowerCase()})}function fl(){var i,t;hh||(t=du(),(ii=r(t)?n.jQuery:t?n[t]:void 0)&&ii.fn.on?(e=ii,a(ii.fn,{scope:nr.scope,isolateScope:nr.isolateScope,controller:nr.controller,injector:nr.injector,inheritedData:nr.inheritedData}),i=ii.cleanData,ii.cleanData=function(n){for(var r,u=0,t;null!=(t=n[u]);u++)(r=ii._data(t,"events"))&&r.$destroy&&ii(t).triggerHandler("$destroy");i(n)}):e=b,ut.element=e,hh=!0)}function iu(n,t,i){if(!n)throw hi("areq",t||"?",i||"required");return n}function vi(n,t,i){return i&&c(n)&&(n=n[n.length-1]),iu(f(n),t,"not a function, got "+(n&&"object"==typeof n?n.constructor.name||"Object":typeof n)),n}function yi(n,t){if("hasOwnProperty"===n)throw hi("badname",t);}function io(n,t,i){if(!t)return n;t=t.split(".");for(var u,e=n,o=t.length,r=0;r<o;r++)u=t[r],n&&(n=(e=n)[u]);return!i&&f(n)?sr(e,n):n}function ru(n){for(var t=n[0],u=n[n.length-1],i,r=1;t!==u&&(t=t.nextSibling);r++)(i||n[r]!==t)&&(i||(i=e(bt.call(n,0,r))),i.push(t));return i||n}function y(){return Object.create(null)}function el(n){function t(n,t,i){return n[t]||(n[t]=i())}var i=l("$injector"),r=l("ng");return n=t(n,"angular",Object),n.$$minErr=n.$$minErr||l,t(n,"module",function(){var n={};return function(u,e,o){if("hasOwnProperty"===u)throw r("badname","module");return e&&n.hasOwnProperty(u)&&(n[u]=null),t(n,u,function(){function t(n,t,i,u){return u||(u=r),function(){return u[i||"push"]([n,t,arguments]),s}}function n(n,t){return function(i,e){return e&&f(e)&&(e.$$moduleName=u),r.push([n,t,arguments]),s}}if(!e)throw i("nomod",u);var r=[],h=[],c=[],l=t("$injector","invoke","push",h),s={_invokeQueue:r,_configBlocks:h,_runBlocks:c,requires:e,name:u,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(n){return c.push(n),this}};return o&&l(o),s})}})}function st(n,t){if(c(n)){t=t||[];for(var i=0,r=n.length;i<r;i++)t[i]=n[i]}else if(s(n))for(i in t=t||{},n)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=n[i]);return t||n}function ol(i){a(i,{bootstrap:no,copy:dt,extend:a,merge:kc,equals:ot,element:e,forEach:t,injector:ar,noop:o,bind:sr,toJson:hr,fromJson:be,identity:ir,isUndefined:r,isDefined:u,isString:h,isFunction:f,isObject:s,isNumber:w,isElement:hf,isArray:c,version:gv,isDate:et,lowercase:v,uppercase:bu,callbacks:{$$counter:0},getTestability:ul,$$minErr:l,$$csp:ci,reloadWithDebugInfo:rl});ue=el(n);ue("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:da});n.provider("$compile",ao).directive({a:tc,input:hc,textarea:hc,form:pp,script:yb,select:bb,style:db,option:kb,ngBind:iw,ngBindHtml:uw,ngBindTemplate:rw,ngClass:ew,ngClassEven:sw,ngClassOdd:ow,ngCloak:hw,ngController:cw,ngForm:wp,ngHide:ob,ngIf:aw,ngInclude:vw,ngInit:pw,ngNonBindable:nb,ngPluralize:ub,ngRepeat:fb,ngShow:eb,ngStyle:sb,ngSwitch:hb,ngSwitchWhen:cb,ngSwitchDefault:lb,ngOptions:rb,ngTransclude:vb,ngModel:kw,ngList:ww,ngChange:fw,pattern:yc,ngPattern:yc,required:vc,ngRequired:vc,minlength:wc,ngMinlength:wc,maxlength:pc,ngMaxlength:pc,ngValue:tw,ngModelOptions:gw}).directive({ngInclude:yw}).directive(kr).directive(cc);n.provider({$anchorScroll:yl,$animate:yy,$animateCss:by,$$animateJs:ay,$$animateQueue:vy,$$AnimateRunner:wy,$$animateAsyncRun:py,$browser:bl,$cacheFactory:kl,$controller:gl,$document:na,$exceptionHandler:ta,$filter:ps,$$forceReflow:dy,$interpolate:sa,$interval:ha,$http:ua,$httpParamSerializer:ia,$httpParamSerializerJQLike:ra,$httpBackend:ea,$xhrFactory:fa,$jsonpCallbacks:rp,$location:ca,$log:la,$parse:ya,$rootScope:ka,$q:pa,$$q:wa,$sce:tv,$sceDelegate:nv,$sniffer:iv,$templateCache:dl,$templateRequest:rv,$$testability:uv,$timeout:fv,$window:ev,$$rAF:ba,$$jqLite:al,$$HashMap:ey,$$cookieReader:ov})}])}function cr(n){return n.replace(ny,function(n,t,i,r){return r?i.toUpperCase():i}).replace(ty,"Moz$1")}function ro(n){return n=n.nodeType,1===n||!n||9===n}function uo(n,i){var u,r,f=i.createDocumentFragment(),e=[];if(ee.test(n)){for(u=f.appendChild(i.createElement("div")),r=(ry.exec(n)||["",""])[1].toLowerCase(),r=ct[r]||ct._default,u.innerHTML=r[1]+n.replace(uy,"<$1><\/$2>")+r[2],r=r[0];r--;)u=u.lastChild;e=or(e,u.childNodes);u=f.firstChild;u.textContent=""}else e.push(i.createTextNode(n));return f.textContent="",f.innerHTML="",t(e,function(n){f.appendChild(n)}),f}function fo(n,t){var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)}function b(t){var i,r;if(t instanceof b)return t;if(h(t)&&(t=p(t),i=!0),!(this instanceof b)){if(i&&"<"!=t.charAt(0))throw fe("nosel");return new b(t)}i&&(i=n.document,t=(r=iy.exec(t))?[i.createElement(r[1])]:(r=uo(t,i))?r.childNodes:[]);oo(this,t)}function af(n){return n.cloneNode(!0)}function uu(n,t){if(t||lr(n),n.querySelectorAll)for(var r=n.querySelectorAll("*"),i=0,u=r.length;i<u;i++)lr(r[i])}function eo(n,i,r,f){var e,o,s;if(u(f))throw fe("offargs");if(e=(f=fu(n))&&f.events,o=f&&f.handle,o)if(i)s=function(t){var i=e[t];u(r)&&er(i||[],r);u(r)&&i&&0<i.length||(n.removeEventListener(t,o,!1),delete e[t])},t(i.split(" "),function(n){s(n);gu[n]&&s(gu[n])});else for(i in e)"$destroy"!==i&&n.removeEventListener(i,o,!1),delete e[i]}function lr(n,t){var r=n.ng339,i=r&&gi[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),eo(n)),delete gi[r],n.ng339=void 0))}function fu(n,t){var i=n.ng339,i=i&&gi[i];return t&&!i&&(n.ng339=i=++ch,i=gi[i]={events:{},data:{},handle:void 0}),i}function vf(n,t,i){if(ro(n)){var r=u(i),f=!r&&t&&!s(t),e=!t;if(n=(n=fu(n,!f))&&n.data,r)n[t]=i;else{if(e)return n;if(f)return n&&n[t];a(n,t)}}}function eu(n,t){return n.getAttribute?-1<(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function ou(n,i){i&&n.setAttribute&&t(i.split(" "),function(t){n.setAttribute("class",p((" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+p(t)+" "," ")))})}function su(n,i){if(i&&n.setAttribute){var r=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");t(i.split(" "),function(n){n=p(n);-1===r.indexOf(" "+n+" ")&&(r+=n+" ")});n.setAttribute("class",p(r))}}function oo(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,"number"==typeof i&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function so(n,t){return hu(n,"$"+(t||"ngController")+"Controller")}function hu(n,t,i){for(9==n.nodeType&&(n=n.documentElement),t=c(t)?t:[t];n;){for(var r=0,f=t.length;r<f;r++)if(u(i=e.data(n,t[r])))return i;n=n.parentNode||11===n.nodeType&&n.host}}function ho(n){for(uu(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function cu(n,t){t||uu(n);var i=n.parentNode;i&&i.removeChild(n)}function sl(t,i){if(i=i||n,"complete"===i.document.readyState)i.setTimeout(t);else e(i).on("load",t)}function co(n,t){var i=nf[t.toLowerCase()];return i&&oe[at(n)]&&i}function hl(n,t){var i=function(i,u){var f,e,s,h,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},f=t[u||i.type],e=f?f.length:0,e)for(r(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped},h=f.specialHandlerWrapper||cl,1<e&&(f=st(f)),o=0;o<e;o++)i.isImmediatePropagationStopped()||h(n,i,f[o])};return i.elem=n,i}function cl(n,t,i){i.call(n,t)}function ll(n,t,i){var r=t.relatedTarget;r&&(r===n||fy.call(n,r))||i.call(n,t)}function al(){this.$get=function(){return a(b,{hasClass:function(n,t){return n.attr&&(n=n[0]),eu(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),su(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),ou(n,t)}})}}function fi(n,t){var i=n&&n.$$hashKey;return i?("function"==typeof i&&(i=n.$$hashKey()),i):(i=typeof n,"function"==i||"object"==i&&null!==n?n.$$hashKey=i+":"+(t||bc)():i+":"+n)}function pi(n,i){if(i){var r=0;this.nextUid=function(){return++r}}t(n,this.put,this)}function lo(n){return n=(Function.prototype.toString.call(n)+" ").replace(ly,""),n.match(oy)||n.match(sy)}function vl(n){return(n=lo(n))?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ar(n,i){function l(n){return function(i,r){if(s(i))t(i,ye(n));else return n(i,r)}}function w(n,t){if(yi(n,"service"),(f(t)||c(t))&&(t=o.instantiate(t)),!t.$get)throw li("pget",n);return e[n+"Provider"]=t}function tt(n,t){return function(){var i=u.invoke(t,this);if(r(i))throw li("undef",n);return i}}function v(n,t,i){return w(n,{$get:!1!==i?tt(n,t):t})}function b(n){iu(r(n)||c(n),"modulesToLoad","not an array");var i=[],u;return t(n,function(n){function r(n){for(var i,r,t=0,u=n.length;t<u;t++)i=n[t],r=o.get(i[0]),r[i[1]].apply(r,i[2])}if(!d.get(n)){d.put(n,!0);try{h(n)?(u=ue(n),i=i.concat(b(u.requires)).concat(u._runBlocks),r(u._invokeQueue),r(u._configBlocks)):f(n)?i.push(o.invoke(n)):c(n)?i.push(o.invoke(n)):vi(n,"module")}catch(t){throw c(n)&&(n=n[n.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),li("modulerr",n,t.stack||t.message||t);}}}),i}function k(n,t){function r(i,r){if(n.hasOwnProperty(i)){if(n[i]===y)throw li("cdep",i+" <- "+a.join(" <- "));return n[i]}try{return a.unshift(i),n[i]=y,n[i]=t(i,r)}catch(u){throw n[i]===y&&delete n[i],u;}finally{a.shift()}}function u(n,t,u){var o=[],e,s,f;for(n=ar.$$annotate(n,i,u),e=0,s=n.length;e<s;e++){if(f=n[e],"string"!=typeof f)throw li("itkn",f);o.push(t&&t.hasOwnProperty(f)?t[f]:r(f,u))}return o}return{invoke:function(n,t,i,r){return"string"==typeof i&&(r=i,i=null),i=u(n,i,r),c(n)&&(n=n[n.length-1]),r=11>=ti?!1:"function"==typeof n&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(n)+" "),r?(i.unshift(null),new(Function.prototype.bind.apply(n,i))):n.apply(t,i)},instantiate:function(n,t,i){var r=c(n)?n[n.length-1]:n;return n=u(n,t,i),n.unshift(null),new(Function.prototype.bind.apply(r,n))},get:r,annotate:ar.$$annotate,has:function(t){return e.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}var nt,u;i=!0===i;var y={},a=[],d=new pi([],!0),e={$provide:{provider:l(w),factory:l(v),service:l(function(n,t){return v(n,["$injector",function(n){return n.instantiate(t)}])}),value:l(function(n,t){return v(n,ft(t),!1)}),constant:l(function(n,t){yi(n,"constant");e[n]=t;g[n]=t}),decorator:function(n,t){var i=o.get(n+"Provider"),r=i.$get;i.$get=function(){var n=u.invoke(r,i);return u.invoke(t,null,{$delegate:n})}}}},o=e.$injector=k(e,function(n,t){ut.isString(t)&&a.push(t);throw li("unpr",a.join(" <- "));}),g={},p=k(g,function(n,t){var i=o.get(n+"Provider",t);return u.invoke(i.$get,i,void 0,n)}),u=p;return e.$injectorProvider={$get:ft(p)},nt=b(n),u=p.get("$injector"),u.strictDi=i,t(nt,function(n){n&&u.invoke(n)}),u}function yl(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function s(n){var t=null;return Array.prototype.some.call(n,function(n){if("a"===at(n))return t=n,!0}),t}function u(n){if(n){n.scrollIntoView();var i;i=e.yOffset;f(i)?i=i():hf(i)?(i=i[0],i="fixed"!==t.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):w(i)||(i=0);i&&(n=n.getBoundingClientRect().top,t.scrollBy(0,n-i))}else t.scrollTo(0,0)}function e(n){n=h(n)?n:i.hash();var t;n?(t=o.getElementById(n))?u(t):(t=s(o.getElementsByName(n)))?u(t):"top"===n&&u(null):u(null)}var o=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){n===t&&""===n||sl(function(){r.$evalAsync(e)})}),e}]}function vr(n,t){return!n&&!t?"":n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t}function pl(n){h(n)&&(n=n.split(" "));var i=y();return t(n,function(n){n.length&&(i[n]=!0)}),i}function ei(n){return s(n)?n:{}}function wl(n,i,u,f){function k(n){try{n.apply(null,bt.call(arguments,1))}finally{if(l--,0===l)for(;b.length;)try{b.pop()()}catch(t){u.error(t)}}}function d(){y=null;g();tt()}function g(){h=st();h=r(h)?null:h;ot(h,nt)&&(h=nt);nt=h}function tt(){(v!==s.url()||a!==h)&&(v=s.url(),a=h,t(it,function(n){n(s.url(),h)}))}var s=this,c=n.location,p=n.history,ut=n.setTimeout,ft=n.clearTimeout,w={},l,b;s.isMock=!1;l=0;b=[];s.$$completeOutstandingRequest=k;s.$$incOutstandingRequestCount=function(){l++};s.notifyWhenNoOutstandingRequests=function(n){0===l?n():b.push(n)};var h,a,v=c.href,et=i.find("base"),y=null,st=f.history?function(){try{return p.state}catch(n){}}:o;g();a=h;s.url=function(t,i,u){var o,e;return(r(u)&&(u=null),c!==n.location&&(c=n.location),p!==n.history&&(p=n.history),t)?(o=a===u,v===t&&(!f.history||o))?s:(e=v&&oi(v)===oi(t),v=t,a=u,!f.history||e&&o?(e||(y=t),i?c.replace(t):e?(i=c,u=t.indexOf("#"),u=-1===u?"":t.substr(u),i.hash=u):c.href=t,c.href!==t&&(y=t)):(p[i?"replaceState":"pushState"](u,"",t),g(),a=h),y&&(y=t),s):y||c.href.replace(/%27/g,"'")};s.state=function(){return h};var it=[],rt=!1,nt=null;s.onUrlChange=function(t){if(!rt){if(f.history)e(n).on("popstate",d);e(n).on("hashchange",d);rt=!0}return it.push(t),t};s.$$applicationDestroyed=function(){e(n).off("hashchange popstate",d)};s.$$checkUrlChange=tt;s.baseHref=function(){var n=et.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};s.defer=function(n,t){var i;return l++,i=ut(function(){delete w[i];k(n)},t||0),w[i]=!0,i};s.defer.cancel=function(n){return w[n]?(delete w[n],ft(n),k(o),!0):!1}}function bl(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new wl(n,r,t,i)}]}function kl(){this.$get=function(){function i(t,i){function v(n){n!=o&&(u?u==n&&(u=n.n):u=n,c(n.n,n.p),c(n,o),o=n,o.n=null)}function c(n,t){n!=t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw l("$cacheFactory")("iid",t);var s=0,p=a({},i,{id:t}),f=y(),h=i&&i.capacity||Number.MAX_VALUE,e=y(),o=null,u=null;return n[t]={put:function(n,t){if(!r(t)){if(h<Number.MAX_VALUE){var i=e[n]||(e[n]={key:n});v(i)}return n in f||s++,f[n]=t,s>h&&this.remove(u.key),t}},get:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;v(t)}return f[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;t==o&&(o=t.p);t==u&&(u=t.n);c(t.n,t.p);delete e[n]}n in f&&(delete f[n],s--)},removeAll:function(){f=y();s=0;e=y();o=u=null},destroy:function(){e=p=f=null;delete n[t]},info:function(){return a({},p,{size:s})}}}var n={};return i.info=function(){var i={};return t(n,function(n,t){i[t]=n.info()}),i},i.get=function(t){return n[t]},i}}function dl(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function ao(i,l){function d(n,i,r){var f=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,u=y();return t(n,function(n,t){if(n in nt)u[t]=nt[n];else{var e=n.match(f);if(!e)throw g("iscp",i,t,n,r?"controller bindings definition":"isolate scope definition");u[t]={mode:e[1][0],collection:"*"===e[2],optional:"?"===e[3],attrName:e[4]||t};e[4]&&(nt[n]=u[t])}}),u}function it(n){var t=n.charAt(0);if(!t||t!==v(t))throw g("baddir",n);if(n!==n.trim())throw g("baddir",n);}function ut(n){var i=n.require||n.controller&&n.name;return!c(i)&&s(i)&&t(i,function(n,t){var r=n.match(tt);n.substring(r[0].length)||(i[t]=r[0]+t)}),i}var b={},et=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,st=/(([\w\-]+)(?:\:([^;]+))?;?)/,ht=gc("ngSrc,ngSrcset,src,srcset"),tt=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,ct=/^(on[a-z]+|formaction)$/,nt=y(),w,k;this.directive=function lt(n,r){return yi(n,"directive"),h(n)?(it(n),iu(r,"directiveFactory"),b.hasOwnProperty(n)||(b[n]=[],i.factory(n+"Directive",["$injector","$exceptionHandler",function(i,r){var u=[];return t(b[n],function(t,e){try{var o=i.invoke(t);f(o)?o={compile:ft(o)}:!o.compile&&o.link&&(o.compile=ft(o.link));o.priority=o.priority||0;o.index=e;o.name=o.name||n;o.require=ut(o);o.restrict=o.restrict||"EA";o.$$moduleName=t.$$moduleName;u.push(o)}catch(s){r(s)}}),u}])),b[n].push(r)):t(n,ye(lt)),this};this.component=function(n,i){function r(n){function r(t){return f(t)||c(t)?function(i,r){return n.invoke(t,this,{$element:i,$attrs:r})}:t}var o=i.template||i.templateUrl?i.template:"",e={controller:u,controllerAs:po(i.controller)||i.controllerAs||"$ctrl",template:r(o),templateUrl:r(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return t(i,function(n,t){"$"===t.charAt(0)&&(e[t]=n)}),e}var u=i.controller||function(){};return t(i,function(n,t){"$"===t.charAt(0)&&(r[t]=n,f(u)&&(u[t]=n))}),r.$inject=["$injector"],this.directive(n,r)};this.aHrefSanitizationWhitelist=function(n){return u(n)?(l.aHrefSanitizationWhitelist(n),this):l.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(l.imgSrcSanitizationWhitelist(n),this):l.imgSrcSanitizationWhitelist()};w=!0;this.debugInfoEnabled=function(n){return u(n)?(w=n,this):w};k=10;this.onChangesTtl=function(n){return arguments.length?(k=n,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(i,l,nt,it,ut,ft,lt,pt,kt,dt){function ar(){try{if(!--or)throw ni=void 0,g("infchng",k);lt.$apply(function(){for(var n=[],t=0,i=ni.length;t<i;++t)try{ni[t]()}catch(r){n.push(r)}if(ni=void 0,n.length)throw n;})}finally{or++}}function si(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n}function vr(n,t,i){ur.innerHTML="<span "+t+">";t=ur.firstChild.attributes;var r=t[0];t.removeNamedItem(r.name);r.value=i;n.attributes.setNamedItem(r)}function hi(n,t){try{n.addClass(t)}catch(i){}}function gt(t,i,r,u,f){var h,c,o;t instanceof e||(t=e(t));for(var s=0,l=t.length;s<l;s++)h=t[s],h.nodeType===di&&h.nodeValue.match(/\S+/)&&fo(h,t[s]=n.document.createElement("span"));return c=ci(t,i,t,r,u,f),gt.$$addScopeClass(t),o=null,function(n,i,r){var u,s,h;if(iu(n,"scope"),f&&f.needsNewScope&&(n=n.$parent.$new()),r=r||{},u=r.parentBoundTranscludeFn,s=r.transcludeControllers,r=r.futureParentElement,u&&u.$$boundTransclude&&(u=u.$$boundTransclude),o||(o=(r=r&&r[0])?"foreignobject"!==at(r)&&rt.call(r).match(/SVG/)?"svg":"html":"html"),r="html"!==o?e(vi(o,e("<div>").append(t).html())):i?nr.clone.call(t):t,s)for(h in s)r.data("$"+h+"Controller",s[h].instance);return gt.$$addScopeInfo(r,n),i&&i(r,n),c&&c(n,r,r,u),r}}function ci(n,t,i,r,u,f){function y(n,i,r,u){var s,h,c,f,v,y,l;if(a)for(l=Array(i.length),f=0;f<o.length;f+=3)s=o[f],l[s]=i[s];else l=i;for(f=0,v=o.length;f<v;)h=l[o[f++]],i=o[f++],s=o[f++],i?(i.scope?(c=n.$new(),gt.$$addScopeInfo(e(h),c)):c=n,y=i.transcludeOnThisElement?ri(n,i.transclude,u):!i.templateOnThisElement&&u?u:!u&&t?ri(n,t):null,i(s,c,h,r,y)):s&&s(n,h.childNodes,void 0,u)}for(var o=[],s,c,l,v,a,h=0;h<n.length;h++)s=new si,c=li(n[h],[],s,0===h?r:void 0,u),(f=c.length?bi(c,n[h],s,t,i,null,[],[],f):null)&&f.scope&&gt.$$addScopeClass(s.$$element),s=f&&f.terminal||!(l=n[h].childNodes)||!l.length?null:ci(l,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:t),(f||s)&&(o.push(h,f,s),v=!0,a=a||f),f=null;return v?y:null}function ri(n,t,i){function u(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}var f=u.$$slots=y();for(var r in t.$$slots)f[r]=t.$$slots[r]?ri(n,t.$$slots[r],i):null;return u}function li(n,t,i,r,u){var o=i.$attr,y,w;switch(n.nodeType){case 1:ei(t,yt(at(n)),"E",r,u);for(var f,e,c,l,a=n.attributes,v=0,b=a&&a.length;v<b;v++)y=!1,w=!1,f=a[v],e=f.name,c=p(f.value),f=yt(e),(l=ru.test(f))&&(e=e.replace(ah,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),(f=f.match(uu))&&wr(f[1])&&(y=e,w=e.substr(0,e.length-5)+"end",e=e.substr(0,e.length-6)),f=yt(e.toLowerCase()),o[f]=e,(l||!i.hasOwnProperty(f))&&(i[f]=c,co(n,f)&&(i[f]=!0)),nu(n,t,c,f,l),ei(t,f,"A",r,u,y,w);if(o=n.className,s(o)&&(o=o.animVal),h(o)&&""!==o)for(;n=st.exec(o);)f=yt(n[2]),ei(t,f,"C",r,u)&&(i[f]=p(n[3])),o=o.substr(n.index+n[0].length);break;case di:if(11===ti)for(;n.parentNode&&n.nextSibling&&n.nextSibling.nodeType===di;)n.nodeValue+=n.nextSibling.nodeValue,n.parentNode.removeChild(n.nextSibling);dr(t,n.nodeValue);break;case 8:yr(n,t,i,r,u)}return t.sort(kr),t}function yr(n,t,i,r,u){var f,e;try{f=et.exec(n.nodeValue);f&&(e=yt(f[1]),ei(t,e,"M",r,u)&&(i[e]=p(f[2])))}catch(o){}}function pi(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw g("uterdir",t,i);1==n.nodeType&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(0<u)}else r.push(n);return e(r)}function wi(n,t,i){return function(r,u,f,e,o){return u=pi(u[0],t,i),n(r,u,f,e,o)}}function ai(n,t,i,r,u,f){var e;return n?gt(t,i,r,u,f):function(){return e||(e=gt(t,i,r,u,f),t=i=f=null),e.apply(this,arguments)}}function bi(n,i,u,o,h,l,v,w,b){function ur(n,t,i,r){n&&(i&&(n=wi(n,i,r)),n.require=k.require,n.directiveName=ot,(d===k||k.$$isolateScope)&&(n=tr(n,{isolateScope:!0})),v.push(n));t&&(i&&(t=wi(t,i,r)),t.require=k.require,t.directiveName=ot,(d===k||k.$$isolateScope)&&(t=tr(t,{isolateScope:!0})),w.push(t))}function lt(n,o,h,l,y){function at(n,t,i,u){var e,f;if(fr(n)||(u=i,i=t,t=n,n=void 0),ri&&(e=rt),i||(i=ri?b.parent():b),u){if(f=y.$$slots[u],f)return f(n,t,e,i,ht);if(r(f))throw g("noslot",u,vt(b));}else return y(n,t,e,i,ht)}var k,tt,p,it,ft,rt,ot,b,ct,lt,ht;i===h?(l=u,b=u.$$element):(b=e(h),l=new si(b,u));ft=o;d?it=o.$new(!0):ut&&(ft=o.$parent);y&&(ot=at,ot.$$boundTransclude=y,ot.isSlotFilled=function(n){return!!y.$$slots[n]});et&&(rt=pr(b,l,ot,et,it,o,d));d&&(gt.$$addScopeInfo(b,it,!0,!(st&&(st===d||st===d.$$originalDirective))),gt.$$addScopeClass(b,!0),it.$$isolateBindings=d.$$isolateBindings,tt=yi(o,l,it,it.$$isolateBindings,d),tt.removeWatches&&it.$on("$destroy",tt.removeWatches));for(k in rt)tt=et[k],p=rt[k],ct=tt.$$bindings.bindToController,p.bindingInfo=p.identifier&&ct?yi(ft,l,p.instance,ct,tt):{},lt=p(),lt!==p.instance&&(p.instance=lt,b.data("$"+tt.name+"Controller",lt),p.bindingInfo.removeWatches&&p.bindingInfo.removeWatches(),p.bindingInfo=yi(ft,l,p.instance,ct,tt));for(t(et,function(n,t){var i=n.require;n.bindToController&&!c(i)&&s(i)&&a(rt[t].instance,fi(t,i,b,rt))}),t(rt,function(n){var t=n.instance;if(f(t.$onChanges))try{t.$onChanges(n.bindingInfo.initialChanges)}catch(i){nt(i)}if(f(t.$onInit))try{t.$onInit()}catch(r){nt(r)}f(t.$doCheck)&&(ft.$watch(function(){t.$doCheck()}),t.$doCheck());f(t.$onDestroy)&&ft.$on("$destroy",function(){t.$onDestroy()})}),k=0,tt=v.length;k<tt;k++)p=v[k],rr(p,p.isolateScope?it:o,b,l,p.require&&fi(p.directiveName,p.require,b,rt),ot);for(ht=o,d&&(d.template||null===d.templateUrl)&&(ht=it),n&&n(ht,h.childNodes,void 0,y),k=w.length-1;0<=k;k--)p=w[k],rr(p,p.isolateScope?it:o,b,l,p.require&&fi(p.directiveName,p.require,b,rt),ot);t(rt,function(n){n=n.instance;f(n.$postLink)&&n.$postLink()})}var ni,ei,ft,ir,hi,ci,er,bi;b=b||{};for(var dt=-Number.MAX_VALUE,ut=b.newScopeDirective,et=b.controllerDirectives,d=b.newIsolateScopeDirective,st=b.templateDirective,ti=b.nonTlbTranscludeDirective,di=!1,nr=!1,ri=b.hasElementTranscludeDirective,tt=u.$$element=e(i),k,ot,rt,pt=o,wt,ht=!1,ui=!1,it,ct=0,kt=n.length;ct<kt;ct++){if(k=n[ct],ni=k.$$start,ei=k.$$end,ni&&(tt=pi(i,ni,ei)),rt=void 0,dt>k.priority)break;if((it=k.scope)&&(k.templateUrl||(s(it)?(ii("new/isolated scope",d||ut,k,tt),d=k):ii("new/isolated scope",d,k,tt)),ut=ut||k),ot=k.name,!ht&&(k.replace&&(k.templateUrl||k.template)||k.transclude&&!k.$$tlb)){for(it=ct+1;ht=n[it++];)if(ht.transclude&&!ht.$$tlb||ht.replace&&(ht.templateUrl||ht.template)){ui=!0;break}ht=!0}if(!k.templateUrl&&k.controller&&(it=k.controller,et=et||y(),ii("'"+ot+"' controller",et[ot],k,tt),et[ot]=k),it=k.transclude)if(di=!0,k.$$tlb||(ii("transclusion",ti,k,tt),ti=k),"element"==it)ri=!0,dt=k.priority,rt=tt,tt=u.$$element=e(gt.$$createComment(ot,u[ot])),i=tt[0],oi(h,bt.call(rt,0),i),rt[0].$$parentNode=rt[0].parentNode,pt=ai(ui,rt,o,dt,l&&l.name,{nonTlbTranscludeDirective:ti});else{if(ft=y(),rt=e(af(i)).contents(),s(it)){rt=[];ir=y();hi=y();t(it,function(n,t){var i="?"===n.charAt(0);n=i?n.substring(1):n;ir[n]=t;ft[t]=null;hi[t]=i});t(tt.contents(),function(n){var t=ir[yt(at(n))];t?(hi[t]=!0,ft[t]=ft[t]||[],ft[t].push(n)):rt.push(n)});t(hi,function(n,t){if(!n)throw g("reqslot",t);});for(ci in ft)ft[ci]&&(ft[ci]=ai(ui,ft[ci],o))}tt.empty();pt=ai(ui,rt,o,void 0,void 0,{needsNewScope:k.$$isolateScope||k.$$newScope});pt.$$slots=ft}if(k.template)if(nr=!0,ii("template",st,k,tt),st=k,it=f(k.template)?k.template(tt,u):k.template,it=lr(it),k.replace){if(l=k,rt=ee.test(it)?yo(vi(k.templateNamespace,p(it))):[],i=rt[0],1!=rt.length||1!==i.nodeType)throw g("tplrt",ot,"");oi(h,tt,i);kt={$attr:{}};it=li(i,[],kt);er=n.splice(ct+1,n.length-(ct+1));(d||ut)&&ki(it,d,ut);n=n.concat(it).concat(er);gi(u,kt);kt=n.length}else tt.html(it);if(k.templateUrl)nr=!0,ii("template",st,k,tt),st=k,k.replace&&(l=k),lt=br(n.splice(ct,n.length-ct),tt,u,h,di&&pt,v,w,{controllerDirectives:et,newScopeDirective:ut!==k&&ut,newIsolateScopeDirective:d,templateDirective:st,nonTlbTranscludeDirective:ti}),kt=n.length;else if(k.compile)try{wt=k.compile(tt,u,pt);bi=k.$$originalDirective||k;f(wt)?ur(null,sr(bi,wt),ni,ei):wt&&ur(sr(bi,wt.pre),sr(bi,wt.post),ni,ei)}catch(or){nt(or,vt(tt))}k.terminal&&(lt.terminal=!0,dt=Math.max(dt,k.priority))}return lt.scope=ut&&!0===ut.scope,lt.transcludeOnThisElement=di,lt.templateOnThisElement=nr,lt.transclude=pt,b.hasElementTranscludeDirective=ri,lt}function fi(n,i,r,u){var f,o,e,l;if(h(i)){if(e=i.match(tt),i=i.substring(e[0].length),o=e[1]||e[3],e="?"===e[2],"^^"===o?r=r.parent():f=(f=u&&u[i])&&f.instance,f||(l="$"+i+"Controller",f=o?r.inheritedData(l):r.data(l)),!f&&!e)throw g("ctreq",i,n);}else if(c(i))for(f=[],o=0,e=i.length;o<e;o++)f[o]=fi(n,i[o],r,u);else s(i)&&(f={},t(i,function(t,i){f[i]=fi(n,t,r,u)}));return f||null}function pr(n,t,i,r,u,f,e){var c=y();for(var l in r){var o=r[l],s={$scope:o===e||o.$$isolateScope?u:f,$element:n,$attrs:t,$transclude:i},h=o.controller;"@"==h&&(h=t[o.name]);s=ft(h,s,!0,o.controllerAs);c[o.name]=s;n.data("$"+o.name+"Controller",s.instance)}return c}function ki(n,t,i){for(var r=0,u=n.length;r<u;r++)n[r]=sf(n[r],{$$isolateScope:t,$$newScope:i})}function ei(n,t,u,f,e,o,h){var c,y,k,p,tt,w;if(t===e)return null;if(e=null,b.hasOwnProperty(t))for(t=i.get(t+"Directive"),y=0,k=t.length;y<k;y++)try{if(c=t[y],(r(f)||f>c.priority)&&-1!=c.restrict.indexOf(u)){if(o&&(c=sf(c,{$$start:o,$$end:h})),!c.$$bindings){var it=c,l=c,v=c.name,a={isolateScope:null,bindToController:null};if(s(l.scope)&&(!0===l.bindToController?(a.bindToController=d(l.scope,v,!0),a.isolateScope={}):a.isolateScope=d(l.scope,v,!1)),s(l.bindToController)&&(a.bindToController=d(l.bindToController,v,!0)),s(a.bindToController)){if(p=l.controller,tt=l.controllerAs,!p)throw g("noctrl",v);if(!po(p,tt))throw g("noident",v);}w=it.$$bindings=a;s(w.isolateScope)&&(c.$$isolateBindings=w.isolateScope)}n.push(c);e=c}}catch(rt){nt(rt)}return e}function wr(n){if(b.hasOwnProperty(n))for(var r=i.get(n+"Directive"),t=0,u=r.length;t<u;t++)if(n=r[t],n.multiElement)return!0;return!1}function gi(n,i){var r=i.$attr,u=n.$attr;t(n,function(t,u){"$"!=u.charAt(0)&&(i[u]&&i[u]!==t&&(t+=("style"===u?";":" ")+i[u]),n.$set(u,t,!0,r[u]))});t(i,function(t,i){n.hasOwnProperty(i)||"$"===i.charAt(0)||(n[i]=t,"class"!==i&&"style"!==i&&(u[i]=r[i]))})}function br(n,i,r,u,o,h,c,l){var v=[],y,w,b=i[0],a=n.shift(),d=sf(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),k=f(a.templateUrl)?a.templateUrl(i,r):a.templateUrl,nt=a.templateNamespace;return i.empty(),it(k).then(function(f){var tt,rt,it,ft;if(f=lr(f),a.replace){if(f=ee.test(f)?yo(vi(nt,p(f))):[],tt=f[0],1!=f.length||1!==tt.nodeType)throw g("tplrt",a.name,k);f={$attr:{}};oi(u,i,tt);it=li(tt,[],f);s(a.scope)&&ki(it,!0);n=it.concat(n);gi(r,f)}else tt=b,i.html(f);for(n.unshift(d),y=bi(n,tt,r,o,i,a,h,c,l),t(u,function(n,t){n==tt&&(u[t]=i[0])}),w=ci(i[0].childNodes,o);v.length;){f=v.shift();rt=v.shift();var et=v.shift(),ut=v.shift(),it=i[0];f.$$destroyed||(rt!==b&&(ft=rt.className,l.hasElementTranscludeDirective&&a.replace||(it=af(tt)),oi(et,e(rt),it),hi(e(it),ft)),rt=y.transcludeOnThisElement?ri(f,y.transclude,ut):ut,y(w,f,it,u,rt))}v=null}),function(n,t,i,r,u){n=u;t.$$destroyed||(v?v.push(t,i,r,n):(y.transcludeOnThisElement&&(n=ri(t,y.transclude,u)),y(w,t,i,r,n)))}}function kr(n,t){var i=t.priority-n.priority;return 0!==i?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function ii(n,t,i,r){function u(n){return n?" (module: "+n+")":""}if(t)throw g("multidir",t.name,u(t.$$moduleName),i.name,u(i.$$moduleName),n,vt(r));}function dr(n,t){var i=l(t,!0);i&&n.push({priority:0,compile:function(n){n=n.parent();var t=!!n.length;return t&&gt.$$addBindingClass(n),function(n,r){var u=r.parent();t||gt.$$addBindingClass(u);gt.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){r[0].nodeValue=n})}}})}function vi(t,i){t=v(t||"html");switch(t){case"svg":case"math":var r=n.document.createElement("div");return r.innerHTML="<"+t+">"+i+"<\/"+t+">",r.childNodes[0].childNodes;default:return i}}function gr(n,t){if("srcdoc"==t)return pt.HTML;var i=at(n);if("xlinkHref"==t||"form"==i&&"action"==t||"img"!=i&&("src"==t||"ngSrc"==t))return pt.RESOURCE_URL}function nu(n,t,i,r,u){var e=gr(n,r),f;if(u=ht[r]||u,f=l(i,!0,e,u),f){if("multiple"===r&&"select"===at(n))throw g("selmulti",vt(n));t.push({priority:100,compile:function(){return{pre:function(n,t,o){if(t=o.$$observers||(o.$$observers=y()),ct.test(r))throw g("nodomevents");var s=o[r];s!==i&&(f=s&&l(s,!0,e,u),i=s);f&&(o[r]=f(n),(t[r]||(t[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||n).$watch(f,function(n,t){"class"===r&&n!=t?o.$updateClass(n,t):o.$set(r,n)}))}}}})}}function oi(t,i,r){var f=i[0],s=i.length,c=f.parentNode,u,o,h;if(t)for(u=0,o=t.length;u<o;u++)if(t[u]==f){for(t[u++]=r,o=u+s-1,h=t.length;u<h;u++,o++)o<h?t[u]=t[o]:delete t[u];t.length-=s-1;t.context===f&&(t.context=r);break}for(c&&c.replaceChild(r,f),t=n.document.createDocumentFragment(),u=0;u<s;u++)t.appendChild(i[u]);for(e.hasData(f)&&(e.data(r,e.data(f)),e(f).off("$destroy")),e.cleanData(t.querySelectorAll("*")),u=1;u<s;u++)delete i[u];i[0]=r;i.length=1}function tr(n,t){return a(function(){return n.apply(null,arguments)},n,t)}function rr(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(e){nt(e,vt(i))}}function yi(n,i,r,u,e){function v(t,i,u){f(r.$onChanges)&&i!==u&&(ni||(n.$$postDigest(ar),ni=[]),s||(s={},ni.push(y)),s[t]&&(u=s[t].previousValue),s[t]=new lu(u,i))}function y(){r.$onChanges(s);s=void 0}var c=[],a={},s;return t(u,function(t,u){var f=t.attrName,s=t.optional,p,y,k,w,b;switch(t.mode){case"@":s||wt.call(i,f)||(r[u]=i[f]=void 0);i.$observe(f,function(n){(h(n)||ui(n))&&(v(u,n,r[u]),r[u]=n)});i.$$observers[f].$$scope=n;p=i[f];h(p)?r[u]=l(p)(n):ui(p)&&(r[u]=p);a[u]=new lu(he,r[u]);break;case"=":if(!wt.call(i,f)){if(s)break;i[f]=void 0}if(s&&!i[f])break;y=ut(i[f]);w=y.literal?ot:function(n,t){return n===t||n!==n&&t!==t};k=y.assign||function(){p=r[u]=y(n);throw g("nonassign",i[f],f,e.name);};p=r[u]=y(n);s=function(t){return w(t,r[u])||(w(t,p)?k(n,t=r[u]):r[u]=t),p=t};s.$stateful=!0;s=t.collection?n.$watchCollection(i[f],s):n.$watch(ut(i[f],s),null,y.literal);c.push(s);break;case"<":if(!wt.call(i,f)){if(s)break;i[f]=void 0}if(s&&!i[f])break;y=ut(i[f]);b=r[u]=y(n);a[u]=new lu(he,r[u]);s=n.$watch(y,function(n,t){if(t===n){if(t===b)return;t=b}v(u,n,t);r[u]=n},y.literal);c.push(s);break;case"&":if(y=i.hasOwnProperty(f)?ut(i[f]):o,y===o&&s)break;r[u]=function(t){return y(n,t)}}}),{initialChanges:a,removeWatches:c.length&&function(){for(var n=0,t=c.length;n<t;++n)c[n]()}}}var tu=/^\w/,ur=n.document.createElement("div"),or=k,ni;si.prototype={$normalize:yt,$addClass:function(n){n&&0<n.length&&kt.addClass(this.$$element,n)},$removeClass:function(n){n&&0<n.length&&kt.removeClass(this.$$element,n)},$updateClass:function(n,t){var i=vo(n,t);i&&i.length&&kt.addClass(this.$$element,i);(i=vo(t,n))&&i.length&&kt.removeClass(this.$$element,i)},$set:function(n,i,f,e){var s=co(this.$$element[0],n),o=se[n],l=n;if(s?(this.$$element.prop(n,i),e=s):o&&(this[o]=i,l=o),this[n]=i,e?this.$attr[n]=e:(e=this.$attr[n])||(this.$attr[n]=e=to(n,"-")),s=at(this.$$element),"a"===s&&("href"===n||"xlinkHref"===n)||"img"===s&&"src"===n)this[n]=i=dt(i,"src"===n);else if("img"===s&&"srcset"===n&&u(i)){for(var s="",o=p(i),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(o)?c:/(,)/,o=o.split(c),c=Math.floor(o.length/2),h=0;h<c;h++)var a=2*h,s=s+dt(p(o[a]),!0),s=s+(" "+p(o[a+1]));o=p(o[2*h]).split(/\s/);s+=dt(p(o[0]),!0);2===o.length&&(s+=" "+p(o[1]));this[n]=i=s}!1!==f&&(null===i||r(i)?this.$$element.removeAttr(e):tu.test(e)?this.$$element.attr(e,i):vr(this.$$element[0],e,i));(n=this.$$observers)&&t(n[l],function(n){try{n(i)}catch(t){nt(t)}})},$observe:function(n,t){var i=this,f=i.$$observers||(i.$$observers=y()),u=f[n]||(f[n]=[]);return u.push(t),lt.$evalAsync(function(){u.$$inter||!i.hasOwnProperty(n)||r(i[n])||t(i[n])}),function(){er(u,t)}}};var hr=l.startSymbol(),cr=l.endSymbol(),lr="{{"==hr&&"}}"==cr?ir:function(n){return n.replace(/\{\{/g,hr).replace(/}}/g,cr)},ru=/^ngAttr[A-Z]/,uu=/^(.+)Start$/;return gt.$$addBindingInfo=w?function(n,t){var i=n.data("$binding")||[];c(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:o,gt.$$addBindingClass=w?function(n){hi(n,"ng-binding")}:o,gt.$$addScopeInfo=w?function(n,t,i,r){n.data(i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:o,gt.$$addScopeClass=w?function(n,t){hi(n,t?"ng-isolate-scope":"ng-scope")}:o,gt.$$createComment=function(t,i){var r="";return w&&(r=" "+(t||"")+": ",i&&(r+=i+" ")),n.document.createComment(r)},gt}]}function lu(n,t){this.previousValue=n;this.currentValue=t}function yt(n){return cr(n.replace(ah,""))}function vo(n,t){var r="",e=n.split(/\s+/),o=t.split(/\s+/),u=0,f,i;n:for(;u<e.length;u++){for(f=e[u],i=0;i<o.length;i++)if(f==o[i])continue n;r+=(0<r.length?" ":"")+f}return r}function yo(n){n=e(n);var t=n.length;if(1>=t)return n;for(;t--;)8===n[t].nodeType&&pv.call(n,t,1);return n}function po(n,t){if(t&&h(t))return t;if(h(n)){var i=vh.exec(n);if(i)return i[3]}}function gl(){var n={},t=!1;this.has=function(t){return n.hasOwnProperty(t)};this.register=function(t,i){yi(t,"controller");s(t)?a(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(i,r){function u(n,t,i,r){if(!n||!s(n.$scope))throw l("$controller")("noscp",r,t);n.$scope[t]=i}return function(e,o,l,v){var y,p,w;if(l=!0===l,v&&h(v)&&(w=v),h(e)){if(v=e.match(vh),!v)throw ky("ctrlfmt",e);p=v[1];w=w||v[3];e=n.hasOwnProperty(p)?n[p]:io(o.$scope,p,!0)||(t?io(r,p,!0):void 0);vi(e,p,!0)}return l?(l=(c(e)?e[e.length-1]:e).prototype,y=Object.create(l||null),w&&u(o,w,y,p||e.name),a(function(){var n=i.invoke(e,y,o,p);return n!==y&&(s(n)||f(n))&&(y=n,w&&u(o,w,y,p||e.name)),y},{instance:y,identifier:w})):(y=i.instantiate(e,o,p),w&&u(o,w,y,p||e.name),y)}}]}function na(){this.$get=["$window",function(n){return e(n.document)}]}function ta(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function yf(n){return s(n)?et(n)?n.toISOString():hr(n):n}function ia(){this.$get=function(){return function(n){if(!n)return"";var i=[];return ve(n,function(n,u){null===n||r(n)||(c(n)?t(n,function(n){i.push(ht(u)+"="+ht(yf(n)))}):i.push(ht(u)+"="+ht(yf(n))))}),i.join("&")}}}function ra(){this.$get=function(){return function(n){function i(n,f,e){null===n||r(n)||(c(n)?t(n,function(n,t){i(n,f+"["+(s(n)?t:"")+"]")}):s(n)&&!et(n)?ve(n,function(n,t){i(n,f+(e?"":"[")+t+(e?"":"]"))}):u.push(ht(f)+"="+ht(yf(n))))}if(!n)return"";var u=[];return i(n,"",!0),u.join("&")}}}function pf(n,t){var r,i;return h(n)&&(r=n.replace(tp,"").trim(),r&&(i=t("Content-Type"),(i=i&&0===i.indexOf(yh))||(i=(i=r.match(gy))&&np[i[0]].test(r)),i&&(n=be(r)))),n}function wo(n){var i=y(),r;return h(n)?t(n.split("\n"),function(n){r=n.indexOf(":");var t=v(p(n.substr(0,r)));n=p(n.substr(r+1));t&&(i[t]=i[t]?i[t]+", "+n:n)}):s(n)&&t(n,function(n,t){var r=v(t),u=p(n);r&&(i[r]=i[r]?i[r]+", "+u:u)}),i}function bo(n){var t;return function(i){return t||(t=wo(n)),i?(i=t[v(i)],void 0===i&&(i=null),i):t}}function ko(n,i,r,u){return f(u)?u(n,i,r):(t(u,function(t){n=t(n,i,r)}),n)}function ua(){var n=this.defaults={transformResponse:[pf],transformRequest:[function(n){return s(n)&&"[object File]"!==rt.call(n)&&"[object Blob]"!==rt.call(n)&&"[object FormData]"!==rt.call(n)?hr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:st(ce),put:st(ce),patch:st(ce)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},i=!1,e,o;this.useApplyAsync=function(n){return u(n)?(i=!!n,this):i};e=!0;this.useLegacyPromiseExtensions=function(n){return u(n)?(e=!!n,this):e};o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(y,p,w,b,k,d){function g(i){function c(n,t){for(var u,f,i=0,r=t.length;i<r;)u=t[i++],f=t[i++],n=n.then(u,f);return t.length=0,n}function b(n,i){var r,u={};return t(n,function(n,t){f(n)?(r=n(i),null!=r&&(u[t]=r)):u[t]=n}),u}function y(n){var t=a({},n);return t.data=ko(n.data,n.headers,n.status,o.transformResponse),n=n.status,200<=n&&300>n?t:k.reject(t)}var o;if(!s(i))throw l("$http")("badreq",i);if(!h(i.url))throw l("$http")("badreq",i.url);o=a({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer},i);o.headers=function(t){var i=n.headers,u=a({},t.headers),r,f,e,i=a({},i.common,i[v(t.method)]);n:for(r in i){f=v(r);for(e in u)if(v(e)===f)continue n;u[r]=i[r]}return b(u,st(t))}(i);o.method=bu(o.method);o.paramSerializer=h(o.paramSerializer)?d.get(o.paramSerializer):o.paramSerializer;var p=[],w=[],u=k.when(o);return t(nt,function(n){(n.request||n.requestError)&&p.unshift(n.request,n.requestError);(n.response||n.responseError)&&w.push(n.response,n.responseError)}),u=c(u,p),u=u.then(function(i){var u=i.headers,f=ko(i.data,bo(u),void 0,i.transformRequest);return r(f)&&t(u,function(n,t){"content-type"===v(t)&&delete u[t]}),r(i.withCredentials)&&!r(n.withCredentials)&&(i.withCredentials=n.withCredentials),tt(i,f).then(y,y)}),u=c(u,w),e?(u.success=function(n){return vi(n,"fn"),u.then(function(t){n(t.data,t.status,t.headers,o)}),u},u.error=function(n){return vi(n,"fn"),u.then(null,function(t){n(t.data,t.status,t.headers,o)}),u}):(u.success=ph("success"),u.error=ph("error")),u}function tt(e,o){function nt(n){if(n){var r={};return t(n,function(n,t){r[t]=function(t){function r(){n(t)}i?b.$applyAsync(r):b.$$phase?r():b.$apply(r)}}),r}}function et(n,t,r,u){function f(){v(t,n,r,u)}l&&(200<=n&&300>n?l.put(a,[n,t,wo(r),u]):l.remove(a));i?b.$applyAsync(f):(f(),b.$$phase||b.$apply())}function v(n,t,i,r){t=-1<=t?t:0;(200<=t&&300>t?w.resolve:w.reject)({data:n,status:t,headers:bo(i),config:e,statusText:r})}function tt(n){v(n.data,n.status,st(n.headers()),n.statusText)}function ut(){var n=g.pendingRequests.indexOf(e);-1!==n&&g.pendingRequests.splice(n,1)}var w=k.defer(),d=w.promise,l,h,ft=e.headers,a=it(e.url,e.paramSerializer(e.params));return g.pendingRequests.push(e),d.then(ut,ut),(e.cache||n.cache)&&!1!==e.cache&&("GET"===e.method||"JSONP"===e.method)&&(l=s(e.cache)?e.cache:s(n.cache)?n.cache:rt),l&&(h=l.get(a),u(h)?h&&f(h.then)?h.then(tt,tt):c(h)?v(h[1],h[0],st(h[2]),h[3]):v(h,200,{},"OK"):l.put(a,d)),r(h)&&((h=vs(e.url)?p()[e.xsrfCookieName||n.xsrfCookieName]:void 0)&&(ft[e.xsrfHeaderName||n.xsrfHeaderName]=h),y(e.method,a,o,et,ft,e.timeout,e.withCredentials,e.responseType,nt(e.eventHandlers),nt(e.uploadEventHandlers))),d}function it(n,t){return 0<t.length&&(n+=(-1==n.indexOf("?")?"?":"&")+t),n}var rt=w("$http"),nt;return n.paramSerializer=h(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer,nt=[],t(o,function(n){nt.unshift(h(n)?d.get(n):d.invoke(n))}),g.pendingRequests=[],function(){t(arguments,function(n){g[n]=function(t,i){return g(a({},i||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(){t(arguments,function(n){g[n]=function(t,i,r){return g(a({},r||{},{method:n,url:t,data:i}))}})}("post","put","patch"),g.defaults=n,g}]}function fa(){this.$get=function(){return function(){return new n.XMLHttpRequest}}}function ea(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(n,t,i,r){return oa(n,r,n.defer,t,i[0])}]}function oa(n,i,e,s,h){function c(n,t,i){n=n.replace("JSON_CALLBACK",t);var r=h.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){r.removeEventListener("load",u,!1);r.removeEventListener("error",u,!1);h.body.removeChild(r);r=null;var f=-1,e="unknown";n&&("load"!==n.type||s.wasCalled(t)||(n={type:"error"}),e=n.type,f="error"===n.type?404:200);i&&i(f,e)},r.addEventListener("load",u,!1),r.addEventListener("error",u,!1),h.body.appendChild(r),u}return function(h,l,a,y,p,w,b,k,d,g){function ft(){it&&it();nt&&nt.abort()}function rt(t,i,r,f,s){u(ut)&&e.cancel(ut);it=nt=null;t(i,r,f,s);n.$$completeOutstandingRequest(o)}var tt,it,nt,ut;if(n.$$incOutstandingRequestCount(),l=l||n.url(),"jsonp"===v(h))tt=s.createCallback(l),it=c(l,tt,function(n,t){var i=200===n&&s.getResponse(tt);rt(y,n,i,"",t);s.removeCallback(tt)});else{if(nt=i(h,l),nt.open(h,l,!0),t(p,function(n,t){u(n)&&nt.setRequestHeader(t,n)}),nt.onload=function(){var i=nt.statusText||"",t="response"in nt?nt.response:nt.responseText,n=1223===nt.status?204:nt.status;0===n&&(n=t?200:"file"==ni(l).protocol?404:0);rt(y,n,t,nt.getAllResponseHeaders(),i)},h=function(){rt(y,-1,null,null,"")},nt.onerror=h,nt.onabort=h,t(d,function(n,t){nt.addEventListener(t,n)}),t(g,function(n,t){nt.upload.addEventListener(t,n)}),b&&(nt.withCredentials=!0),k)try{nt.responseType=k}catch(et){if("json"!==k)throw et;}nt.send(r(a)?null:a)}0<w?ut=e(ft,w):w&&f(w.then)&&w.then(ft)}}function sa(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,e,o){function c(n){return"\\\\\\"+n}function s(i){return i.replace(p,n).replace(w,t)}function v(n,t,i,r){var u;return u=n.$watch(function(n){return u(),r(n)},t,i)}function h(h,c,p,w){function et(n){var i,t;try{if(i=n,n=p?o.getTrusted(p,i):o.valueOf(i),w&&!u(n))t=n;else if(null==n)t="";else{switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=hr(n)}t=n}return t}catch(r){e(ai.interr(h,r))}}var k,d,rt,ut;if(!h.length||-1===h.indexOf(n))return c||(c=s(h),k=ft(c),k.exp=h,k.expressions=[],k.$$watchDelegate=v),k;w=!!w;var g,tt,b=0,nt=[],it=[];for(k=h.length,d=[],rt=[];b<k;)if(-1!=(g=h.indexOf(n,b))&&-1!=(tt=h.indexOf(t,g+l)))b!==g&&d.push(s(h.substring(b,g))),b=h.substring(g+l,tt),nt.push(b),it.push(i(b,et)),b=tt+y,rt.push(d.length),d.push("");else{b!==k&&d.push(s(h.substring(b)));break}return p&&1<d.length&&ai.throwNoconcat(h),!c||nt.length?(ut=function(n){for(var t=0,i=nt.length;t<i;t++){if(w&&r(n[t]))return;d[rt[t]]=n[t]}return d.join("")},a(function(n){var t=0,i=nt.length,r=Array(i);try{for(;t<i;t++)r[t]=it[t](n);return ut(r)}catch(u){e(ai.interr(h,u))}},{exp:h,expressions:nt,$$watchDelegate:function(n,t){var i;return n.$watchGroup(it,function(r,u){var e=ut(r);f(t)&&t.call(this,e,r!==u?i:e,n);i=e})}})):void 0}var l=n.length,y=t.length,p=new RegExp(n.replace(/./g,c),"g"),w=new RegExp(t.replace(/./g,c),"g");return h.startSymbol=function(){return n},h.endSymbol=function(){return t},h}]}function ha(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(n,t,i,r,f){function o(o,s,h,c){function p(){w?o.apply(null,b):o(a)}var w=4<arguments.length,b=w?bt.call(arguments,4):[],k=t.setInterval,d=t.clearInterval,a=0,y=u(c)&&!c,v=(y?r:i).defer(),l=v.promise;return h=u(h)?h:0,l.$$intervalId=k(function(){y?f.defer(p):n.$evalAsync(p);v.notify(a++);0<h&&a>=h&&(v.resolve(a),d(l.$$intervalId),delete e[l.$$intervalId]);y||n.$apply()},s),e[l.$$intervalId]=v,l}var e={};return o.cancel=function(n){return n&&n.$$intervalId in e?(e[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete e[n.$$intervalId],!0):!1},o}]}function wf(n){n=n.split("/");for(var t=n.length;t--;)n[t]=tu(n[t]);return n.join("/")}function go(n,t){var i=ni(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=tt(i.port)||fp[i.protocol]||null}function ns(n,t){var r="/"!==n.charAt(0),i;r&&(n="/"+n);i=ni(n);t.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname);t.$$search=ge(i.search);t.$$hash=decodeURIComponent(i.hash);t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function pt(n,t){if(0===t.lastIndexOf(n,0))return t.substr(n.length)}function oi(n){var t=n.indexOf("#");return-1==t?n:n.substr(0,t)}function yr(n){return n.replace(/(#.+)|#$/,"$1")}function bf(n,t,i){this.$$html5=!0;i=i||"";go(n,this);this.$$parse=function(n){var i=pt(t,n);if(!h(i))throw tf("ipthprfx",n,t);ns(i,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=lf(this.$$search),i=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=wf(this.$$path)+(n?"?"+n:"")+i;this.$$absUrl=t+this.$$url.substr(1)};this.$$parseLinkUrl=function(r,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var e,o;return u(e=pt(n,r))?(o=e,o=u(e=pt(i,e))?t+(pt("/",e)||e):n+o):u(e=pt(t,r))?o=t+e:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function kf(n,t,i){go(n,this);this.$$parse=function(u){var e=pt(n,u)||pt(t,u),f,o;r(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",r(e)&&(n=u,this.replace())):(f=pt(i,e),r(f)&&(f=e));ns(f,this);u=this.$$path;e=n;o=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,0)&&(f=f.replace(e,""));o.exec(f)||(u=(f=o.exec(u))?f[1]:u);this.$$path=u;this.$$compose()};this.$$compose=function(){var t=lf(this.$$search),r=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=wf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+(this.$$url?i+this.$$url:"")};this.$$parseLinkUrl=function(t){return oi(n)==oi(t)?(this.$$parse(t),!0):!1}}function ts(n,t,i){this.$$html5=!0;kf.apply(this,arguments);this.$$parseLinkUrl=function(r,u){if(u&&"#"===u[0])return this.hash(u.slice(1)),!0;var f,e;return n==oi(r)?f=r:(e=pt(t,r))?f=n+i+e:t===r+"/"&&(f=t),f&&this.$$parse(f),!!f};this.$$compose=function(){var t=lf(this.$$search),r=this.$$hash?"#"+tu(this.$$hash):"";this.$$url=wf(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+i+this.$$url}}function au(n){return function(){return this[n]}}function is(n,t){return function(i){return r(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function ca(){var t="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return u(n)?(t=n,this):t};this.html5Mode=function(t){return ui(t)?(n.enabled=t,this):s(t)?(ui(t.enabled)&&(n.enabled=t.enabled),ui(t.requireBase)&&(n.requireBase=t.requireBase),ui(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,u,f,o,h){function w(n,t,i){var r=c.url(),f=c.$$state;try{u.url(n,t,i);c.$$state=u.state()}catch(e){throw c.url(r),c.$$state=f,e;}}function b(n,t){i.$broadcast("$locationChangeSuccess",c.absUrl(),n,c.$$state,t)}var c,a,l,v,p,k,y;if(a=u.baseHref(),l=u.url(),n.enabled){if(!a&&n.requireBase)throw tf("nobase");v=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(a||"/");a=f.history?bf:ts}else v=oi(l),a=kf;p=v.substr(0,oi(v).lastIndexOf("/")+1);c=new a(v,p,"#"+t);c.$$parseLinkUrl(l,l);c.$$state=u.state();k=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r,f,l;if(n.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(r=e(t.target);"a"!==at(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;f=r.prop("href");l=r.attr("href")||r.attr("xlink:href");s(f)&&"[object SVGAnimatedString]"===f.toString()&&(f=ni(f.animVal).href);k.test(f)||!f||r.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(f,l)||(t.preventDefault(),c.absUrl()!=u.url()&&(i.$apply(),h.angular["ff-684208-preventDefault"]=!0))}});yr(c.absUrl())!=yr(l)&&u.url(c.absUrl(),!0);y=!0;u.onUrlChange(function(n,t){r(pt(p,n))?h.location.href=n:(i.$evalAsync(function(){var r=c.absUrl(),u=c.$$state,f;n=yr(n);c.$$parse(n);c.$$state=t;f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented;c.absUrl()===n&&(f?(c.$$parse(r),c.$$state=u,w(r,!1,u)):(y=!1,b(r,u)))}),i.$$phase||i.$digest())});return i.$watch(function(){var t=yr(u.url()),e=yr(c.absUrl()),n=u.state(),o=c.$$replace,r=t!==e||c.$$html5&&f.history&&n!==c.$$state;(y||r)&&(y=!1,i.$evalAsync(function(){var u=c.absUrl(),f=i.$broadcast("$locationChangeStart",u,t,c.$$state,n).defaultPrevented;c.absUrl()===u&&(f?(c.$$parse(t),c.$$state=n):(r&&w(u,o,n===c.$$state?null:c.$$state),b(t,n)))}));c.$$replace=!1}),c}]}function la(){var n=!0,i=this;this.debugEnabled=function(t){return u(t)?(n=t,this):n};this.$get=["$window",function(r){function f(n){return n instanceof Error&&(n.stack?n=n.message&&-1===n.stack.indexOf(n.message)?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var i=r.console||{},u=i[n]||i.log||o;n=!1;try{n=!!u.apply}catch(e){}return n?function(){var n=[];return t(arguments,function(t){n.push(f(t))}),u.apply(i,n)}:function(n,t){u(n,null==t?"":t)}}return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var t=u("debug");return function(){n&&t.apply(i,arguments)}}()}}]}function wi(n,t){if("__defineGetter__"===n||"__defineSetter__"===n||"__lookupGetter__"===n||"__lookupSetter__"===n||"__proto__"===n)throw it("isecfld",t);return n}function aa(n){return n+""}function gt(n,t){if(n){if(n.constructor===n)throw it("isecfn",t);if(n.window===n)throw it("isecwindow",t);if(n.children&&(n.nodeName||n.prop&&n.attr&&n.find))throw it("isecdom",t);if(n===Object)throw it("isecobj",t);}return n}function rs(n,t){if(n){if(n.constructor===n)throw it("isecfn",t);if(n===op||n===sp||n===hp)throw it("isecff",t);}}function vu(n,t){if(n&&(n===0..constructor||n===(!1).constructor||n==="".constructor||n==={}.constructor||n===[].constructor||n===Function.constructor))throw it("isecaf",t);}function va(n,t){return"undefined"!=typeof n?n:t}function us(n,t){return"undefined"==typeof n?t:"undefined"==typeof t?n:n+t}function k(n,r){var u,f;switch(n.type){case i.Program:u=!0;t(n.body,function(n){k(n.expression,r);u=u&&n.expression.constant});n.constant=u;break;case i.Literal:n.constant=!0;n.toWatch=[];break;case i.UnaryExpression:k(n.argument,r);n.constant=n.argument.constant;n.toWatch=n.argument.toWatch;break;case i.BinaryExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case i.LogicalExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.constant?[]:[n];break;case i.ConditionalExpression:k(n.test,r);k(n.alternate,r);k(n.consequent,r);n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant;n.toWatch=n.constant?[]:[n];break;case i.Identifier:n.constant=!1;n.toWatch=[n];break;case i.MemberExpression:k(n.object,r);n.computed&&k(n.property,r);n.constant=n.object.constant&&(!n.computed||n.property.constant);n.toWatch=[n];break;case i.CallExpression:u=n.filter?!r(n.callee.name).$stateful:!1;f=[];t(n.arguments,function(n){k(n,r);u=u&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=u;n.toWatch=n.filter&&!r(n.callee.name).$stateful?f:[n];break;case i.AssignmentExpression:k(n.left,r);k(n.right,r);n.constant=n.left.constant&&n.right.constant;n.toWatch=[n];break;case i.ArrayExpression:u=!0;f=[];t(n.elements,function(n){k(n,r);u=u&&n.constant;n.constant||f.push.apply(f,n.toWatch)});n.constant=u;n.toWatch=f;break;case i.ObjectExpression:u=!0;f=[];t(n.properties,function(n){k(n.value,r);u=u&&n.value.constant&&!n.computed;n.value.constant||f.push.apply(f,n.value.toWatch)});n.constant=u;n.toWatch=f;break;case i.ThisExpression:n.constant=!1;n.toWatch=[];break;case i.LocalsExpression:n.constant=!1;n.toWatch=[]}}function fs(n){if(1==n.length){n=n[0].expression;var t=n.toWatch;return 1!==t.length?t:t[0]!==n?t:void 0}}function es(n){return n.type===i.Identifier||n.type===i.MemberExpression}function os(n){if(1===n.body.length&&es(n.body[0].expression))return{type:i.AssignmentExpression,left:n.body[0].expression,right:{type:i.NGValueParameter},operator:"="}}function ss(n){return 0===n.body.length||1===n.body.length&&(n.body[0].expression.type===i.Literal||n.body[0].expression.type===i.ArrayExpression||n.body[0].expression.type===i.ObjectExpression)}function hs(n,t){this.astBuilder=n;this.$filter=t}function cs(n,t){this.astBuilder=n;this.$filter=t}function yu(n){return"constructor"==n}function df(n){return f(n.valueOf)?n.valueOf():cp.call(n)}function ya(){var e=y(),s=y(),r={"true":!0,"false":!1,"null":null,undefined:void 0},n,i;this.addLiteral=function(n,t){r[n]=t};this.setIdentifierFns=function(t,r){return n=t,i=r,this};this.$get=["$filter",function(h){function p(n,t,i){var r,l,u,f,p;i=i||c;switch(typeof n){case"string":return u=n=n.trim(),f=i?s:e,r=f[u],r||(":"===n.charAt(0)&&":"===n.charAt(1)&&(l=!0,n=n.substring(2)),r=i?nt:g,p=new uf(r),r=new ff(p,h,r).parse(n),r.constant?r.$$watchDelegate=d:l?r.$$watchDelegate=r.literal?b:w:r.inputs&&(r.$$watchDelegate=v),i&&(r=a(r)),f[u]=r),y(r,t);case"function":return y(n,t);default:return y(o,t)}}function a(n){function t(t,i,r,u){var f=c;c=!0;try{return n(t,i,r,u)}finally{c=f}}if(!n)return n;t.$$watchDelegate=n.$$watchDelegate;t.assign=a(n.assign);t.constant=n.constant;t.literal=n.literal;for(var i=0;n.inputs&&i<n.inputs.length;++i)n.inputs[i]=a(n.inputs[i]);return t.inputs=n.inputs,t}function l(n,t){return null==n||null==t?n===t:"object"==typeof n&&(n=df(n),"object"==typeof n)?!1:n===t||n!==n&&t!==t}function v(n,t,i,r,u){var f=r.inputs,e,s;if(1===f.length)return s=l,f=f[0],n.$watch(function(n){var t=f(n);return l(t,s)||(e=r(n,void 0,void 0,[t]),s=t&&df(t)),e},t,i,u);for(var h=[],c=[],o=0,a=f.length;o<a;o++)h[o]=l,c[o]=null;return n.$watch(function(n){for(var i,u=!1,t=0,o=f.length;t<o;t++)i=f[t](n),(u||(u=!l(i,h[t])))&&(c[t]=i,h[t]=i&&df(i));return u&&(e=r(n,void 0,void 0,c)),e},t,i,u)}function w(n,t,i,r){var e,o;return e=n.$watch(function(n){return r(n)},function(n,i,r){o=n;f(t)&&t.apply(this,arguments);u(n)&&r.$$postDigest(function(){u(o)&&e()})},i)}function b(n,i,r,e){function o(n){var i=!0;return t(n,function(n){u(n)||(i=!1)}),i}var s,h;return s=n.$watch(function(n){return e(n)},function(n,t,r){h=n;f(i)&&i.call(this,n,t,r);o(n)&&r.$$postDigest(function(){o(h)&&s()})},r)}function d(n,t,i,r){var u;return u=n.$watch(function(n){return u(),r(n)},t,i)}function y(n,t){if(!t)return n;var i=n.$$watchDelegate,r=!1,i=i!==b&&i!==w?function(i,u,f,e){return f=r&&e?e[0]:n(i,u,f,e),t(f,i,u)}:function(i,r,f,e){return f=n(i,r,f,e),i=t(f,i,r),u(f)?i:f};return n.$$watchDelegate&&n.$$watchDelegate!==v?i.$$watchDelegate=n.$$watchDelegate:t.$stateful||(i.$$watchDelegate=v,r=!n.inputs,i.inputs=n.inputs?n.inputs:[n]),i}var k=ci().noUnsafeEval,g={csp:k,expensiveChecks:!1,literals:dt(r),isIdentifierStart:f(n)&&n,isIdentifierContinue:f(i)&&i},nt={csp:k,expensiveChecks:!0,literals:dt(r),isIdentifierStart:f(n)&&n,isIdentifierContinue:f(i)&&i},c=!1;return p.$$runningExpensiveChecks=function(){return c},p}]}function pa(){this.$get=["$rootScope","$exceptionHandler",function(n,t){return ls(function(t){n.$evalAsync(t)},t)}]}function wa(){this.$get=["$browser","$exceptionHandler",function(n,t){return ls(function(t){n.defer(t)},t)}]}function ls(n,i){function y(){this.$$state={status:0}}function o(n,t){return function(i){t.call(n,i)}}function p(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,n(function(){var e,n,u,r,o;for(u=t.pending,t.processScheduled=!1,t.pending=void 0,r=0,o=u.length;r<o;++r){n=u[r][0];e=u[r][t.status];try{f(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(s){n.reject(s);i(s)}}}))}function u(){this.promise=new y}var w=l("$q",TypeError),b=function(){var n=new u;return n.resolve=o(n,n.resolve),n.reject=o(n,n.reject),n.notify=o(n,n.notify),n};a(y.prototype,{then:function(n,t,i){if(r(n)&&r(t)&&r(i))return this;var f=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([f,n,t,i]),0<this.$$state.status&&p(this.$$state),f.promise},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return k(t,!0,n)},function(t){return k(t,!1,n)},t)}});a(u.prototype,{resolve:function(n){this.promise.$$state.status||(n===this.promise?this.$$reject(w("qcycle",n)):this.$$resolve(n))},$$resolve:function(n){function c(n){t||(t=!0,e.$$resolve(n))}function u(n){t||(t=!0,e.$$reject(n))}var r,e=this,t=!1;try{(s(n)||f(n))&&(r=n&&n.then);f(r)?(this.promise.$$state.status=-1,r.call(n,c,u,o(this,this.notify))):(this.promise.$$state.value=n,this.promise.$$state.status=1,p(this.promise.$$state))}catch(h){u(h);i(h)}},reject:function(n){this.promise.$$state.status||this.$$reject(n)},$$reject:function(n){this.promise.$$state.value=n;this.promise.$$state.status=2;p(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&n(function(){for(var u,e,n=0,o=r.length;n<o;n++){e=r[n][0];u=r[n][3];try{e.notify(f(u)?u(t):t)}catch(s){i(s)}}})}});var h=function(n,t){var i=new u;return t?i.resolve(n):i.reject(n),i.promise},k=function(n,t,i){var r=null;try{f(i)&&(r=i())}catch(u){return h(u,!1)}return r&&f(r.then)?r.then(function(){return h(n,t)},function(n){return h(n,!1)}):h(n,t)},v=function(n,t,i,r){var f=new u;return f.resolve(n),f.promise.then(t,i,r)},e=function(n){if(!f(n))throw w("norslvr",n);var t=new u;return n(function(n){t.resolve(n)},function(n){t.reject(n)}),t.promise};return e.prototype=y.prototype,e.defer=b,e.reject=function(n){var t=new u;return t.reject(n),t.promise},e.when=v,e.resolve=v,e.all=function(n){var r=new u,f=0,i=c(n)?[]:{};return t(n,function(n,t){f++;v(n).then(function(n){i.hasOwnProperty(t)||(i[t]=n,--f||r.resolve(i))},function(n){i.hasOwnProperty(t)||r.reject(n)})}),0===f&&r.resolve(i),r.promise},e.race=function(n){var i=b();return t(n,function(n){v(n).then(i.resolve,i.reject)}),i.promise},e}function ba(){this.$get=["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]}function ka(){function h(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ku;this.$$ChildScope=null}return t.prototype=n,t}var u=10,e=l("$rootScope"),n=null,i=null;this.digestTtl=function(n){return arguments.length&&(u=n),u};this.$get=["$exceptionHandler","$parse","$browser",function(c,l,a){function ut(n){n.currentScope.$$destroyed=!0}function b(n){9===ti&&(n.$$childHead&&b(n.$$childHead),n.$$nextSibling&&b(n.$$nextSibling));n.$parent=n.$$nextSibling=n.$$prevSibling=n.$$childHead=n.$$childTail=n.$root=n.$$watchers=null}function p(){this.$id=++ku;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function nt(n){if(v.$$phase)throw e("inprog",v.$$phase);v.$$phase=n}function k(n,t){do n.$$watchersCount+=t;while(n=n.$parent)}function tt(n,t,i){do n.$$listenerCount[i]-=t,0===n.$$listenerCount[i]&&delete n.$$listenerCount[i];while(n=n.$parent)}function it(){}function rt(){for(;d.length;)try{d.shift()()}catch(n){c(n)}i=null}function ft(){null===i&&(i=a.defer(function(){v.$apply(rt)}))}p.prototype={constructor:p,$new:function(n,t){var i;return t=t||this,n?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=h(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!=this)&&i.$on("$destroy",ut),i},$watch:function(t,i,r,u){var e=l(t);if(e.$$watchDelegate)return e.$$watchDelegate(this,i,r,e,t);var h=this,s=h.$$watchers,c={fn:i,last:it,get:e,exp:u||t,eq:!!r};return n=null,f(i)||(c.fn=o),s||(s=h.$$watchers=[]),s.unshift(c),k(this,1),function(){0<=er(s,c)&&k(h,-1);n=null}},$watchGroup:function(n,i){function c(){o=!1;h?(h=!1,i(r,r,u)):i(r,f,u)}var f=Array(n.length),r=Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?1===n.length?this.$watch(n[0],function(n,t,u){r[0]=n;f[0]=t;i(r,n===t?r:f,u)}):(t(n,function(n,t){var i=u.$watch(n,function(n,i){r[t]=n;f[t]=i;o||(o=!0,u.$evalAsync(c))});e.push(i)}),function(){for(;e.length;)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&i(r,r,u)}),function(){s=!1})},$watchCollection:function(n,t){function h(n){i=n;var t,c,o,h;if(!r(i)){if(s(i))if(kt(i))for(u!==a&&(u=a,e=u.length=0,f++),n=i.length,e!==n&&(f++,u.length=e=n),t=0;t<n;t++)h=u[t],o=i[t],c=h!==h&&o!==o,c||h===o||(f++,u[t]=o);else{u!==v&&(u=v={},e=0,f++);n=0;for(t in i)wt.call(i,t)&&(n++,o=i[t],h=u[t],t in u?(c=h!==h&&o!==o,c||h===o||(f++,u[t]=o)):(e++,u[t]=o,f++));if(e>n)for(t in f++,u)wt.call(i,t)||(e--,delete u[t])}else u!==i&&(u=i,f++);return f}}h.$stateful=!0;var c=this,i,u,o,p=1<t.length,f=0,w=l(n,h),a=[],v={},y=!0,e=0;return this.$watch(w,function(){if(y?(y=!1,t(i,i,c)):t(i,o,c),p)if(s(i))if(kt(i)){o=Array(i.length);for(var n=0;n<i.length;n++)o[n]=i[n]}else for(n in o={},i)wt.call(i,n)&&(o[n]=i[n]);else o=i})},$digest:function(){var t,s,h,ut,ft,o,d,l,tt=u,r,p=[],b,k;nt("$digest");a.$$checkUrlChange();this===v&&null!==i&&(a.defer.cancel(i),rt());n=null;do{for(l=!1,r=this,o=0;o<y.length;o++){try{k=y[o];k.scope.$eval(k.expression,k.locals)}catch(et){c(et)}n=null}y.length=0;n:do{if(o=r.$$watchers)for(d=o.length;d--;)try{if(t=o[d])if(ft=t.get,(s=ft(r))===(h=t.last)||(t.eq?ot(s,h):"number"==typeof s&&"number"==typeof h&&isNaN(s)&&isNaN(h))){if(t===n){l=!1;break n}}else l=!0,n=t,t.last=t.eq?dt(s,null):s,ut=t.fn,ut(s,h===it?s:h,r),5>tt&&(b=4-tt,p[b]||(p[b]=[]),p[b].push({msg:f(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:s,oldVal:h}))}catch(st){c(st)}if(!(o=r.$$watchersCount&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);if((l||y.length)&&!tt--)throw v.$$phase=null,e("infdig",u,p);}while(l||y.length);for(v.$$phase=null;g<w.length;)try{w[g++]()}catch(ht){c(ht)}w.length=g=0},$destroy:function(){var n,t;if(!this.$$destroyed){n=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===v&&a.$$applicationDestroyed();k(this,-this.$$watchersCount);for(t in this.$$listenerCount)tt(this,this.$$listenerCount[t],t);n&&n.$$childHead==this&&(n.$$childHead=this.$$nextSibling);n&&n.$$childTail==this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o;this.$on=this.$watch=this.$watchGroup=function(){return o};this.$$listeners={};this.$$nextSibling=null;b(this)}},$eval:function(n,t){return l(n)(this,t)},$evalAsync:function(n,t){v.$$phase||y.length||a.defer(function(){y.length&&v.$digest()});y.push({scope:this,expression:l(n),locals:t})},$$postDigest:function(n){w.push(n)},$apply:function(n){try{nt("$apply");try{return this.$eval(n)}finally{v.$$phase=null}}catch(i){c(i)}finally{try{v.$digest()}catch(t){throw c(t),t;}}},$applyAsync:function(n){function t(){i.$eval(n)}var i=this;n&&d.push(t);n=l(n);ft()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);-1!==i&&(r[i]=null,tt(u,1,n))}},$emit:function(n){var o=[],u,r=this,e=!1,t={name:n,targetScope:r,stopPropagation:function(){e=!0},preventDefault:function(){t.defaultPrevented=!0},defaultPrevented:!1},s=or([t],arguments,1),i,f;do{for(u=r.$$listeners[n]||o,t.currentScope=r,i=0,f=u.length;i<f;i++)if(u[i])try{u[i].apply(null,s)}catch(h){c(h)}else u.splice(i,1),i--,f--;if(e)return t.currentScope=null,t;r=r.$parent}while(r);return t.currentScope=null,t},$broadcast:function(n){var t=this,i=this,u={name:n,targetScope:this,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},e,r,f;if(!this.$$listenerCount[n])return u;for(e=or([u],arguments,1);t=i;){for(u.currentScope=t,i=t.$$listeners[n]||[],r=0,f=i.length;r<f;r++)if(i[r])try{i[r].apply(null,e)}catch(o){c(o)}else i.splice(r,1),r--,f--;if(!(i=t.$$listenerCount[n]&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(i=t.$$nextSibling);)t=t.$parent}return u.currentScope=null,u}};var v=new p,y=v.$$asyncQueue=[],w=v.$$postDigestQueue=[],d=v.$$applyAsyncQueue=[],g=0;return v}]}function da(){var n=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return u(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return u(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return u=ni(i).href,""===u||u.match(f)?i:"unsafe:"+u}}}function ga(n){if("self"===n)return n;if(h(n)){if(-1<n.indexOf("***"))throw ri("iwcard",n);return n=sh(n).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+n+"$")}if(rr(n))return new RegExp("^"+n.source+"$");throw ri("imatcher");}function as(n){var i=[];return u(n)&&t(n,function(n){i.push(ga(n))}),i}function nv(){this.SCE_CONTEXTS=lt;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=as(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=as(n)),t};this.$get=["$injector",function(i){function o(n,t){return"self"===n?vs(t):!!n.exec(t.href)}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(){throw ri("unsafe");},e,u;return i.has("$sanitize")&&(s=i.get("$sanitize")),e=f(),u={},u[lt.HTML]=f(e),u[lt.CSS]=f(e),u[lt.URL]=f(e),u[lt.JS]=f(e),u[lt.RESOURCE_URL]=f(u[lt.URL]),{trustAs:function(n,t){var i=u.hasOwnProperty(n)?u[n]:null;if(!i)throw ri("icontext",n,t);if(null===t||r(t)||""===t)return t;if("string"!=typeof t)throw ri("itype",n);return new i(t)},getTrusted:function(i,f){var h,e,l,c;if(null===f||r(f)||""===f)return f;if(h=u.hasOwnProperty(i)?u[i]:null,h&&f instanceof h)return f.$$unwrapTrustedValue();if(i===lt.RESOURCE_URL){for(h=ni(f.toString()),c=!1,e=0,l=n.length;e<l;e++)if(o(n[e],h)){c=!0;break}if(c)for(e=0,l=t.length;e<l;e++)if(o(t[e],h)){c=!1;break}if(c)return f;throw ri("insecurl",f.toString());}if(i===lt.HTML)return s(f);throw ri("unsafe");},valueOf:function(n){return n instanceof e?n.$$unwrapTrustedValue():n}}}]}function tv(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(i,r){var u;if(n&&8>ti)throw ri("iequirks");u=st(lt);u.isEnabled=function(){return n};u.trustAs=r.trustAs;u.getTrusted=r.getTrusted;u.valueOf=r.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=ir);u.parseAs=function(n,t){var r=i(t);return r.literal&&r.constant?r:i(t,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return t(lt,function(n,t){var i=v(t);u[cr("parse_as_"+i)]=function(t){return f(n,t)};u[cr("get_trusted_"+i)]=function(t){return e(n,t)};u[cr("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function iv(){this.$get=["$window","$document",function(n,t){var o={},a=!(n.chrome&&n.chrome.app&&n.chrome.app.runtime)&&n.history&&n.history.pushState,s=tt((/android (\d+)/.exec(v((n.navigator||{}).userAgent))||[])[1]),y=/Boxee/i.test((n.navigator||{}).userAgent),c=t[0]||{},i,u=c.body&&c.body.style,f=!1,e=!1,l;if(u){for(l in u)if(f=/^(Moz|webkit|ms)(?=[A-Z])/.exec(l)){i=f[0];i=i[0].toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in u&&"webkit");f=!!("transition"in u||i+"Transition"in u);e=!!("animation"in u||i+"Animation"in u);!s||f&&e||(f=h(u.webkitTransition),e=h(u.webkitAnimation))}return{history:!(!a||4>s||y),hasEvent:function(n){if("input"===n&&11>=ti)return!1;if(r(o[n])){var t=c.createElement("div");o[n]="on"+n in t}return o[n]},csp:ci(),vendorPrefix:i,transitions:f,animations:e,android:s}}]}function rv(){var n;this.httpOptions=function(t){return t?(n=t,this):n};this.$get=["$templateCache","$http","$q","$sce",function(t,i,u,f){function e(o,s){e.totalPendingRequests++;(!h(o)||r(t.get(o)))&&(o=f.getTrustedResourceUrl(o));var l=i.defaults&&i.defaults.transformResponse;return c(l)?l=l.filter(function(n){return n!==pf}):l===pf&&(l=null),i.get(o,a({cache:t,transformResponse:l},n))["finally"](function(){e.totalPendingRequests--}).then(function(n){return t.put(o,n.data),n.data},function(n){if(!s)throw lp("tpload",o,n.status,n.statusText);return u.reject(n)})}return e.totalPendingRequests=0,e}]}function uv(){this.$get=["$rootScope","$browser","$location",function(n,i,r){return{findBindings:function(n,i,r){n=n.getElementsByClassName("ng-binding");var u=[];return t(n,function(n){var f=ut.element(n).data("$binding");f&&t(f,function(t){r?new RegExp("(^|\\s)"+sh(i)+"(\\s|\\||$)").test(t)&&u.push(n):-1!=t.indexOf(i)&&u.push(n)})}),u},findModels:function(n,t,i){for(var f,u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r)if(f=n.querySelectorAll("["+u[r]+"model"+(i?"=":"*=")+'"'+t+'"]'),f.length)return f},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),n.$digest())},whenStable:function(n){i.notifyWhenNoOutstandingRequests(n)}}}]}function fv(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,r,e){function h(h,c,l){f(h)||(l=c,c=h,h=o);var w=bt.call(arguments,3),p=u(l)&&!l,a=(p?r:i).defer(),v=a.promise,y;return y=t.defer(function(){try{a.resolve(h.apply(null,w))}catch(t){a.reject(t);e(t)}finally{delete s[v.$$timeoutId]}p||n.$apply()},c),v.$$timeoutId=y,s[y]=a,v}var s={};return h.cancel=function(n){return n&&n.$$timeoutId in s?(s[n.$$timeoutId].reject("canceled"),delete s[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},h}]}function ni(n){return ti&&(nt.setAttribute("href",n),n=nt.href),nt.setAttribute("href",n),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname}}function vs(n){return n=h(n)?ni(n):n,n.protocol===bh.protocol&&n.host===bh.host}function ev(){this.$get=ft(n)}function ys(n){function u(n){try{return decodeURIComponent(n)}catch(t){return n}}var f=n[0]||{},t={},i="";return function(){var n,e,o,s,h;if(n=f.cookie||"",n!==i)for(i=n,n=i.split("; "),t={},o=0;o<n.length;o++)e=n[o],s=e.indexOf("="),0<s&&(h=u(e.substring(0,s)),r(t[h])&&(t[h]=u(e.substring(s+1))));return t}}function ov(){this.$get=ys}function ps(n){function i(r,u){if(s(r)){var f={};return t(r,function(n,t){f[t]=i(t,n)}),f}return n.factory(r+"Filter",u)}this.register=i;this.$get=["$injector",function(n){return function(t){return n.get(t+"Filter")}}];i("currency",ws);i("date",nh);i("filter",sv);i("json",av);i("limitTo",vv);i("lowercase",gh);i("number",bs);i("orderBy",th);i("uppercase",nc)}function sv(){return function(n,t,i,r){if(!kt(n)){if(null==n)return n;throw l("filter")("notarray",n);}r=r||"$";var u;switch(gf(t)){case"function":break;case"boolean":case"null":case"number":case"string":u=!0;case"object":t=hv(t,i,r,u);break;default:return n}return Array.prototype.filter.call(n,t)}}function hv(n,t,i,u){var e=s(n)&&i in n;return!0===t?t=ot:f(t)||(t=function(n,t){return r(n)?!1:null===n||null===t?n===t:s(t)||s(n)&&!pe(n)?!1:(n=v(""+n),t=v(""+t),-1!==n.indexOf(t))}),function(r){return e&&!s(r)?si(r,n[i],t,i,!1):si(r,n,t,i,u)}}function si(n,t,i,u,e,o){var h=gf(n),l=gf(t),s;if("string"===l&&"!"===t.charAt(0))return!si(n,t.substring(1),i,u,e);if(c(n))return n.some(function(n){return si(n,t,i,u,e)});switch(h){case"object":if(e){for(s in n)if("$"!==s.charAt(0)&&si(n[s],t,i,u,!0))return!0;return o?!1:si(n,t,i,u,!1)}if("object"===l){for(s in t)if(o=t[s],!f(o)&&!r(o)&&(h=s===u,!si(h?n:n[s],o,i,u,h,h)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function gf(n){return null===n?"null":typeof n}function ws(n){var t=n.NUMBER_FORMATS;return function(n,i,u){return r(i)&&(i=t.CURRENCY_SYM),r(u)&&(u=t.PATTERNS[1].maxFrac),null==n?n:ks(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,u).replace(/\u00A4/g,i)}}function bs(n){var t=n.NUMBER_FORMATS;return function(n,i){return null==n?n:ks(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function cv(n){var e=0,r,t,i,f,u;for(-1<(t=n.indexOf(dh))&&(n=n.replace(dh,"")),0<(i=n.search(/e/i))?(0>t&&(t=i),t+=+n.slice(i+1),n=n.substring(0,i)):0>t&&(t=n.length),i=0;n.charAt(i)==le;i++);if(i==(u=n.length))r=[0],t=1;else{for(u--;n.charAt(u)==le;)u--;for(t-=i,r=[],f=0;i<=u;i++,f++)r[f]=+n.charAt(i)}return t>kh&&(r=r.splice(0,kh-1),e=t-1,t=1),{d:r,e:e,i:t}}function lv(n,t,i,u){var f=n.d,o=f.length-n.i,e;if(t=r(t)?Math.min(Math.max(i,o),u):+t,i=t+n.i,u=f[i],0<i)for(f.splice(Math.max(n.i,i)),e=i;e<f.length;e++)f[e]=0;else for(o=Math.max(0,o),n.i=1,f.length=Math.max(1,i=t+1),f[0]=0,e=1;e<i;e++)f[e]=0;if(5<=u)if(0>i-1){for(u=0;u>i;u--)f.unshift(0),n.i++;f.unshift(1);n.i++}else f[i-1]++;for(;o<Math.max(0,t);o++)f.push(0);(t=f.reduceRight(function(n,t,i,r){return t+=n,r[i]=t%10,Math.floor(t/10)},0))&&(f.unshift(t),n.i++)}function ks(n,t,i,r,u){if(!h(n)&&!w(n)||isNaN(n))return"";var s=!isFinite(n),o=!1,e=Math.abs(n)+"",f="";if(s)f="∞";else{for(o=cv(e),lv(o,u,t.minFrac,t.maxFrac),f=o.d,e=o.i,u=o.e,s=[],o=f.reduce(function(n,t){return n&&!t},!0);0>e;)f.unshift(0),e++;for(0<e?s=f.splice(e,f.length):(s=f,f=[0]),e=[],f.length>=t.lgSize&&e.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)e.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&e.unshift(f.join(""));f=e.join(i);s.length&&(f+=r+s.join(""));u&&(f+="e+"+u)}return 0>n&&!o?t.negPre+f+t.negSuf:t.posPre+f+t.posSuf}function pu(n,t,i,r){var u="";for((0>n||r&&0>=n)&&(r?n=-n+1:(n=-n,u="-")),n=""+n;n.length<t;)n=le+n;return i&&(n=n.substr(n.length-t)),u+n}function d(n,t,i,r,u){return i=i||0,function(f){return f=f["get"+n](),(0<i||f>-i)&&(f+=i),0===f&&-12==i&&(f=12),pu(f,t,r,u)}}function pr(n,t,i){return function(r,u){var f=r["get"+n](),e=bu((i?"STANDALONE":"")+(t?"SHORT":"")+n);return u[e][f]}}function ds(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(4>=t?5:12)-t)}function gs(n){return function(t){var i=ds(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+i,t=1+Math.round(t/6048e5),pu(t,n)}}function ne(n,t){return 0>=n.getFullYear()?t.ERAS[0]:t.ERAS[1]}function nh(n){function i(n){var t;if(t=n.match(r)){n=new Date(0);var i=0,u=0,f=t[8]?n.setUTCFullYear:n.setFullYear,e=t[8]?n.setUTCHours:n.setHours;t[9]&&(i=tt(t[9]+t[10]),u=tt(t[9]+t[11]));f.call(n,tt(t[1]),tt(t[2])-1,tt(t[3]));i=tt(t[4]||0)-i;u=tt(t[5]||0)-u;f=tt(t[6]||0);t=Math.round(1e3*parseFloat("0."+(t[7]||0)));e.call(n,i,u,f,t)}return n}var r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,u,f){var c="",e=[],s,l,o;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,h(r)&&(r=yp.test(r)?tt(r):i(r)),w(r)&&(r=new Date(r)),!et(r)||!isFinite(r.getTime()))return r;for(;u;)(l=vp.exec(u))?(e=or(e,l,1),u=e.pop()):(e.push(u),u=null);return o=r.getTimezoneOffset(),f&&(o=ke(f,o),r=cf(r,f,!0)),t(e,function(t){s=ap[t];c+=s?s(r,n.DATETIME_FORMATS,o):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function av(){return function(n,t){return r(t)&&(t=2),hr(n,t)}}function vv(){return function(n,t,i){return(t=Infinity===Math.abs(Number(t))?Number(t):tt(t),isNaN(t))?n:(w(n)&&(n=n.toString()),!kt(n))?n:(i=!i||isNaN(i)?0:tt(i),i=0>i?Math.max(0,n.length+i):i,0<=t?te(n,i,i+t):0===i?te(n,t,n.length):te(n,Math.max(0,i+t),i))}}function te(n,t,i){return h(n)?n.slice(t,i):bt.call(n,t,i)}function th(n){function i(t){return t.map(function(t){var r=1,i=ir,u;return f(t)?i=t:h(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=n(t),i.constant)&&(u=i(),i=function(n){return n[u]})),{get:i,descending:r}})}function t(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}function r(n,t){var f=0,u=n.type,i=t.type,r;return u===i?(i=n.value,r=t.value,"string"===u?(i=i.toLowerCase(),r=r.toLowerCase()):"object"===u&&(s(i)&&(i=n.index),s(r)&&(r=t.index)),i!==r&&(f=i<r?-1:1)):f=u<i?-1:1,f}return function(n,u,e,o){if(null==n)return n;if(!kt(n))throw l("orderBy")("notarray",n);c(u)||(u=[u]);0===u.length&&(u=["+"]);var s=i(u),h=e?-1:1,a=f(o)?o:r;return n=Array.prototype.map.call(n,function(n,i){return{value:n,tieBreaker:{value:i,type:"number",index:i},predicateValues:s.map(function(r){var u=r.get(n);if(r=typeof u,null===u)r="string",u="null";else if("object"===r)n:{if(f(u.valueOf)&&(u=u.valueOf(),t(u)))break n;pe(u)&&(u=u.toString(),t(u))}return{value:u,type:r,index:i}})}}),n.sort(function(n,t){for(var r,i=0,u=s.length;i<u;i++)if(r=a(n.predicateValues[i],t.predicateValues[i]),r)return r*s[i].descending*h;return a(n.tieBreaker,t.tieBreaker)*h}),n.map(function(n){return n.value})}}function bi(n){return f(n)&&(n={link:n}),n.restrict=n.restrict||"AC",ft(n)}function ih(n,i,r,u,f){var e=this,o=[];e.$error={};e.$$success={};e.$pending=void 0;e.$name=f(i.name||i.ngForm||"")(r);e.$dirty=!1;e.$pristine=!0;e.$valid=!0;e.$invalid=!1;e.$submitted=!1;e.$$parentForm=dr;e.$rollbackViewValue=function(){t(o,function(n){n.$rollbackViewValue()})};e.$commitViewValue=function(){t(o,function(n){n.$commitViewValue()})};e.$addControl=function(n){yi(n.$name,"input");o.push(n);n.$name&&(e[n.$name]=n);n.$$parentForm=e};e.$$renameControl=function(n,t){var i=n.$name;e[i]===n&&delete e[i];e[t]=n;n.$name=t};e.$removeControl=function(n){n.$name&&e[n.$name]===n&&delete e[n.$name];t(e.$pending,function(t,i){e.$setValidity(i,null,n)});t(e.$error,function(t,i){e.$setValidity(i,null,n)});t(e.$$success,function(t,i){e.$setValidity(i,null,n)});er(o,n);n.$$parentForm=dr};fh({ctrl:this,$element:n,set:function(n,t,i){var r=n[t];r?-1===r.indexOf(i)&&r.push(i):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(er(r,i),0===r.length&&delete n[t])},$animate:u});e.$setDirty=function(){u.removeClass(n,tr);u.addClass(n,ef);e.$dirty=!0;e.$pristine=!1;e.$$parentForm.$setDirty()};e.$setPristine=function(){u.setClass(n,tr,ef+" ng-submitted");e.$dirty=!1;e.$pristine=!0;e.$submitted=!1;t(o,function(n){n.$setPristine()})};e.$setUntouched=function(){t(o,function(n){n.$setUntouched()})};e.$setSubmitted=function(){u.addClass(n,"ng-submitted");e.$submitted=!0;e.$$parentForm.$setSubmitted()}}function ie(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function wr(n,t,i,r,u,f){var h=v(t[0].type),s,e,o,c;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val();n=n&&n.type;"password"===h||i.ngTrim&&"false"===i.ngTrim||(u=p(u));(r.$viewValue!==u||""===u&&r.$$hasNativeValidators)&&r.$setViewValue(u,n)}},u.hasEvent("input"))t.on("input",o);else{c=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||c(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut",c)}t.on("change",o);if(oc[h]&&r.$$hasNativeValidators&&h===i.type)t.on("keydown wheel mousedown",function(n){if(!e){var t=this.validity,i=t.badInput,r=t.typeMismatch;e=f.defer(function(){e=null;t.badInput===i&&t.typeMismatch===r||o(n)})}});r.$render=function(){var n=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==n&&t.val(n)}}function wu(n,i){return function(r,u){var e,f;if(et(r))return r;if(h(r)){if('"'==r.charAt(0)&&'"'==r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),bp.test(r))return new Date(r);if(n.lastIndex=0,e=n.exec(r))return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},t(e,function(n,t){t<i.length&&(f[i[t]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function br(n,t,i,f){return function(e,o,s,h,c,l,a){function p(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function k(n){return u(n)&&!et(n)?i(n)||void 0:n}var v,y,w,b;rh(e,o,s,h);wr(e,o,s,h,c,l);v=h&&h.$options&&h.$options.timezone;h.$$parserName=n;h.$parsers.push(function(n){return h.$isEmpty(n)?null:t.test(n)?(n=i(n,y),v&&(n=cf(n,v)),n):void 0});h.$formatters.push(function(n){if(n&&!et(n))throw nu("datefmt",n);return p(n)?((y=n)&&v&&(y=cf(y,v,!0)),a("date")(n,f,v)):(y=null,"")});(u(s.min)||s.ngMin)&&(h.$validators.min=function(n){return!p(n)||r(w)||i(n)>=w},s.$observe("min",function(n){w=k(n);h.$validate()}));(u(s.max)||s.ngMax)&&(h.$validators.max=function(n){return!p(n)||r(b)||i(n)<=b},s.$observe("max",function(n){b=k(n);h.$validate()}))}}function rh(n,t,i,r){(r.$$hasNativeValidators=s(t[0].validity))&&r.$parsers.push(function(n){var i=t.prop("validity")||{};if(!i.badInput&&!i.typeMismatch)return n})}function uh(n,t,i,r,f){if(u(r)){if(n=n(r),!n.constant)throw nu("constexpr",i,r);return n(t)}return f}function re(n,i){return n="ngClass"+n,["$animate",function(r){function f(n,t){var f=[],r=0,u,i;n:for(;r<n.length;r++){for(u=n[r],i=0;i<t.length;i++)if(u==t[i])continue n;f.push(u)}return f}function u(n){var i=[];return c(n)?(t(n,function(n){i=i.concat(u(n))}),i):h(n)?n.split(" "):s(n)?(t(n,function(n,t){n&&(i=i.concat(t.split(" ")))}),i):n}return{restrict:"AC",link:function(e,o,s){function a(n){n=h(n,1);s.$addClass(n)}function h(n,i){var r=o.data("$classCounts")||y(),u=[];return t(n,function(n){(0<i||r[n])&&(r[n]=(r[n]||0)+i,r[n]===+(0<i)&&u.push(n))}),o.data("$classCounts",r),u.join(" ")}function p(n,t){var i=f(t,n),u=f(n,t),i=h(i,1),u=h(u,-1);i&&i.length&&r.addClass(o,i);u&&u.length&&r.removeClass(o,u)}function v(n){var t,r;(!0===i||(e.$index&1)===i)&&(t=u(n||[]),l?ot(n,l)||(r=u(l),p(r,t)):a(t));l=c(n)?n.map(function(n){return st(n)}):st(n)}var l;e.$watch(s[n],v,!0);s.$observe("class",function(){v(e.$eval(s[n]))});"ngClass"!==n&&e.$watch("$index",function(t,r){var f=t&1,o;f!==(r&1)&&(o=u(e.$eval(s[n])),f===i?a(o):(f=h(o,-1),s.$removeClass(f)))})}}}]}function fh(n){function f(n,t){t&&!i[n]?(h.addClass(o,n),i[n]=!0):!t&&i[n]&&(h.removeClass(o,n),i[n]=!1)}function e(n,t){n=n?"-"+to(n,"-"):"";f(gr+n,!0===t);f(lc+n,!1===t)}var t=n.ctrl,o=n.$element,i={},s=n.set,u=n.unset,h=n.$animate;i[lc]=!(i[gr]=o.hasClass(gr));t.$setValidity=function(n,i,o){r(i)?(t.$pending||(t.$pending={}),s(t.$pending,n,o)):(t.$pending&&u(t.$pending,n,o),eh(t.$pending)&&(t.$pending=void 0));ui(i)?i?(u(t.$error,n,o),s(t.$$success,n,o)):(s(t.$error,n,o),u(t.$$success,n,o)):(u(t.$error,n,o),u(t.$$success,n,o));t.$pending?(f(ac,!0),t.$valid=t.$invalid=void 0,e("",null)):(f(ac,!1),t.$valid=eh(t.$error),t.$invalid=!t.$valid,e("",t.$valid));i=t.$pending&&t.$pending[n]?void 0:t.$error[n]?!1:t.$$success[n]?!0:null;e(n,i);t.$$parentForm.$setValidity(n,i,t)}}function eh(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var yv=/^\/(.+)\/([a-z]*)$/,wt=Object.prototype.hasOwnProperty,v=function(n){return h(n)?n.toLowerCase():n},bu=function(n){return h(n)?n.toUpperCase():n},ti,e,ii,bt=[].slice,pv=[].splice,wv=[].push,rt=Object.prototype.toString,oh=Object.getPrototypeOf,hi=l("ng"),ut=n.angular||(n.angular={}),ue,ku=0,gi,ch,oe,se,wh,uf,i,ff,gh,nc,tc,kr,dr;ti=n.document.documentMode;o.$inject=[];ir.$inject=[];var c=Array.isArray,bv=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,p=function(n){return h(n)?n.trim():n},sh=function(n){return n.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ci=function(){var i,t;if(!u(ci.rules))if(i=n.document.querySelector("[ng-csp]")||n.document.querySelector("[data-ng-csp]"),i)t=i.getAttribute("ng-csp")||i.getAttribute("data-ng-csp"),ci.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")};else{i=ci;try{new Function("");t=!1}catch(r){t=!0}i.rules={noUnsafeEval:t,noInlineStyle:!1}}return ci.rules},du=function(){if(u(du.name_))return du.name_;for(var r,e=ki.length,i,f,t=0;t<e;++t)if(i=ki[t],r=n.document.querySelector("["+i.replace(":","\\:")+"jq]")){f=r.getAttribute(i+"jq");break}return du.name_=f},kv=/:/g,ki=["ng-","data-ng-","ng:","x-ng-"],dv=/[A-Z]/g,hh=!1,di=3,gv={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};b.expando="ng339";gi=b.cache={};ch=1;b._data=function(n){return this.cache[n[this.expando]]||{}};var ny=/([\:\-\_]+(.))/g,ty=/^moz([A-Z])/,gu={mouseleave:"mouseout",mouseenter:"mouseover"},fe=l("jqLite"),iy=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ee=/<|&#?\w+;/,ry=/<([\w:-]+)/,uy=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};ct.optgroup=ct.option;ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead;ct.th=ct.td;var fy=n.Node.prototype.contains||function(n){return!!(this.compareDocumentPosition(n)&16)},nr=b.prototype={ready:function(t){function i(){r||(r=!0,t())}var r=!1;"complete"===n.document.readyState?n.setTimeout(i):(this.on("DOMContentLoaded",i),b(n).on("load",i))},toString:function(){var n=[];return t(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return 0<=n?e(this[n]):e(this[this.length+n])},length:0,push:wv,sort:[].sort,splice:[].splice},nf={};t("multiple selected checked disabled readOnly required open".split(" "),function(n){nf[v(n)]=n});oe={};t("input select option textarea button form details".split(" "),function(n){oe[n]=!0});se={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};t({data:vf,removeData:lr,hasData:function(n){for(var t in gi[n.ng339])return!0;return!1},cleanData:function(n){for(var t=0,i=n.length;t<i;t++)lr(n[t])}},function(n,t){b[t]=n});t({data:vf,inheritedData:hu,scope:function(n){return e.data(n,"$scope")||hu(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return e.data(n,"$isolateScope")||e.data(n,"$isolateScopeNoTemplate")},controller:so,injector:function(n){return hu(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:eu,css:function(n,t,i){if(t=cr(t),u(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,i){var r=n.nodeType;if(r!==di&&2!==r&&8!==r)if(r=v(t),nf[r])if(u(i))i?(n[t]=!0,n.setAttribute(t,r)):(n[t]=!1,n.removeAttribute(r));else return n[t]||(n.attributes.getNamedItem(t)||o).specified?r:void 0;else if(u(i))n.setAttribute(t,i);else if(n.getAttribute)return n=n.getAttribute(t,2),null===n?void 0:n},prop:function(n,t,i){if(u(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(r(t)){var i=n.nodeType;return 1===i||i===di?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,i){if(r(i)){if(n.multiple&&"select"===at(n)){var u=[];return t(n.options,function(n){n.selected&&u.push(n.value||n.text)}),0===u.length?null:u}return n.value}n.value=i},html:function(n,t){if(r(t))return n.innerHTML;uu(n,!0);n.innerHTML=t},empty:ho},function(n,t){b.prototype[t]=function(t,i){var u,f,e=this.length,o;if(n!==ho&&r(2==n.length&&n!==eu&&n!==so?t:i)){if(s(t)){for(u=0;u<e;u++)if(n===vf)n(this[u],t);else for(f in t)n(this[u],f,t[f]);return this}for(u=n.$dv,e=r(u)?Math.min(e,1):e,f=0;f<e;f++)o=n(this[f],t,i),u=u?u+o:o;return u}for(u=0;u<e;u++)n(this[u],t,i);return this}});t({removeData:lr,on:function(n,t,i,r){var f,e,s,o;if(u(r))throw fe("onargs");if(ro(n))for(r=fu(n,!0),f=r.events,e=r.handle,e||(e=r.handle=hl(n,f)),r=0<=t.indexOf(" ")?t.split(" "):[t],s=r.length,o=function(t,r,u){var o=f[t];o||(o=f[t]=[],o.specialHandlerWrapper=r,"$destroy"===t||u||n.addEventListener(t,e,!1));o.push(i)};s--;)t=r[s],gu[t]?(o(gu[t],ll),o(t,void 0,!0)):o(t)},off:eo,one:function(n,t,i){n=e(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,i){var r,u=n.parentNode;uu(n);t(new b(i),function(t){r?u.insertBefore(t,r.nextSibling):u.replaceChild(t,n);r=t})},children:function(n){var i=[];return t(n.childNodes,function(n){1===n.nodeType&&i.push(n)}),i},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var i=n.nodeType,r;if(1===i||11===i)for(t=new b(t),i=0,r=t.length;i<r;i++)n.appendChild(t[i])},prepend:function(n,i){if(1===n.nodeType){var r=n.firstChild;t(new b(i),function(t){n.insertBefore(t,r)})}},wrap:function(n,t){fo(n,e(t).eq(0).clone()[0])},remove:cu,detach:function(n){cu(n,!0)},after:function(n,t){var u=n,e=n.parentNode,i,f,r;for(t=new b(t),i=0,f=t.length;i<f;i++)r=t[i],e.insertBefore(r,u.nextSibling),u=r},addClass:su,removeClass:ou,toggleClass:function(n,i,u){i&&t(i.split(" "),function(t){var i=u;r(i)&&(i=!eu(n,t));(i?su:ou)(n,t)})},parent:function(n){return(n=n.parentNode)&&11!==n.nodeType?n:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:af,triggerHandler:function(n,i,r){var u,e,s=i.type||i,f=fu(n);(f=(f=f&&f.events)&&f[s])&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:o,type:s,target:n},i.type&&(u=a(u,i)),i=st(f),e=r?[u].concat(r):[u],t(i,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){b.prototype[t]=function(t,i,f){for(var o,s=0,h=this.length;s<h;s++)r(o)?(o=n(this[s],t,i,f),u(o)&&(o=e(o))):oo(o,n(this[s],t,i,f));return u(o)?o:this};b.prototype.bind=b.prototype.on;b.prototype.unbind=b.prototype.off});pi.prototype={put:function(n,t){this[fi(n,this.nextUid)]=t},get:function(n){return this[fi(n,this.nextUid)]},remove:function(n){var t=this[n=fi(n,this.nextUid)];return delete this[n],t}};var ey=[function(){this.$get=[function(){return pi}]}],oy=/^([^\(]+?)=>/,sy=/^[^\(]*\(\s*([^\)]*)\)/m,hy=/,/,cy=/^\s*(_?)(\S+?)\1\s*$/,ly=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,li=l("$injector");ar.$$annotate=function(n,i,r){var u;if("function"==typeof n){if(!(u=n.$inject)){if(u=[],n.length){if(i)throw h(r)&&r||(r=n.name||vl(n)),li("strictdi",r);i=lo(n);t(i[1].split(hy),function(n){n.replace(cy,function(n,t,i){u.push(i)})})}n.$inject=u}}else c(n)?(i=n.length-1,vi(n[i],"fn"),u=n.slice(0,i)):vi(n,"fn",!0);return u};var lh=l("$animate"),ay=function(){this.$get=o},vy=function(){var n=new pi,i=[];this.$get=["$$AnimateRunner","$rootScope",function(r,u){function f(n,i,r){var u=!1;return i&&(i=h(i)?i.split(" "):c(i)?i:[],t(i,function(t){t&&(u=!0,n[t]=r)})),u}function e(){t(i,function(i){var f=n.get(i);if(f){var e=pl(i.attr("class")),r="",u="";t(f,function(n,t){n!==!!e[t]&&(n?r+=(r.length?" ":"")+t:u+=(u.length?" ":"")+t)});t(i,function(n){r&&su(n,r);u&&ou(n,u)});n.remove(i)}});i.length=0}return{enabled:o,on:o,off:o,pin:o,push:function(t,o,s,h){return h&&h(),s=s||{},s.from&&t.css(s.from),s.to&&t.css(s.to),(s.addClass||s.removeClass)&&(o=s.addClass,h=s.removeClass,s=n.get(t)||{},o=f(s,o,!0),h=f(s,h,!1),o||h)&&(n.put(t,s),i.push(t),1===i.length&&u.$$postDigest(e)),t=new r,t.complete(),t}}}]},yy=["$provide",function(n){var t=this;this.$$registeredAnimations=Object.create(null);this.register=function(i,r){if(i&&"."!==i.charAt(0))throw lh("notcsel",i);var u=i+"-animation";t.$$registeredAnimations[i.substr(1)]=u;n.factory(u,r)};this.classNameFilter=function(n){if(1===arguments.length&&(this.$$classNameFilter=n instanceof RegExp?n:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw lh("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(n){function t(n,t,i){var r,u;if(i){n:{for(r=0;r<i.length;r++)if(u=i[r],1===u.nodeType){r=u;break n}r=void 0}!r||r.parentNode||r.previousElementSibling||(i=null)}i?i.after(n):t.prepend(n)}return{on:n.on,off:n.off,pin:n.pin,enabled:n.enabled,cancel:function(n){n.end&&n.end()},enter:function(i,r,u,f){return r=r&&e(r),u=u&&e(u),r=r||u.parent(),t(i,r,u),n.push(i,"enter",ei(f))},move:function(i,r,u,f){return r=r&&e(r),u=u&&e(u),r=r||u.parent(),t(i,r,u),n.push(i,"move",ei(f))},leave:function(t,i){return n.push(t,"leave",ei(i),function(){t.remove()})},addClass:function(t,i,r){return r=ei(r),r.addClass=vr(r.addclass,i),n.push(t,"addClass",r)},removeClass:function(t,i,r){return r=ei(r),r.removeClass=vr(r.removeClass,i),n.push(t,"removeClass",r)},setClass:function(t,i,r,u){return u=ei(u),u.addClass=vr(u.addClass,i),u.removeClass=vr(u.removeClass,r),n.push(t,"setClass",u)},animate:function(t,i,r,u,f){return f=ei(f),f.from=f.from?a(f.from,i):i,f.to=f.to?a(f.to,r):r,f.tempClasses=vr(f.tempClasses,u||"ng-inline-animate"),n.push(t,"animate",f)}}}]}],py=function(){this.$get=["$$rAF",function(n){function i(i){t.push(i);1<t.length||n(function(){for(var n=0;n<t.length;n++)t[n]();t=[]})}var t=[];return function(){var n=!1;return i(function(){n=!0}),function(t){n?t():i(t)}}}]},wy=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(n,i,r,u,f){function e(n){this.setHost(n);var t=r();this._doneCallbacks=[];this._tick=function(n){var i=u[0];i&&i.hidden?f(n,0,!1):t(n)};this._state=0}return e.chain=function(n,t){function r(){i===n.length?t(!0):n[i](function(n){!1===n?t(!1):(i++,r())})}var i=0;r()},e.all=function(n,i){function u(t){r=r&&t;++f===n.length&&i(r)}var f=0,r=!0;t(n,function(n){n.done(u)})},e.prototype={setHost:function(n){this.host=n||{}},done:function(n){2===this._state?n():this._doneCallbacks.push(n)},progress:o,getPromise:function(){if(!this.promise){var t=this;this.promise=n(function(n,i){t.done(function(t){!1===t?i():n()})})}return this.promise},then:function(n,t){return this.getPromise().then(n,t)},"catch":function(n){return this.getPromise()["catch"](n)},"finally":function(n){return this.getPromise()["finally"](n)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(n){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(n)}))},_resolve:function(n){2!==this._state&&(t(this._doneCallbacks,function(t){t(n)}),this._doneCallbacks.length=0,this._state=2)}},e}]},by=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(n,t,i){return function(t,r){function e(){return n(function(){u.addClass&&(t.addClass(u.addClass),u.addClass=null);u.removeClass&&(t.removeClass(u.removeClass),u.removeClass=null);u.to&&(t.css(u.to),u.to=null);o||f.complete();o=!0}),f}var u=r||{},o,f;return u.$$prepared||(u=dt(u)),u.cleanupStyles&&(u.from=u.to=null),u.from&&(t.css(u.from),u.from=null),f=new i,{start:e,end:e}}}]},g=l("$compile"),he=new function(){};ao.$inject=["$provide","$$sanitizeUriProvider"];lu.prototype.isFirstChange=function(){return this.previousValue===he};var ah=/^((?:x|data)[\:\-_])/i,ky=l("$controller"),vh=/^(\S+)(\s+as\s+([\w$]+))?$/,dy=function(){this.$get=["$document",function(n){return function(t){return t?!t.nodeType&&t instanceof e&&(t=t[0]):t=n[0].body,t.offsetWidth+1}}]},yh="application/json",ce={"Content-Type":yh+";charset=utf-8"},gy=/^\[|^\{(?!\{)/,np={"[":/]$/,"{":/}$/},tp=/^\)\]\}',?\n/,ip=l("$http"),ph=function(n){return function(){throw ip("legacy",n);}},ai=ut.$interpolateMinErr=l("$interpolate");ai.throwNoconcat=function(n){throw ai("noconcat",n);};ai.interr=function(n,t){return ai("interr",n,t.toString())};var rp=function(){this.$get=["$window",function(n){function r(n){var t=function(n){t.data=n;t.called=!0};return t.id=n,t}var i=n.angular.callbacks,t={};return{createCallback:function(n){n="_"+(i.$$counter++).toString(36);var u="angular.callbacks."+n,f=r(n);return t[u]=i[n]=f,u},wasCalled:function(n){return t[n].called},getResponse:function(n){return t[n].data},removeCallback:function(n){delete i[t[n].id];delete t[n]}}}]},up=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,fp={http:80,https:443,ftp:21},tf=l("$location"),ep={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:au("$$absUrl"),url:function(n){if(r(n))return this.$$url;var t=up.exec(n);return(t[1]||""===n)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===n)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:au("$$protocol"),host:au("$$host"),port:au("$$port"),path:is("$$path",function(n){return n=null!==n?n.toString():"","/"==n.charAt(0)?n:"/"+n}),search:function(n,i){switch(arguments.length){case 0:return this.$$search;case 1:if(h(n)||w(n))n=n.toString(),this.$$search=ge(n);else if(s(n))n=dt(n,{}),t(n,function(t,i){null==t&&delete n[i]}),this.$$search=n;else throw tf("isrcharg");break;default:r(i)||null===i?delete this.$$search[n]:this.$$search[n]=i}return this.$$compose(),this},hash:is("$$hash",function(n){return null!==n?n.toString():""}),replace:function(){return this.$$replace=!0,this}};t([ts,kf,bf],function(n){n.prototype=Object.create(ep);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==bf||!this.$$html5)throw tf("nostate");return this.$$state=r(t)?null:t,this}});var it=l("$parse"),op=Function.prototype.call,sp=Function.prototype.apply,hp=Function.prototype.bind,rf=y();t("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){rf[n]=!0});wh={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};uf=function(n){this.options=n};uf.prototype={constructor:uf,lex:function(n){for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(n=this.text.charAt(this.index),'"'===n||"'"===n)this.readString(n);else if(this.isNumber(n)||"."===n&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(n,"(){}[].,;:?"))this.tokens.push({index:this.index,text:n}),this.index++;else if(this.isWhitespace(n))this.index++;else{var t=n+this.peek(),i=t+this.peek(2),r=rf[t],u=rf[i];rf[n]||r||u?(n=u?i:r?t:n,this.tokens.push({index:this.index,text:n,operator:!0}),this.index+=n.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return-1!==t.indexOf(n)},peek:function(n){return n=n||1,this.index+n<this.text.length?this.text.charAt(this.index+n):!1},isNumber:function(n){return"0"<=n&&"9">=n&&"string"==typeof n},isWhitespace:function(n){return" "===n||"\r"===n||"\t"===n||"\n"===n||"\v"===n||" "===n},isIdentifierStart:function(n){return this.options.isIdentifierStart?this.options.isIdentifierStart(n,this.codePointAt(n)):this.isValidIdentifierStart(n)},isValidIdentifierStart:function(n){return"a"<=n&&"z">=n||"A"<=n&&"Z">=n||"_"===n||"$"===n},isIdentifierContinue:function(n){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(n,this.codePointAt(n)):this.isValidIdentifierContinue(n)},isValidIdentifierContinue:function(n,t){return this.isValidIdentifierStart(n,t)||this.isNumber(n)},codePointAt:function(n){return 1===n.length?n.charCodeAt(0):(n.charCodeAt(0)<<10)+n.charCodeAt(1)-56613888},peekMultichar:function(){var n=this.text.charAt(this.index),t=this.peek(),i,r;return t?(i=n.charCodeAt(0),r=t.charCodeAt(0),55296<=i&&56319>=i&&56320<=r&&57343>=r?n+t:n):n},isExpOperator:function(n){return"-"===n||"+"===n||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;t=u(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw it("lexerr",n,t,this.text);},readNumber:function(){for(var t,i,n="",r=this.index;this.index<this.text.length;){if(t=v(this.text.charAt(this.index)),"."==t||this.isNumber(t))n+=t;else if(i=this.peek(),"e"==t&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&"e"==n.charAt(n.length-1))n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||"e"!=n.charAt(n.length-1))break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){var t=this.index,n;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){if(n=this.peekMultichar(),!this.isIdentifierContinue(n))break;this.index+=n.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(n){var f=this.index,t,u;this.index++;for(var r="",u=n,i=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),u=u+t,i)"u"===t?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,r+=String.fromCharCode(parseInt(i,16))):r+=wh[t]||t,i=!1;else if("\\"===t)i=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:u,constant:!0,value:r});return}r+=t}this.index++}this.throwError("Unterminated quote",f)}};i=function(n,t){this.lexer=n;this.options=t};i.Program="Program";i.ExpressionStatement="ExpressionStatement";i.AssignmentExpression="AssignmentExpression";i.ConditionalExpression="ConditionalExpression";i.LogicalExpression="LogicalExpression";i.BinaryExpression="BinaryExpression";i.UnaryExpression="UnaryExpression";i.CallExpression="CallExpression";i.MemberExpression="MemberExpression";i.Identifier="Identifier";i.Literal="Literal";i.ArrayExpression="ArrayExpression";i.Property="Property";i.ObjectExpression="ObjectExpression";i.ThisExpression="ThisExpression";i.LocalsExpression="LocalsExpression";i.NGValueParameter="NGValueParameter";i.prototype={ast:function(n){return this.text=n,this.tokens=this.lexer.lex(n),n=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n},program:function(){for(var n=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:i.Program,body:n}},expressionStatement:function(){return{type:i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();return this.expect("=")&&(n={type:i.AssignmentExpression,left:n,right:this.assignment(),operator:"="}),n},ternary:function(){var n=this.logicalOR(),t,r;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(r=this.expression(),{type:i.ConditionalExpression,test:n,alternate:t,consequent:r}):n},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:i.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:i.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.relational()};return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.additive()};return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:i.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n,t;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?n=dt(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?n={type:i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(n={type:i.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(n={type:i.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?n={type:i.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){n=[n];for(var t={type:i.CallExpression,callee:this.identifier(),arguments:n,filter:!0};this.expect(":");)n.push(this.expression());return t},parseArguments:function(){var n=[];if(")"!==this.peekToken().text)do n.push(this.filterChain());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:i.Identifier,name:n.text}},constant:function(){return{type:i.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:i.ArrayExpression,elements:n}},object:function(){var t=[],n;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;n={type:i.Property,kind:"init"};this.peek().constant?(n.key=this.constant(),n.computed=!1,this.consume(":"),n.value=this.expression()):this.peek().identifier?(n.key=this.identifier(),n.computed=!1,this.peek(":")?(this.consume(":"),n.value=this.expression()):n.value=n.key):this.peek("[")?(this.consume("["),n.key=this.expression(),this.consume("]"),n.computed=!0,this.consume(":"),n.value=this.expression()):this.throwError("invalid key",this.peek());t.push(n)}while(this.expect(","));return this.consume("}"),{type:i.ObjectExpression,properties:t}},throwError:function(n,t){throw it("syntax",t.text,n,t.index+1,this.text,this.text.substring(t.index));},consume:function(n){if(0===this.tokens.length)throw it("ueoe",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw it("ueoe",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){n=this.tokens[n];var f=n.text;if(f===t||f===i||f===r||f===u||!(t||i||r||u))return n}return!1},expect:function(n,t,i,r){return(n=this.peek(n,t,i,r))?(this.tokens.shift(),n):!1},selfReferential:{"this":{type:i.ThisExpression},$locals:{type:i.LocalsExpression}}};hs.prototype={compile:function(n,i){var u=this,f=this.astBuilder.ast(n),r,e;return this.state={nextId:0,filters:{},expensiveChecks:i,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},k(f,u.$filter),r="",this.stage="assign",(e=os(f))&&(this.state.computing="assign",r=this.nextId(),this.recurse(e,r),this.return_(r),r="fn.assign="+this.generateFunction("assign","s,v,l")),e=fs(f.body),u.stage="inputs",t(e,function(n,t){var i="fn"+t,r;u.state[i]={vars:[],body:[],own:{}};u.state.computing=i;r=u.nextId();u.recurse(n,r);u.return_(r);u.state.inputs.push(i);n.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(f),r='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",r=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",r)(this.$filter,wi,gt,rs,aa,vu,va,us,n),this.state=this.stage=void 0,r.literal=ss(f),r.constant=f.constant,r},USE:"use",STRICT:"strict",watchFns:function(){var n=[],i=this.state.inputs,r=this;return t(i,function(t){n.push("var "+t+"="+r.generateFunction(t,"s"))}),i.length&&n.push("fn.inputs=["+i.join(",")+"];"),n.join("")},generateFunction:function(n,t){return"function("+t+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],i=this;return t(this.state.filters,function(t,r){n.push(t+"=$filter("+i.escape(r)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,r,f,e,s,h){var l,v,c=this,y,a,p;if(e=e||o,!h&&u(n.watchId))r=r||this.nextId(),this.if_("i",this.lazyAssign(r,this.computedMember("i",n.watchId)),this.lazyRecurse(n,r,f,e,s,!0));else switch(n.type){case i.Program:t(n.body,function(t,i){c.recurse(t.expression,void 0,void 0,function(n){v=n});i!==n.body.length-1?c.current().body.push(v,";"):c.return_(v)});break;case i.Literal:a=this.escape(n.value);this.assign(r,a);e(a);break;case i.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(n){v=n});a=n.operator+"("+this.ifDefined(v,0)+")";this.assign(r,a);e(a);break;case i.BinaryExpression:this.recurse(n.left,void 0,void 0,function(n){l=n});this.recurse(n.right,void 0,void 0,function(n){v=n});a="+"===n.operator?this.plus(l,v):"-"===n.operator?this.ifDefined(l,0)+n.operator+this.ifDefined(v,0):"("+l+")"+n.operator+"("+v+")";this.assign(r,a);e(a);break;case i.LogicalExpression:r=r||this.nextId();c.recurse(n.left,r);c.if_("&&"===n.operator?r:c.not(r),c.lazyRecurse(n.right,r));e(r);break;case i.ConditionalExpression:r=r||this.nextId();c.recurse(n.test,r);c.if_(r,c.lazyRecurse(n.alternate,r),c.lazyRecurse(n.consequent,r));e(r);break;case i.Identifier:r=r||this.nextId();f&&(f.context="inputs"===c.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),f.computed=!1,f.name=n.name);wi(n.name);c.if_("inputs"===c.stage||c.not(c.getHasOwnProperty("l",n.name)),function(){c.if_("inputs"===c.stage||"s",function(){s&&1!==s&&c.if_(c.not(c.nonComputedMember("s",n.name)),c.lazyAssign(c.nonComputedMember("s",n.name),"{}"));c.assign(r,c.nonComputedMember("s",n.name))})},r&&c.lazyAssign(r,c.nonComputedMember("l",n.name)));(c.state.expensiveChecks||yu(n.name))&&c.addEnsureSafeObject(r);e(r);break;case i.MemberExpression:l=f&&(f.context=this.nextId())||this.nextId();r=r||this.nextId();c.recurse(n.object,l,void 0,function(){c.if_(c.notNull(l),function(){s&&1!==s&&c.addEnsureSafeAssignContext(l);n.computed?(v=c.nextId(),c.recurse(n.property,v),c.getStringValue(v),c.addEnsureSafeMemberName(v),s&&1!==s&&c.if_(c.not(c.computedMember(l,v)),c.lazyAssign(c.computedMember(l,v),"{}")),a=c.ensureSafeObject(c.computedMember(l,v)),c.assign(r,a),f&&(f.computed=!0,f.name=v)):(wi(n.property.name),s&&1!==s&&c.if_(c.not(c.nonComputedMember(l,n.property.name)),c.lazyAssign(c.nonComputedMember(l,n.property.name),"{}")),a=c.nonComputedMember(l,n.property.name),(c.state.expensiveChecks||yu(n.property.name))&&(a=c.ensureSafeObject(a)),c.assign(r,a),f&&(f.computed=!1,f.name=n.property.name))},function(){c.assign(r,"undefined")});e(r)},!!s);break;case i.CallExpression:r=r||this.nextId();n.filter?(v=c.filter(n.callee.name),y=[],t(n.arguments,function(n){var t=c.nextId();c.recurse(n,t);y.push(t)}),a=v+"("+y.join(",")+")",c.assign(r,a),e(r)):(v=c.nextId(),l={},y=[],c.recurse(n.callee,v,l,function(){c.if_(c.notNull(v),function(){c.addEnsureSafeFunction(v);t(n.arguments,function(n){c.recurse(n,c.nextId(),void 0,function(n){y.push(c.ensureSafeObject(n))})});l.name?(c.state.expensiveChecks||c.addEnsureSafeObject(l.context),a=c.member(l.context,l.name,l.computed)+"("+y.join(",")+")"):a=v+"("+y.join(",")+")";a=c.ensureSafeObject(a);c.assign(r,a)},function(){c.assign(r,"undefined")});e(r)}));break;case i.AssignmentExpression:if(v=this.nextId(),l={},!es(n.left))throw it("lval");this.recurse(n.left,void 0,l,function(){c.if_(c.notNull(l.context),function(){c.recurse(n.right,v);c.addEnsureSafeObject(c.member(l.context,l.name,l.computed));c.addEnsureSafeAssignContext(l.context);a=c.member(l.context,l.name,l.computed)+n.operator+v;c.assign(r,a);e(r||a)})},1);break;case i.ArrayExpression:y=[];t(n.elements,function(n){c.recurse(n,c.nextId(),void 0,function(n){y.push(n)})});a="["+y.join(",")+"]";this.assign(r,a);e(a);break;case i.ObjectExpression:y=[];p=!1;t(n.properties,function(n){n.computed&&(p=!0)});p?(r=r||this.nextId(),this.assign(r,"{}"),t(n.properties,function(n){n.computed?(l=c.nextId(),c.recurse(n.key,l)):l=n.key.type===i.Identifier?n.key.name:""+n.key.value;v=c.nextId();c.recurse(n.value,v);c.assign(c.member(r,l,n.computed),v)})):(t(n.properties,function(t){c.recurse(t.value,n.constant?void 0:c.nextId(),void 0,function(n){y.push(c.escape(t.key.type===i.Identifier?t.key.name:""+t.key.value)+":"+n)})}),a="{"+y.join(",")+"}",this.assign(r,a));e(r||a);break;case i.ThisExpression:this.assign(r,"s");e("s");break;case i.LocalsExpression:this.assign(r,"l");e("l");break;case i.NGValueParameter:this.assign(r,"v");e("v")}},getHasOwnProperty:function(n,t){var i=n+"."+t,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,n+"&&("+this.escape(t)+" in "+n+")")),r[i]},assign:function(n,t){if(n)return this.current().body.push(n,"=",t,";"),n},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,t){return"ifDefined("+n+","+this.escape(t)+")"},plus:function(n,t){return"plus("+n+","+t+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,t,i){if(!0===n)t();else{var r=this.current().body;r.push("if(",n,"){");t();r.push("}");i&&(r.push("else{"),i(),r.push("}"))}},not:function(n){return"!("+n+")"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,t){return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t)?n+"."+t:n+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(n,t){return n+"["+t+"]"},member:function(n,t,i){return i?this.computedMember(n,t):this.nonComputedMember(n,t)},addEnsureSafeObject:function(n){this.current().body.push(this.ensureSafeObject(n),";")},addEnsureSafeMemberName:function(n){this.current().body.push(this.ensureSafeMemberName(n),";")},addEnsureSafeFunction:function(n){this.current().body.push(this.ensureSafeFunction(n),";")},addEnsureSafeAssignContext:function(n){this.current().body.push(this.ensureSafeAssignContext(n),";")},ensureSafeObject:function(n){return"ensureSafeObject("+n+",text)"},ensureSafeMemberName:function(n){return"ensureSafeMemberName("+n+",text)"},ensureSafeFunction:function(n){return"ensureSafeFunction("+n+",text)"},getStringValue:function(n){this.assign(n,"getStringValue("+n+")")},ensureSafeAssignContext:function(n){return"ensureSafeAssignContext("+n+",text)"},lazyRecurse:function(n,t,i,r,u,f){var e=this;return function(){e.recurse(n,t,i,r,u,f)}},lazyAssign:function(n,t){var i=this;return function(){i.assign(n,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(h(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(n))return n.toString();if(!0===n)return"true";if(!1===n)return"false";if(null===n)return"null";if("undefined"==typeof n)return"undefined";throw it("esc");},nextId:function(n,t){var i="v"+this.state.nextId++;return n||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};cs.prototype={compile:function(n,i){var s=this,u=this.astBuilder.ast(n),r,h,f,e;return this.expression=n,this.expensiveChecks=i,k(u,s.$filter),(r=os(u))&&(h=this.recurse(r)),r=fs(u.body),r&&(f=[],t(r,function(n,t){var i=s.recurse(n);n.input=i;f.push(i);n.watchId=t})),e=[],t(u.body,function(n){e.push(s.recurse(n.expression))}),r=0===u.body.length?o:1===u.body.length?e[0]:function(n,i){var r;return t(e,function(t){r=t(n,i)}),r},h&&(r.assign=function(n,t,i){return h(n,i,t)}),f&&(r.inputs=f),r.literal=ss(u),r.constant=u.constant,r},recurse:function(n,r,u){var s,o,e=this,f;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case i.Literal:return this.value(n.value,r);case i.UnaryExpression:return o=this.recurse(n.argument),this["unary"+n.operator](o,r);case i.BinaryExpression:return s=this.recurse(n.left),o=this.recurse(n.right),this["binary"+n.operator](s,o,r);case i.LogicalExpression:return s=this.recurse(n.left),o=this.recurse(n.right),this["binary"+n.operator](s,o,r);case i.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),r);case i.Identifier:return wi(n.name,e.expression),e.identifier(n.name,e.expensiveChecks||yu(n.name),r,u,e.expression);case i.MemberExpression:return s=this.recurse(n.object,!1,!!u),n.computed||(wi(n.property.name,e.expression),o=n.property.name),n.computed&&(o=this.recurse(n.property)),n.computed?this.computedMember(s,o,r,u,e.expression):this.nonComputedMember(s,o,e.expensiveChecks,r,u,e.expression);case i.CallExpression:return f=[],t(n.arguments,function(n){f.push(e.recurse(n))}),n.filter&&(o=this.$filter(n.callee.name)),n.filter||(o=this.recurse(n.callee,!0)),n.filter?function(n,t,i,u){for(var s=[],e=0;e<f.length;++e)s.push(f[e](n,t,i,u));return n=o.apply(void 0,s,u),r?{context:void 0,name:void 0,value:n}:n}:function(n,t,i,u){var h=o(n,t,i,u),s,c;if(null!=h.value){for(gt(h.context,e.expression),rs(h.value,e.expression),s=[],c=0;c<f.length;++c)s.push(gt(f[c](n,t,i,u),e.expression));s=gt(h.value.apply(h.context,s),e.expression)}return r?{value:s}:s};case i.AssignmentExpression:return s=this.recurse(n.left,!0,1),o=this.recurse(n.right),function(n,t,i,u){var f=s(n,t,i,u);return n=o(n,t,i,u),gt(f.value,e.expression),vu(f.context),f.context[f.name]=n,r?{value:n}:n};case i.ArrayExpression:return f=[],t(n.elements,function(n){f.push(e.recurse(n))}),function(n,t,i,u){for(var e=[],o=0;o<f.length;++o)e.push(f[o](n,t,i,u));return r?{value:e}:e};case i.ObjectExpression:return f=[],t(n.properties,function(n){n.computed?f.push({key:e.recurse(n.key),computed:!0,value:e.recurse(n.value)}):f.push({key:n.key.type===i.Identifier?n.key.name:""+n.key.value,computed:!1,value:e.recurse(n.value)})}),function(n,t,i,u){for(var o={},e=0;e<f.length;++e)f[e].computed?o[f[e].key(n,t,i,u)]=f[e].value(n,t,i,u):o[f[e].key]=f[e].value(n,t,i,u);return r?{value:o}:o};case i.ThisExpression:return function(n){return r?{value:n}:n};case i.LocalsExpression:return function(n,t){return r?{value:t}:t};case i.NGValueParameter:return function(n,t,i){return r?{value:i}:i}}},"unary+":function(n,t){return function(i,r,f,e){return i=n(i,r,f,e),i=u(i)?+i:0,t?{value:i}:i}},"unary-":function(n,t){return function(i,r,f,e){return i=n(i,r,f,e),i=u(i)?-i:0,t?{value:i}:i}},"unary!":function(n,t){return function(i,r,u,f){return i=!n(i,r,u,f),t?{value:i}:i}},"binary+":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e);return r=t(r,u,f,e),o=us(o,r),i?{value:o}:o}},"binary-":function(n,t,i){return function(r,f,e,o){var s=n(r,f,e,o);return r=t(r,f,e,o),s=(u(s)?s:0)-(u(r)?r:0),i?{value:s}:s}},"binary*":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)*t(r,u,f,e),i?{value:r}:r}},"binary/":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)/t(r,u,f,e),i?{value:r}:r}},"binary%":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)%t(r,u,f,e),i?{value:r}:r}},"binary===":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)===t(r,u,f,e),i?{value:r}:r}},"binary!==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!==t(r,u,f,e),i?{value:r}:r}},"binary==":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)==t(r,u,f,e),i?{value:r}:r}},"binary!=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)!=t(r,u,f,e),i?{value:r}:r}},"binary<":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<t(r,u,f,e),i?{value:r}:r}},"binary>":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>t(r,u,f,e),i?{value:r}:r}},"binary<=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)<=t(r,u,f,e),i?{value:r}:r}},"binary>=":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)>=t(r,u,f,e),i?{value:r}:r}},"binary&&":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)&&t(r,u,f,e),i?{value:r}:r}},"binary||":function(n,t,i){return function(r,u,f,e){return r=n(r,u,f,e)||t(r,u,f,e),i?{value:r}:r}},"ternary?:":function(n,t,i,r){return function(u,f,e,o){return u=n(u,f,e,o)?t(u,f,e,o):i(u,f,e,o),r?{value:u}:u}},value:function(n,t){return function(){return t?{context:void 0,name:void 0,value:n}:n}},identifier:function(n,t,i,r,u){return function(f,e){return f=e&&n in e?e:f,r&&1!==r&&f&&!f[n]&&(f[n]={}),e=f?f[n]:void 0,t&&gt(e,u),i?{context:f,name:n,value:e}:e}},computedMember:function(n,t,i,r,u){return function(f,e,o,s){var h=n(f,e,o,s),c,l;return null!=h&&(c=t(f,e,o,s),c+="",wi(c,u),r&&1!==r&&(vu(h),h&&!h[c]&&(h[c]={})),l=h[c],gt(l,u)),i?{context:h,name:c,value:l}:l}},nonComputedMember:function(n,t,i,r,u,f){return function(e,o,s,h){return e=n(e,o,s,h),u&&1!==u&&(vu(e),e&&!e[t]&&(e[t]={})),o=null!=e?e[t]:void 0,(i||yu(t))&&gt(o,f),r?{context:e,name:t,value:o}:o}},inputs:function(n,t){return function(i,r,u,f){return f?f[t]:n(i,r,u)}}};ff=function(n,t,r){this.lexer=n;this.$filter=t;this.options=r;this.ast=new i(n,r);this.astCompiler=r.csp?new cs(this.ast,t):new hs(this.ast,t)};ff.prototype={constructor:ff,parse:function(n){return this.astCompiler.compile(n,this.options.expensiveChecks)}};var cp=Object.prototype.valueOf,ri=l("$sce"),lt={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},lp=l("$compile"),nt=n.document.createElement("a"),bh=ni(n.location.href);ys.$inject=["$document"];ps.$inject=["$provide"];var kh=22,dh=".",le="0";ws.$inject=["$locale"];bs.$inject=["$locale"];var ap={yyyy:d("FullYear",4,0,!1,!0),yy:d("FullYear",2,0,!0,!0),y:d("FullYear",1,0,!1,!0),MMMM:pr("Month"),MMM:pr("Month",!0),MM:d("Month",2,1),M:d("Month",1,1),LLLL:pr("Month",!1,!0),dd:d("Date",2),d:d("Date",1),HH:d("Hours",2),H:d("Hours",1),hh:d("Hours",2,-12),h:d("Hours",1,-12),mm:d("Minutes",2),m:d("Minutes",1),ss:d("Seconds",2),s:d("Seconds",1),sss:d("Milliseconds",3),EEEE:pr("Day"),EEE:pr("Day",!0),a:function(n,t){return 12>n.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(n,t,i){return n=-1*i,(0<=n?"+":"")+(pu(Math[0<n?"floor":"ceil"](n/60),2)+pu(Math.abs(n%60),2))},ww:gs(2),w:gs(1),G:ne,GG:ne,GGG:ne,GGGG:function(n,t){return 0>=n.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},vp=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yp=/^\-?\d+$/;nh.$inject=["$locale"];gh=ft(v);nc=ft(bu);th.$inject=["$parse"];tc=ft({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref)return function(n,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===rt.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});kr={};t(nf,function(n,t){function r(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}if("multiple"!=n){var i=yt("ng-"+t),u=r;"checked"===n&&(u=function(n,t,u){u.ngModel!==u[i]&&r(n,t,u)});kr[i]=function(){return{restrict:"A",priority:100,link:u}}}});t(se,function(n,t){kr[t]=function(){return{priority:100,link:function(n,i,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(i=r.ngPattern.match(yv))){r.$set("ngPattern",new RegExp(i[1],i[2]));return}n.$watch(r[t],function(n){r.$set(t,n)})}}}});t(["src","srcset","href"],function(n){var t=yt("ng-"+n);kr[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;"href"===n&&"[object SVGAnimatedString]"===rt.call(r.prop("href"))&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){t?(u.$set(f,t),ti&&e&&r.prop(e,u[f])):"href"===n&&u.$set(f,null)})}}}});dr={$addControl:o,$$renameControl:function(n,t){n.$name=t},$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};ih.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ic=function(n){return["$timeout","$parse",function(t,i){function r(n){return""===n?i('this[""]').assign:i(n).assign||o}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:ih,compile:function(i,u){i.addClass(tr).addClass(gr);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,i,u,e){var s=e[0],c,h;if(!("action"in u)){c=function(t){n.$apply(function(){s.$commitViewValue();s.$setSubmitted()});t.preventDefault()};i[0].addEventListener("submit",c,!1);i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c,!1)},0,!1)})}(e[1]||s.$$parentForm).$addControl(s);h=f?r(s.$name):o;f&&(h(n,s),u.$observe(f,function(t){s.$name!==t&&(h(n,void 0),s.$$parentForm.$$renameControl(s,t),h=r(s.$name),h(n,s))}));i.on("$destroy",function(){s.$$parentForm.$removeControl(s);h(n,void 0);a(s,dr)})}}}}}]},pp=ic(),wp=ic(!0),bp=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,kp=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,dp=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,gp=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,rc=/^(\d{4,})-(\d{2})-(\d{2})$/,uc=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ae=/^(\d{4,})-W(\d\d)$/,fc=/^(\d{4,})-(\d\d)$/,ec=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oc=y();t(["date","datetime-local","month","time","week"],function(n){oc[n]=!0});var sc={text:function(n,t,i,r,u,f){wr(n,t,i,r,u,f);ie(r)},date:br("date",rc,wu(rc,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":br("datetimelocal",uc,wu(uc,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:br("time",ec,wu(ec,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:br("week",ae,function(n,t){var i;if(et(n))return n;if(h(n)&&(ae.lastIndex=0,i=ae.exec(n),i)){var r=+i[1],u=+i[2],f=i=0,e=0,o=0,s=ds(r),u=7*(u-1);return t&&(i=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,s.getDate()+u,i,f,e,o)}return NaN},"yyyy-Www"),month:br("month",fc,wu(fc,["yyyy","MM"]),"yyyy-MM"),number:function(n,t,i,f,e,o){var s,h;rh(n,t,i,f);wr(n,t,i,f,e,o);f.$$parserName="number";f.$parsers.push(function(n){return f.$isEmpty(n)?null:gp.test(n)?parseFloat(n):void 0});f.$formatters.push(function(n){if(!f.$isEmpty(n)){if(!w(n))throw nu("numfmt",n);n=n.toString()}return n});(u(i.min)||i.ngMin)&&(f.$validators.min=function(n){return f.$isEmpty(n)||r(s)||n>=s},i.$observe("min",function(n){u(n)&&!w(n)&&(n=parseFloat(n));s=w(n)&&!isNaN(n)?n:void 0;f.$validate()}));(u(i.max)||i.ngMax)&&(f.$validators.max=function(n){return f.$isEmpty(n)||r(h)||n<=h},i.$observe("max",function(n){u(n)&&!w(n)&&(n=parseFloat(n));h=w(n)&&!isNaN(n)?n:void 0;f.$validate()}))},url:function(n,t,i,r,u,f){wr(n,t,i,r,u,f);ie(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||kp.test(i)}},email:function(n,t,i,r,u,f){wr(n,t,i,r,u,f);ie(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||dp.test(i)}},radio:function(n,t,i,u){r(i.name)&&t.attr("name",++ku);t.on("click",function(n){t[0].checked&&u.$setViewValue(i.value,n&&n.type)});u.$render=function(){t[0].checked=i.value==u.$viewValue};i.$observe("value",u.$render)},checkbox:function(n,t,i,r,u,f,e,o){var s=uh(o,n,"ngTrueValue",i.ngTrueValue,!0),h=uh(o,n,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(n){r.$setViewValue(t[0].checked,n&&n.type)});r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return!1===n};r.$formatters.push(function(n){return ot(n,s)});r.$parsers.push(function(n){return n?s:h})},hidden:o,button:o,submit:o,reset:o,file:o},hc=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(sc[v(e.type)]||sc.text)(u,f,e,o[0],t,n,i,r)}}}}],nw=/^(true|false|\d+)$/,tw=function(){return{restrict:"A",priority:100,compile:function(n,t){return nw.test(t.ngValue)?function(n,t,i){i.$set("value",n.$eval(i.ngValue))}:function(n,t,i){n.$watch(i.ngValue,function(n){i.$set("value",n)})}}}},iw=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,i,u){n.$$addBindingInfo(i,u.ngBind);i=i[0];t.$watch(u.ngBind,function(n){i.textContent=r(n)?"":n})}}}}],rw=["$interpolate","$compile",function(n,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,u,f){i=n(u.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(u,i.expressions);u=u[0];f.$observe("ngBindTemplate",function(n){u.textContent=r(n)?"":n})}}}}],uw=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(t){return n.valueOf(t)});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){var i=f(t);r.html(n.getTrustedHtml(i)||"")})}}}}],fw=ft({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}}),ew=re("",!0),ow=re("Odd",0),sw=re("Even",1),hw=bi({compile:function(n,t){t.$set("ngCloak",void 0);n.removeClass("ng-cloak")}}),cw=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cc={},lw={blur:!0,focus:!0};t("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=yt("ng-"+n);cc[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t],null,!0);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};lw[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var aw=["$animate","$compile",function(n,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.$$createComment("end ngIf",u.ngIf);h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=ru(h.clone),n.leave(o).then(function(){o=null}),h=null))})}}}],vw=["$templateRequest","$anchorScroll","$animate",function(n,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ut.noop,compile:function(r,f){var o=f.ngInclude||f.src,s=f.onload||"",e=f.autoscroll;return function(r,f,h,c,l){var p=0,a,v,y,w=function(){v&&(v.remove(),v=null);a&&(a.$destroy(),a=null);y&&(i.leave(y).then(function(){v=null}),v=y,y=null)};r.$watch(o,function(o){var v=function(){u(e)&&(!e||r.$eval(e))&&t()},h=++p;o?(n(o,!0).then(function(n){if(!r.$$destroyed&&h===p){var t=r.$new();c.template=n;n=l(t,function(n){w();i.enter(n,null,f).then(v)});a=t;y=n;a.$emit("$includeContentLoaded",o);r.$eval(s)}},function(){r.$$destroyed||h!==p||(w(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(w(),c.template=null)})}}}}],yw=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){rt.call(r[0]).match(/SVG/)?(r.empty(),t(uo(f.template,n.document).childNodes)(i,function(n){r.append(n)},{futureParentElement:r})):(r.html(f.template),t(r.contents())(i))}}}],pw=bi({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),ww=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,i,u,f){var e=i.attr(u.$attr.ngList)||", ",o="false"!==u.ngTrim,s=o?p(e):e;f.$parsers.push(function(n){if(!r(n)){var i=[];return n&&t(n.split(s),function(n){n&&i.push(o?p(n):n)}),i}});f.$formatters.push(function(n){if(c(n))return n.join(e)});f.$isEmpty=function(n){return!n||!n.length}}}},gr="ng-valid",lc="ng-invalid",tr="ng-pristine",ef="ng-dirty",ac="ng-pending",nu=l("ngModel"),bw=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(n,i,e,s,h,c,l,a,v,y){var d;this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=y(e.name||"",!1)(n);this.$$parentForm=dr;var k=h(e.ngModel),tt=k.assign,nt=k,it=tt,g=null,b,p=this;this.$$setOptions=function(n){if((p.$options=n)&&n.getterSetter){var t=h(e.ngModel+"()"),i=h(e.ngModel+"($$$p)");nt=function(n){var i=k(n);return f(i)&&(i=t(n)),i};it=function(n,t){f(k(n))?i(n,{$$$p:t}):tt(n,t)}}else if(!k.assign)throw nu("nonassign",e.ngModel,vt(s));};this.$render=o;this.$isEmpty=function(n){return r(n)||""===n||null===n||n!==n};this.$$updateEmptyClasses=function(n){p.$isEmpty(n)?(c.removeClass(s,"ng-not-empty"),c.addClass(s,"ng-empty")):(c.removeClass(s,"ng-empty"),c.addClass(s,"ng-not-empty"))};d=0;fh({ctrl:this,$element:s,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]},$animate:c});this.$setPristine=function(){p.$dirty=!1;p.$pristine=!0;c.removeClass(s,ef);c.addClass(s,tr)};this.$setDirty=function(){p.$dirty=!0;p.$pristine=!1;c.removeClass(s,tr);c.addClass(s,ef);p.$$parentForm.$setDirty()};this.$setUntouched=function(){p.$touched=!1;p.$untouched=!0;c.setClass(s,"ng-untouched","ng-touched")};this.$setTouched=function(){p.$touched=!0;p.$untouched=!1;c.setClass(s,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){l.cancel(g);p.$viewValue=p.$$lastCommittedViewValue;p.$render()};this.$validate=function(){if(!w(p.$modelValue)||!isNaN(p.$modelValue)){var n=p.$$rawModelValue,t=p.$valid,i=p.$modelValue,r=p.$options&&p.$options.allowInvalid;p.$$runValidators(n,p.$$lastCommittedViewValue,function(u){r||t===u||(p.$modelValue=u?n:void 0,p.$modelValue!==i&&p.$$writeModelToScope())})}};this.$$runValidators=function(n,i,u){function c(){var r=!0;return t(p.$validators,function(t,u){var f=t(n,i);r=r&&f;e(u,f)}),r?!0:(t(p.$asyncValidators,function(n,t){e(t,null)}),!1)}function l(){var r=[],u=!0;t(p.$asyncValidators,function(t,o){var s=t(n,i);if(!s||!f(s.then))throw nu("nopromise",s);e(o,void 0);r.push(s.then(function(){e(o,!0)},function(){u=!1;e(o,!1)}))});r.length?v.all(r).then(function(){s(u)},o):s(!0)}function e(n,t){h===d&&p.$setValidity(n,t)}function s(n){h===d&&u(n)}d++;var h=d;(function(){var n=p.$$parserName||"parse";if(r(b))e(n,null);else return b||(t(p.$validators,function(n,t){e(t,null)}),t(p.$asyncValidators,function(n,t){e(t,null)})),e(n,b),b;return!0})()?c()?l():s(!1):s(!1)};this.$commitViewValue=function(){var n=p.$viewValue;l.cancel(g);(p.$$lastCommittedViewValue!==n||""===n&&p.$$hasNativeValidators)&&(p.$$updateEmptyClasses(n),p.$$lastCommittedViewValue=n,p.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){var t=p.$$lastCommittedViewValue,i,u,f;if(b=r(t)?void 0:!0)for(i=0;i<p.$parsers.length;i++)if(t=p.$parsers[i](t),r(t)){b=!1;break}w(p.$modelValue)&&isNaN(p.$modelValue)&&(p.$modelValue=nt(n));u=p.$modelValue;f=p.$options&&p.$options.allowInvalid;p.$$rawModelValue=t;f&&(p.$modelValue=t,p.$modelValue!==u&&p.$$writeModelToScope());p.$$runValidators(t,p.$$lastCommittedViewValue,function(n){f||(p.$modelValue=n?t:void 0,p.$modelValue!==u&&p.$$writeModelToScope())})};this.$$writeModelToScope=function(){it(n,p.$modelValue);t(p.$viewChangeListeners,function(n){try{n()}catch(t){i(t)}})};this.$setViewValue=function(n,t){p.$viewValue=n;p.$options&&!p.$options.updateOnDefault||p.$$debounceViewValueCommit(t)};this.$$debounceViewValueCommit=function(t){var r=0,i=p.$options;i&&u(i.debounce)&&(i=i.debounce,w(i)?r=i:w(i[t])?r=i[t]:w(i["default"])&&(r=i["default"]));l.cancel(g);r?g=l(function(){p.$commitViewValue()},r):a.$$phase?p.$commitViewValue():n.$apply(function(){p.$commitViewValue()})};n.$watch(function(){var t=nt(n);if(t!==p.$modelValue&&(p.$modelValue===p.$modelValue||t===t)){p.$modelValue=p.$$rawModelValue=t;b=void 0;for(var r=p.$formatters,u=r.length,i=t;u--;)i=r[u](i);p.$viewValue!==i&&(p.$$updateEmptyClasses(i),p.$viewValue=p.$$lastCommittedViewValue=i,p.$render(),p.$$runValidators(t,i,o))}return t})}],kw=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:bw,priority:1,compile:function(t){return t.addClass(tr).addClass("ng-untouched").addClass(gr),{pre:function(n,t,i,r){var u=r[0];t=r[1]||u.$$parentForm;u.$$setOptions(r[2]&&r[2].$options);t.$addControl(u);i.$observe("name",function(n){u.$name!==n&&u.$$parentForm.$$renameControl(u,n)});n.$on("$destroy",function(){u.$$parentForm.$removeControl(u)})},post:function(t,i,r,u){var f=u[0];if(f.$options&&f.$options.updateOn)i.on(f.$options.updateOn,function(n){f.$$debounceViewValueCommit(n&&n.type)});i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(f.$setTouched):t.$apply(f.$setTouched))})}}}}}],dw=/(\s+|^)default(\s+|$)/,gw=function(){return{restrict:"A",controller:["$scope","$attrs",function(n,t){var i=this;this.$options=dt(n.$eval(t.ngModelOptions));u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=p(this.$options.updateOn.replace(dw,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},nb=bi({terminal:!0,priority:1e3}),tb=l("ngOptions"),ib=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,rb=["$compile","$document","$parse",function(i,r,f){function h(n,t,i){function w(n,t,i,r,u){this.selectValue=n;this.viewValue=t;this.label=i;this.group=r;this.disabled=u}function l(n){var t,i;if(!s&&kt(n))t=n;else{t=[];for(i in n)n.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var r=n.match(ib),o,s,u;if(!r)throw tb("iexp",n,vt(t));o=r[5]||r[7];s=r[6];n=/ as /.test(r[0])&&r[1];u=r[9];t=f(r[2]?r[1]:o);var b=n&&f(n)||t,k=u&&f(u),h=u?function(n,t){return k(i,t)}:function(n){return fi(n)},a=function(n,t){return h(n,c(n,t))},v=f(r[2]||r[1]),d=f(r[3]||""),y=f(r[4]||""),p=f(r[8]),e={},c=s?function(n,t){return e[s]=t,e[o]=n,e}:function(n){return e[o]=n,e};return{trackBy:u,getTrackByValue:a,getWatchables:f(p,function(n){var f=[];n=n||[];for(var o=l(n),s=o.length,e=0;e<s;e++){var t=n===o?e:o[e],u=n[t],t=c(u,t),u=h(u,t);f.push(u);(r[2]||r[1])&&(u=v(i,t),f.push(u));r[4]&&(t=y(i,t),f.push(t))}return f}),getOptions:function(){for(var k=[],e={},o=p(i)||[],s=l(o),g=s.length,t=0;t<g;t++){var r=o===s?t:s[t],n=c(o[r],r),f=b(i,n),r=h(f,n),nt=v(i,n),tt=d(i,n),n=y(i,n),f=new w(r,f,nt,tt,n);k.push(f);e[r]=f}return{items:k,selectValueMap:e,getOptionFromViewValue:function(n){return e[a(n)]},getViewValueFromOption:function(n){return u?ut.copy(n.viewValue):n.viewValue}}}}}var s=n.document.createElement("option"),l=n.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(n,t,i,r){r[0].registerOption=o},post:function(n,f,o,a){function ut(n,t){n.element=t;t.disabled=n.disabled;n.label!==t.label&&(t.label=n.label,t.textContent=n.label);n.value!==t.value&&(t.value=n.selectValue)}function tt(){var i=y&&d.readValue(),n,t,r;if(y)for(n=y.items.length-1;0<=n;n--)t=y.items[n],u(t.group)?cu(t.element.parentNode):cu(t.element);y=k.getOptions();r={};w&&f.prepend(v);y.items.forEach(function(n){var t,i;u(n.group)?(t=r[n.group],t||(t=l.cloneNode(!1),nt.appendChild(t),t.label=null===n.group?"null":n.group,r[n.group]=t),i=s.cloneNode(!1)):(t=nt,i=s.cloneNode(!1));t.appendChild(i);ut(n,i)});f[0].appendChild(nt);p.$render();p.$isEmpty(i)||(n=d.readValue(),(k.trackBy||it?ot(i,n):i===n)||(p.$setViewValue(n),p.$render()))}var d=a[0],p=a[1],it=o.multiple,v,g,rt,w,b,y,k,nt;for(a=0,g=f.children(),rt=g.length;a<rt;a++)if(""===g[a].value){v=g.eq(a);break}w=!!v;b=e(s.cloneNode(!1));b.val("?");k=h(o.ngOptions,f,n);nt=r[0].createDocumentFragment();it?(p.$isEmpty=function(n){return!n||0===n.length},d.writeValue=function(n){y.items.forEach(function(n){n.element.selected=!1});n&&n.forEach(function(n){(n=y.getOptionFromViewValue(n))&&(n.element.selected=!0)})},d.readValue=function(){var i=f.val()||[],n=[];return t(i,function(t){(t=y.selectValueMap[t])&&!t.disabled&&n.push(y.getViewValueFromOption(t))}),n},k.trackBy&&n.$watchCollection(function(){if(c(p.$viewValue))return p.$viewValue.map(function(n){return k.getTrackByValue(n)})},function(){p.$render()})):(d.writeValue=function(n){var t=y.getOptionFromViewValue(n);t?(f[0].value!==t.selectValue&&(b.remove(),w||v.remove(),f[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===n||w?(b.remove(),w||f.prepend(v),f.val(""),v.prop("selected",!0),v.attr("selected",!0)):(w||v.remove(),f.prepend(b),f.val("?"),b.prop("selected",!0),b.attr("selected",!0))},d.readValue=function(){var n=y.selectValueMap[f.val()];return n&&!n.disabled?(w||v.remove(),b.remove(),y.getViewValueFromOption(n)):null},k.trackBy&&n.$watch(function(){return k.getTrackByValue(p.$viewValue)},function(){p.$render()}));w?(v.remove(),i(v)(n),v.removeClass("ng-scope")):v=e(s.cloneNode(!1));f.empty();tt();n.$watchCollection(k.getWatchables,tt)}}}}],ub=["$locale","$interpolate","$log",function(n,i,u){var f=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(s,h,c){function p(n){h.text(n||"")}var b=c.count,k=c.$attr.when&&h.attr(c.$attr.when),d=c.offset||0,a=s.$eval(k)||{},g={},nt=i.startSymbol(),tt=i.endSymbol(),it=nt+b+"-"+d+tt,y=ut.noop,l;t(c,function(n,t){var i=e.exec(t);i&&(i=(i[1]?"-":"")+v(i[2]),a[i]=h.attr(c.$attr[t]))});t(a,function(n,t){g[t]=i(n.replace(f,it))});s.$watch(b,function(t){var i=parseFloat(t),f=isNaN(i);f||i in a||(i=n.pluralCat(i-d));i===l||f&&w(l)&&isNaN(l)||(y(),f=g[i],r(f)?(null!=t&&u.debug("ngPluralize: no rule defined for '"+i+"' in "+k),y=o,p()):y=s.$watch(f,p),l=i)})}}}],fb=["$parse","$animate","$compile",function(n,i,r){var u=l("ngRepeat"),f=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=0===t;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=0==(t&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,o){var a=o.ngRepeat,nt=r.$$createComment("end ngRepeat",a),s=a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),v,c,p,w,d,g,l;if(!s)throw u("iexp",a);var b=s[1],tt=s[2],h=s[3],k=s[4],s=b.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!s)throw u("iidexp",b);if(v=s[3]||s[1],c=s[2],h&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(h)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(h)))throw u("badident",h);return l={$id:fi},k?p=n(k):(d=function(n,t){return fi(t)},g=function(n){return n}),function(n,r,e,o,s){p&&(w=function(t,i,r){return c&&(l[c]=t),l[v]=i,l.$index=r,p(n,l)});var b=y();n.$watchCollection(tt,function(e){var o,et,ot=r[0],tt,st=y(),ut,rt,ft,p,it,l,k;if(h&&(n[h]=e),kt(e))it=e,et=w||d;else for(k in et=w||g,it=[],e)wt.call(e,k)&&"$"!==k.charAt(0)&&it.push(k);for(ut=it.length,k=Array(ut),o=0;o<ut;o++)if(rt=e===it?o:it[o],ft=e[rt],p=et(rt,ft,o),b[p])l=b[p],delete b[p],st[p]=l,k[o]=l;else{if(st[p])throw t(k,function(n){n&&n.scope&&(b[n.id]=n)}),u("dupes",a,p,ft);k[o]={id:p,scope:void 0,clone:void 0};st[p]=!0}for(tt in b){if(l=b[tt],p=ru(l.clone),i.leave(p),p[0].parentNode)for(o=0,et=p.length;o<et;o++)p[o].$$NG_REMOVED=!0;l.scope.$destroy()}for(o=0;o<ut;o++)if(rt=e===it?o:it[o],ft=e[rt],l=k[o],l.scope){tt=ot;do tt=tt.nextSibling;while(tt&&tt.$$NG_REMOVED);l.clone[0]!=tt&&i.move(ru(l.clone),null,ot);ot=l.clone[l.clone.length-1];f(l.scope,o,v,ft,c,rt,ut)}else s(function(n,t){l.scope=t;var r=nt.cloneNode(!1);n[n.length++]=r;i.enter(n,null,ot);ot=r;l.clone=n;st[l.id]=l;f(l.scope,o,v,ft,c,rt,ut)});b=st})}}}}],eb=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ob=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],sb=bi(function(n,i,r){n.$watch(r.ngStyle,function(n,r){r&&n!==r&&t(r,function(n,t){i.css(t,"")});n&&i.css(n)},!0)}),hb=["$animate","$compile",function(n,i){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,u,f,e){var c=[],h=[],o=[],s=[],l=function(n,t){return function(){n.splice(t,1)}};r.$watch(f.ngSwitch||f.on,function(r){for(var a,u=0,f=o.length;u<f;++u)n.cancel(o[u]);for(u=o.length=0,f=s.length;u<f;++u)a=ru(h[u].clone),s[u].$destroy(),(o[u]=n.leave(a)).then(l(o,u));h.length=0;s.length=0;(c=e.cases["!"+r]||e.cases["?"])&&t(c,function(t){t.transclude(function(r,u){s.push(u);var f=t.element;r[r.length++]=i.$$createComment("end ngSwitchWhen");h.push({clone:r});n.enter(r,f.parent(),f)})})})}}}],cb=bi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["!"+i.ngSwitchWhen]=r.cases["!"+i.ngSwitchWhen]||[];r.cases["!"+i.ngSwitchWhen].push({transclude:u,element:t})}}),lb=bi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),ab=l("ngTransclude"),vb=["$compile",function(n){return{restrict:"EAC",terminal:!0,compile:function(t){var i=n(t.contents());return t.empty(),function(n,t,r,u,f){function e(){i(n,function(n){t.append(n)})}if(!f)throw ab("orphan",vt(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");r=r.ngTransclude||r.ngTranscludeSlot;f(function(n,i){n.length?t.append(n):(e(),i.$destroy())},null,r);r&&!f.isSlotFilled(r)&&e()}}}}],yb=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&n.put(i.id,t[0].text)}}}],pb={$setViewValue:o,$render:o},wb=["$element","$scope",function(t,i){var r=this,f=new pi;r.ngModelCtrl=pb;r.unknownOption=e(n.document.createElement("option"));r.renderUnknownOption=function(n){n="? "+fi(n)+" ?";r.unknownOption.val(n);t.prepend(r.unknownOption);t.val(n)};i.$on("$destroy",function(){r.renderUnknownOption=o});r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()};r.readValue=function(){return r.removeUnknownOption(),t.val()};r.writeValue=function(n){r.hasOption(n)?(r.removeUnknownOption(),t.val(n),""===n&&r.emptyOption.prop("selected",!0)):null==n&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(n)};r.addOption=function(n,t){if(8!==t[0].nodeType){yi(n,'"option value"');""===n&&(r.emptyOption=t);var i=f.get(n)||0;f.put(n,i+1);r.ngModelCtrl.$render();t[0].hasAttribute("selected")&&(t[0].selected=!0)}};r.removeOption=function(n){var t=f.get(n);t&&(1===t?(f.remove(n),""===n&&(r.emptyOption=void 0)):f.put(n,t-1))};r.hasOption=function(n){return!!f.get(n)};r.registerOption=function(n,t,i,f,e){if(f){var o;i.$observe("value",function(n){u(o)&&r.removeOption(o);o=n;r.addOption(n,t)})}else e?n.$watch(e,function(n,u){i.$set("value",n);u!==n&&r.removeOption(u);r.addOption(n,t)}):r.addOption(i.value,t);t.on("$destroy",function(){r.removeOption(i.value);r.ngModelCtrl.$render()})}}],bb=function(){return{restrict:"E",require:["select","?ngModel"],controller:wb,priority:1,link:{pre:function(n,i,r,f){var e=f[1],o,h,s;if(e){o=f[0];o.ngModelCtrl=e;i.on("change",function(){n.$apply(function(){e.$setViewValue(o.readValue())})});r.multiple&&(o.readValue=function(){var n=[];return t(i.find("option"),function(t){t.selected&&n.push(t.value)}),n},o.writeValue=function(n){var r=new pi(n);t(i.find("option"),function(n){n.selected=u(r.get(n.value))})},s=NaN,n.$watch(function(){s!==e.$viewValue||ot(h,e.$viewValue)||(h=st(e.$viewValue),e.$render());s=e.$viewValue}),e.$isEmpty=function(n){return!n||0===n.length})}},post:function(n,t,i,r){var u=r[1],f;u&&(f=r[0],u.$render=function(){f.writeValue(u.$viewValue)})}}}},kb=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,i){var f,r;return u(i.value)?f=n(i.value,!0):(r=n(t.text(),!0),r||i.$set("value",t.text())),function(n,t,i){var u=t.parent();(u=u.data("$selectController")||u.parent().data("$selectController"))&&u.registerOption(n,t,i,f,r)}}}}],db=ft({restrict:"E",terminal:!1}),vc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},yc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,u){if(u){var f,e=i.ngPattern||i.pattern;i.$observe("pattern",function(n){if(h(n)&&0<n.length&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw l("ngPattern")("noregexp",e,n,vt(t));f=n||void 0;u.$validate()});u.$validators.pattern=function(n,t){return u.$isEmpty(t)||r(f)||f.test(t)}}}}},pc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){n=tt(n);u=isNaN(n)?-1:n;r.$validate()});r.$validators.maxlength=function(n,t){return 0>u||r.$isEmpty(t)||t.length<=u}}}}},wc=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=tt(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};n.angular.bootstrap?n.console&&console.log("WARNING: Tried to load angular more than once."):(fl(),ol(ut),ut.module("ngLocale",[],["$provide",function(n){function t(n){n+="";var t=n.indexOf(".");return-1==t?0:n.length-t-1}n.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,i){var u=n|0,r=i;return void 0===r&&(r=Math.min(t(n),3)),Math.pow(10,r),1==u&&0==r?"one":"other"}})}]),e(n.document).ready(function(){il(n.document,no)}))})(window);window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>');
/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return u(new(u(function(){},{prototype:n})),t)}function d(n){return e(arguments,function(t){t!==n&&e(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function ui(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var t=[];return e(n,function(n,i){t.push(i)}),t}function h(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=r);r>i;i++)if(i in n&&n[i]===t)return i;return-1}function ft(n,t,i,r){var f,o=ui(i,r),c={},l=[],s,e;for(s in o)if(o[s]&&o[s].params&&(f=p(o[s].params),f.length))for(e in f)h(l,f[e])>=0||(l.push(f[e]),c[f[e]]=n[f[e]]);return u({},c,t)}function g(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function b(n,t){var i={};return e(n,function(n){i[n]=t[n]}),i}function et(n){var t={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return e(i,function(i){i in n&&(t[i]=n[i])}),t}function k(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)-1==h(r,t)&&(i[t]=n[t]);return i}function nt(n,t){var r=a(n),i=r?[]:{};return e(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function y(n,t){var i=a(n)?[]:{};return e(n,function(n,r){i[r]=t(n,r)}),i}function ot(n,t){var c=1,l=2,o={},a=[],v=o,y=u(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(g[i]!==l){if(b.push(i),g[i]===c)throw b.splice(0,h(b,i)),new Error("Cyclic dependency: "+b.join(" -> "));if(g[i]=c,f(n))w.push(i,[function(){return t.get(n)}],a);else{var r=t.annotate(n);e(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}b.pop();g[i]=l}}function it(n){return s(n)&&n.then&&n.$$promises}if(!s(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],b=[],g={};return e(o,tt),o=b=g=null,function(f,o,h){function p(){--et||(rt||d(l,o.$$values),c.$$values=l,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,tt.resolve(l))}function g(n){c.$$failure=n;tt.reject(n)}function ft(i,u,o){function a(n){s.reject(n);g(n)}function y(){if(!r(c.$$failure))try{s.resolve(t.invoke(u,h,l));s.promise.then(function(n){l[i]=n;p()},a)}catch(n){a(n)}}var s=n.defer(),v=0;e(o,function(n){b.hasOwnProperty(n)&&!f.hasOwnProperty(n)&&(v++,b[n].then(function(t){l[n]=t;--v||y()},a))});v||y();b[i]=s.promise}var a,ut;if(it(f)&&h===i&&(h=o,o=f,f=null),f){if(!s(f))throw new Error("'locals' must be an object");}else f=v;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=y;var tt=n.defer(),c=tt.promise,b=c.$$promises={},l=u({},f),et=1+w.length/3,rt=!1;if(r(o.$$failure))return g(o.$$failure),c;for(o.$$inheritedValues&&d(l,k(o.$$inheritedValues,nt)),u(b,o.$$promises),o.$$values?(rt=d(l,k(o.$$values,nt)),c.$$inheritedValues=k(o.$$values,nt),p()):(o.$$inheritedValues&&(c.$$inheritedValues=k(o.$$inheritedValues,nt)),o.then(p,g)),a=0,ut=w.length;ut>a;a+=3)f.hasOwnProperty(w[a])?p():ft(w[a],w[a+1],w[a+2]);return c}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function st(n,t,i){this.fromConfig=function(n,t,i){return r(n.template)?this.fromString(n.template,t):r(n.templateUrl)?this.fromUrl(n.templateUrl,t):r(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return c(n)?n(t):n};this.fromUrl=function(i,r){return c(i)&&(i=i(r)),null==i?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function v(n,t,r){function d(t,i,r,u){if(it.push(t),tt[t])return tt[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new l.Param(t,i,r,u),b[t]}function g(n,t,i,r){var u=["",""],f=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return f;switch(i){case!1:u=["(",")"+(r?"?":"")];break;case!0:f=f.replace(/\/$/,"");u=["(?:/(",")|/)?"];break;default:u=["("+i+"|",")?"]}return f+u[0]+t+u[1]}function nt(r,u){var e,f,s,h,c;return e=r[2]||r[3],c=t.params[e],s=n.substring(o,r.index),f=u?r[4]:r[4]||("*"==r[1]?".*":null),f&&(h=l.type(f)||w(l.type("string"),{pattern:new RegExp(f,t.caseInsensitive?"i":i)})),{id:e,regexp:f,segment:s,type:h,cfg:c}}var f,h,e,c,k;t=u({params:{}},s(t)?t:{});var a,v=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,p=this.segments=[],tt=r?r.params:{},b=this.params=r?r.params.$$new():new l.ParamSet,it=[];for(this.source=n;(a=v.exec(n))&&(f=nt(a,!1),!(f.segment.indexOf("?")>=0));)h=d(f.id,f.type,f.cfg,"path"),y+=g(f.segment,h.type.pattern.source,h.squash,h.isOptional),p.push(f.segment),o=v.lastIndex;if(e=n.substring(o),c=e.indexOf("?"),c>=0){if(k=this.sourceSearch=e.substring(c),e=e.substring(0,c),this.sourcePath=n.substring(0,o+c),k.length>0)for(o=0;a=rt.exec(k);)f=nt(a,!0),h=d(f.id,f.type,f.cfg,"search"),o=v.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=g(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=it}function o(n){u(this,n)}function ht(){function rt(n){return null!=n?n.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):n}function st(n){return null!=n?n.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):n}function ct(){return{strict:g,caseInsensitive:d}}function ut(n){return c(n)||a(n)&&c(n[n.length-1])}function ft(){for(;it.length;){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){u(this,n||{})}l=this;var b,d=!1,g=!0,tt=!1,n={},et=!0,it=[],ot={string:{encode:rt,decode:st,is:function(n){return null==n||!r(n)||"string"==typeof n},pattern:/[^\/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return r(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return 0!==parseInt(n,10)},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};ht.$$getDefaultValue=function(n){if(!ut(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return r(n)&&(d=n),d};this.strictMode=function(n){return r(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!r(n))return tt;if(n!==!0&&n!==!1&&!f(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new v(n,u(ct(),t))};this.isMatcher=function(n){if(!s(n))return!1;var t=!0;return e(v.prototype,function(i,u){c(i)&&(t=t&&r(n[u])&&c(n[u]))}),t};this.type=function(t,i,f){if(!r(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new o(u({name:t},i)),f&&(it.push({name:t,def:f}),et||ft()),this};e(ot,function(t,i){n[i]=new o(u({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,et=!1,ft(),e(ot,function(t,i){n[i]||(n[i]=new o(t))}),this}];this.Param=function(e,c,l,v){function it(n){var t=s(n)?p(n):[],i=-1===h(t,"value")&&-1===h(t,"type")&&-1===h(t,"squash")&&-1===h(t,"array");return i&&(n={value:n}),n.$$fn=ut(n.value)?n.value:function(){return n.value},n}function rt(i,r,u){if(i.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:i.type?t.isString(i.type)?n[i.type]:i.type instanceof o?i.type:new o(i.type):"config"===u?n.any:n.string}function ft(){var n={array:"search"===v?"auto":!1},t=e.match(/\[\]$/)?{array:!0}:{};return u(n,t,l).array}function et(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!r(i)||null==i)return tt;if(i===!0||f(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function ot(n,t,r,u){var e,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return e=a(n.replace)?n.replace:[],f(u)&&e.push({from:u,to:i}),o=y(e,function(n){return n.from}),nt(s,function(n){return-1===h(o,n.from)}).concat(e)}function st(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");var n=b.invoke(l.$$fn);if(null!==n&&n!==i&&!k.type.is(n))throw new Error("Default value ("+n+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return n}function ht(n){function t(n){return function(t){return t.from===n}}function i(n){var i=y(nt(k.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),r(n)?k.type.$normalize(n):st()}function ct(){return"{Param:"+e+" "+c+" squash: '"+g+"' optional: "+d+"}"}var k=this,w;l=it(l);c=rt(l,c,v);w=ft();c=w?c.$asArray(w,"search"===v):c;"string"!==c.name||w||"path"!==v||l.value!==i||(l.value="");var d=l.value!==i,g=et(l,d),lt=ot(l,w,d,g);u(this,{id:e,type:c,location:v,array:w,squash:g,replace:lt,isOptional:d,value:ht,dynamic:i,config:l,toString:ct})};k.prototype={$$new:function(){return w(this,u(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),e(i,function(n){e(p(n),function(n){-1===h(t,n)&&-1===h(r,n)&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return e(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return e(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){for(var r,f,e,o,s=this.$$keys(),u=0;u<s.length&&(r=this[s[u]],f=n[s[u]],f!==i&&null!==f||!r.isOptional);u++)if((e=r.type.$normalize(f),!r.type.is(e))||(o=r.type.encode(e),t.isString(o)&&!r.type.pattern.exec(o)))return!1;return!0},$$parent:i};this.ParamSet=k}function ct(n,e){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t["$"===i?0:Number(i)]})}function h(n,t,i){if(!i)return!1;var u=n.invoke(t,t,{$match:i});return r(u)?u:!0}function l(r,u,e,h,c){function k(n,t,i){return"/"===a?n:t?a.slice(0,-1)+n:i?a.slice(1)+n:n}function w(n){function u(n){var t=n(e,r);return t?(f(t)&&r.replace().url(t),!0):!1}if(!n||!n.defaultPrevented){l&&r.url()===l;l=i;for(var h=o.length,t=0;h>t;t++)if(u(o[t]))return;s&&u(s)}}function b(){return v=v||u.$on("$locationChangeSuccess",w)}var l,a=h.baseHref(),p=r.url();return y||b(),{sync:function(){w()},listen:function(){return b()},update:function(n){return n?void(p=r.url()):void(r.url()!==p&&(r.url(p),r.replace()))},push:function(n,t,u){var f=n.format(t||{});null!==f&&t&&t["#"]&&(f+="#"+t["#"]);r.url(f);l=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),o=o&&c.history,e=i.format(u),f=f||{},o||null===e||(e="#"+n.hashPrefix()+e),null!==e&&u&&u["#"]&&(e+="#"+u["#"]),e=k(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var v,o=[],s=null,y=!1;this.rule=function(n){if(!c(n))throw new Error("'rule' must be a function");return o.push(n),this};this.otherwise=function(n){if(f(n)){var t=n;n=function(){return t}}else if(!c(n))throw new Error("'rule' must be a function");return s=n,this};this.when=function(n,t){var i,r=f(t),l,o,s;if(f(n)&&(n=e.compile(n)),!r&&!c(t)&&!a(t))throw new Error("invalid 'handler' in when()");l={matcher:function(n,t){return r&&(i=e.compile(t),t=["$match",function(n){return i.format(n)}]),u(function(i,r){return h(i,t,n.exec(r.path(),r.search()))},{prefix:f(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(i=t,t=["$match",function(n){return w(i,n)}]),u(function(i,r){return h(i,t,n.exec(r.path()))},{prefix:p(n)})}};o={matcher:e.isMatcher(n),regex:n instanceof RegExp};for(s in o)if(o[s])return this.rule(l[s](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);y=n};this.$get=l;l.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function lt(n,o){function ht(n){return 0===n.indexOf(".")||0===n.indexOf("^")}function k(n,t){var s;if(!n)return i;var h=f(n),u=h?n:n.name,c=ht(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),e=0,l=r.length,o=t;l>e;e++)if(""!==r[e]||0!==e){if("^"!==r[e])break;if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent}else o=t;r=r.slice(e).join(".");u=o.name+(o.name&&r?".":"")+r}return s=tt[u],!s||!h&&(h||s!==n&&s.self!==n)?i:s}function ct(n,t){rt[n]||(rt[n]=[]);rt[n].push(t)}function lt(n){for(var t=rt[n]||[];t.length;)ut(t.shift())}function ut(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!f(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"' is already defined");if(u=-1!==i.indexOf(".")?i.substring(0,i.lastIndexOf(".")):f(t.parent)?t.parent:s(t.parent)&&f(t.parent.name)?t.parent.name:"",u&&!tt[u])return ct(u,t.self);for(r in d)c(d[r])&&(t[r]=d[r](t,d.$delegates[r]));return tt[i]=t,!t[st]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){v.$current.navigable==t&&g(n,i)||v.transitionTo(t,n,{inherit:!0,location:!1})}]),lt(i),t}function at(n){return n.indexOf("*")>-1}function vt(n){for(var t=n.split("."),i=v.$current.name.split("."),r=0,u=t.length;u>r;r++)"*"===t[r]&&(i[r]="*");return"**"===t[0]&&(i=i.slice(h(i,t[1])),i.unshift("**")),"**"===t[t.length-1]&&(i.splice(h(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length!=i.length?!1:i.join("")===t.join("")}function yt(n,t){return f(n)&&!r(t)?d[n]:c(t)&&f(n)?(d[n]&&!d.$delegates[n]&&(d.$delegates[n]=d[n]),d[n]=t,this):this}function pt(n,t){return s(n)?t=n:t.name=n,ut(t),this}function ot(n,o,h,l,d,rt,ut){function ct(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(ut.update(),ot):e.retry?u.$retry?(ut.update(),ht):(f=v.transition=o.when(e.retry),f.then(function(){return f!==v.transition?et:(t.options.$retry=!0,v.transitionTo(t.to,t.toParams,t.options))},function(){return ot}),ut.update(),f):null}function lt(n,i,r,u,f,s){function p(){var i=[];return e(n.views,function(r,u){var e=r.resolve&&r.resolve!==n.resolve?r.resolve:{};e.$template=[function(){return h.load(u,{view:r,locals:f.globals,params:y,notify:s.notify})||""}];i.push(d.resolve(e,f.globals,f.resolve,n).then(function(i){if(c(r.controllerProvider)||a(r.controllerProvider)){var o=t.extend({},e,f.globals);i.$$controller=l.invoke(r.controllerProvider,null,o)}else i.$$controller=r.controller;i.$$state=n;i.$$controllerAs=r.controllerAs;f[u]=i}))}),o.all(i).then(function(){return f.globals})}var y=r?i:b(n.params.$$keys(),i),w={$stateParams:y},v;return f.resolve=d.resolve(n.resolve,w,f.resolve,n),v=[f.resolve.then(function(n){f.globals=n})],u&&v.push(u),o.all(v).then(p).then(function(){return f})}var et=o.reject(new Error("transition superseded")),yt=o.reject(new Error("transition prevented")),ot=o.reject(new Error("transition aborted")),ht=o.reject(new Error("transition failed"));return nt.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:nt.self,$current:nt,transition:null},v.reload=function(n){return v.transitionTo(v.current,rt,{reload:n||!0,inherit:!1,notify:!0})},v.go=function(n,t,i){return v.transitionTo(n,t,u({inherit:!0,relative:v.$current},i))},v.transitionTo=function(t,i,e){var ot,dt,gt,bt,at,kt;i=i||{};e=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},e||{});var ni,y=v.$current,p=v.params,tt=y.path,a=k(t,e.relative),vt=i["#"];if(!r(a)){if(ot={to:t,toParams:i,options:e},dt=ct(ot,y.self,p,e),dt)return dt;if(t=ot.to,i=ot.toParams,e=ot.options,a=k(t,e.relative),!r(a)){if(!e.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+e.relative+"'");}}if(a[st])throw new Error("Cannot transition to abstract state '"+t+"'");if(e.inherit&&(i=ft(rt,i||{},v.$current,a)),!a.params.$$validates(i))return ht;i=a.params.$$values(i);t=a;var d=t.path,c=0,h=d[c],g=nt.locals,pt=[];if(e.reload){if(f(e.reload)||s(e.reload)){if(s(e.reload)&&!e.reload.name)throw new Error("Invalid reload state object");if(gt=e.reload===!0?tt[0]:k(e.reload),e.reload&&!gt)throw new Error("No such reload state '"+(f(e.reload)?e.reload:e.reload.name)+"'");for(;h&&h===tt[c]&&h!==gt;)g=pt[c]=h.locals,c++,h=d[c]}}else for(;h&&h===tt[c]&&h.ownParams.$$equals(i,p);)g=pt[c]=h.locals,c++,h=d[c];if(wt(t,i,y,p,g,e))return vt&&(i["#"]=vt),v.params=i,it(v.params,rt),it(b(t.params.$$keys(),rt),t.locals.globals.$stateParams),e.location&&t.navigable&&t.navigable.url&&(ut.push(t.navigable.url,i,{$$avoidResync:!0,replace:"replace"===e.location}),ut.update(!0)),v.transition=null,o.when(v.current);if(i=b(t.params.$$keys(),i||{}),vt&&(i["#"]=vt),e.notify&&n.$broadcast("$stateChangeStart",t.self,i,y.self,p,e).defaultPrevented)return n.$broadcast("$stateChangeCancel",t.self,i,y.self,p),null==v.transition&&ut.update(),yt;for(bt=o.when(g),at=c;at<d.length;at++,h=d[at])g=pt[at]=w(g),bt=lt(h,i,h===t,bt,g,e);return kt=v.transition=bt.then(function(){var r,u,f;if(v.transition!==kt)return et;for(r=tt.length-1;r>=c;r--)f=tt[r],f.self.onExit&&l.invoke(f.self.onExit,f.self,f.locals.globals),f.locals=null;for(r=c;r<d.length;r++)u=d[r],u.locals=pt[r],u.self.onEnter&&l.invoke(u.self.onEnter,u.self,u.locals.globals);return v.transition!==kt?et:(v.$current=t,v.current=t.self,v.params=i,it(v.params,rt),v.transition=null,e.location&&t.navigable&&ut.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===e.location}),e.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,y.self,p),ut.update(!0),v.current)},function(r){return v.transition!==kt?et:(v.transition=null,ni=n.$broadcast("$stateChangeError",t.self,i,y.self,p,r),ni.defaultPrevented||ut.update(),o.reject(r))})},v.is=function(n,t,f){f=u({relative:v.$current},f||{});var e=k(n,f.relative);return r(e)?v.$current!==e?!1:t?g(e.params.$$values(t),rt):!0:i},v.includes=function(n,t,e){if(e=u({relative:v.$current},e||{}),f(n)&&at(n)){if(!vt(n))return!1;n=v.$current.name}var o=k(n,e.relative);return r(o)?r(v.$current.includes[o.name])?t?g(o.params.$$values(t),rt,p(t)):!0:!1:i},v.href=function(n,t,f){var e,o;return(f=u({lossy:!0,inherit:!0,absolute:!1,relative:v.$current},f||{}),e=k(n,f.relative),!r(e))?null:(f.inherit&&(t=ft(rt,t||{},v.$current,e)),o=e&&f.lossy?e.navigable:e,o&&o.url!==i&&null!==o.url?ut.href(o.url,b(e.params.$$keys().concat("#"),t||{}),{absolute:f.absolute}):null)},v.get=function(n,t){if(0===arguments.length)return y(p(tt),function(n){return tt[n].self});var i=k(n,t||v.$current);return i&&i.self?i.self:null},v}function wt(n,t,i,r,u,f){function e(n,t,i){function r(t){return"search"!=n.params[t].location}var u=n.params.$$keys().filter(r),f=et.apply({},[n.params].concat(u)),e=new l.ParamSet(f);return e.$$equals(t,i)}if(!f.reload&&n===i&&(u===i.locals||n.self.reloadOnSearch===!1&&e(i,r,t)))return!0}var nt,v,tt={},rt={},st="abstract",d={parent:function(n){if(r(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=w(n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(f(t))return"^"==t.charAt(0)?o.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new l.ParamSet;return e(n.params||{},function(n,i){t[i]||(t[i]=new l.Param(i,null,n,"config"))}),t},params:function(n){var t=et(n.ownParams,n.ownParams.$$keys());return n.parent&&n.parent.params?u(n.parent.params.$$new(),t):new l.ParamSet},views:function(n){var t={};return e(r(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?u({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ut({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=yt;this.state=pt;this.$get=ot;ot.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function at(){function n(n,t){return{load:function(n,i){var r;return i=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function fi(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){return i(function(){n[0].scrollIntoView()},0,!1)}}]}function vt(n,i,r,u){function s(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(t){return null}}}function h(n,i){function o(n){return 1===rt&&ut>=4?!!f.enabled(n):1===rt&&ut>=2?!!f.enabled():!!e}var r={enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}},u;return n.noanimation?r:f?{enter:function(n,i,u){o(n)?t.version.minor>2?f.enter(n,null,i).then(u):f.enter(n,null,i,u):r.enter(n,i,u)},leave:function(n,i){o(n)?t.version.minor>2?f.leave(n).then(i):f.leave(n,i):r.leave(n,i)}}:e?(u=e&&e(i,n),{enter:function(n,t,i){u.enter(n,null,t);i()},leave:function(n,t){u.leave(n);t()}}):r}var o=s(),e=o("$animator"),f=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,f,e){return function(i,f,o){function w(){function t(){i&&i.remove();n&&n.$destroy()}var i=l,n=s;n&&(n._willBeDestroyed=!0);c?(p.leave(c,function(){t();l=null}),l=c):(t(),l=null);c=null;s=null}function v(h){var v,l=pt(i,o,f,u),d=l&&n.$current&&n.$current.locals[l],k;(h||d!==y)&&!i._willBeDestroyed&&(v=i.$new(),y=n.$current.locals[l],v.$emit("$viewContentLoading",l),k=e(v,function(n){p.enter(n,f,function(){s&&s.$emit("$viewContentAnimationEnded");(t.isDefined(a)&&!a||i.$eval(a))&&r(n)});w()}),c=k,s=v,s.$emit("$viewContentLoaded",l),s.$eval(b))}var l,c,s,y,b=o.onload||"",a=o.autoscroll,p=h(o,i);i.$on("$stateChangeSuccess",function(){v(!1)});v(!0)}}}}function yt(n,t,i,r){return{restrict:"ECA",priority:-400,compile:function(u){var f=u.html();return function(u,e,o){var c=i.$current,l=pt(u,o,e,r),s=c&&c.locals[l],a,h;s&&(e.data("$uiView",{name:l,state:s.$$state}),e.html(s.$template?s.$template:f),a=n(e.contents()),s.$$controller&&(s.$scope=u,s.$element=e,h=t(s.$$controller,s),s.$$controllerAs&&(u[s.$$controllerAs]=h),e.data("$ngControllerController",h),e.children().data("$ngControllerController",h)),a(u))}}}}function pt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function wt(n,t){var i,r=n.match(/^\s*({[^}]*})\s*$/);if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||4!==i.length)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function bt(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function kt(n){var i="[object SVGAnimatedString]"===Object.prototype.toString.call(n.prop("href")),t="FORM"===n[0].nodeName;return{attr:t?"action":i?"xlink:href":"href",isAnchor:"A"===n.prop("tagName").toUpperCase(),clickable:!t}}function dt(n,t,i,r,u){return function(f){var h=f.which||f.button,e=u(),o,s;h>1||f.ctrlKey||f.metaKey||f.shiftKey||n.attr("target")||(o=i(function(){t.go(e.state,e.params,e.options)}),f.preventDefault(),s=r.isAnchor&&!e.href?1:0,f.preventDefault=function(){s--<=0&&i.cancel(o)})}}function ei(n,t){return{relative:bt(n)||t.$current,inherit:!0}}function gt(n,i){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,f,e,o){var h=wt(e.uiSref,n.current.name),s={state:h.state,href:null,params:null},c=kt(f),a=o[1]||o[0],l;s.options=u(ei(f,n),e.uiSrefOpts?r.$eval(e.uiSrefOpts):{});l=function(i){i&&(s.params=t.copy(i));s.href=n.href(h.state,s.params,s.options);a&&a.$$addStateInfo(h.state,s.params);null!==s.href&&e.$set(c.attr,s.href)};h.paramExpr&&(r.$watch(h.paramExpr,function(n){n!==s.params&&l(n)},!0),s.params=t.copy(r.$eval(h.paramExpr)));l();c.clickable&&f.bind("click",dt(f,n,i,c,function(){return s}))}}}function ni(n,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,u,f){function s(t){e.state=t[0];e.params=t[1];e.options=t[2];e.href=n.href(e.state,e.params,e.options);h&&h.$$addStateInfo(e.state,e.params);e.href&&u.$set(o.attr,e.href)}var o=kt(r),h=f[1]||f[0],l=[u.uiState,u.uiStateParams||null,u.uiStateOpts||null],c="["+l.map(function(n){return n||"null"}).join(", ")+"]",e={state:null,params:null,options:null,href:null};i.$watch(c,s,!0);s(i.$eval(c));o.clickable&&r.bind("click",dt(r,n,t,o,function(){return e}))}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,u,o){function y(t,i,u){var e=n.get(t,bt(r)),f=b(t,i);h.push({state:e||{name:t},params:i,hash:f});v[f]=u}function b(n,i){if(!f(n))throw new Error("state should be a string");return s(i)?n+ri(i):(i=t.$eval(i),s(i)?n+ri(i):n)}function l(){for(var n=0;n<h.length;n++)k(h[n].state,h[n].params)?p(r,v[h[n].hash]):w(r,v[h[n].hash]),d(h[n].state,h[n].params)?p(r,a):w(r,a)}function p(n,t){o(function(){n.addClass(t)})}function w(n,t){n.removeClass(t)}function k(t,i){return n.includes(t.name,i)}function d(t,i){return n.is(t.name,i)}var a,c,h=[],v={};a=i(u.uiSrefActiveEq||"",!1)(t);try{c=t.$eval(u.uiSrefActive)}catch(g){}c=c||i(u.uiSrefActive||"",!1)(t);s(c)&&e(c,function(i,r){if(f(i)){var u=wt(i,n.current.name);y(u.state,t.$eval(u.paramExpr),r)}});this.$$addStateInfo=function(n,t){s(c)&&h.length>0||(y(n,t,c),l())};t.$on("$stateChangeSuccess",l);l()}]}}function ti(n){var t=function(t,i){return n.is(t,i)};return t.$stateful=!0,t}function ii(n){var t=function(t,i,r){return n.includes(t,i,r)};return t.$stateful=!0,t}var r=t.isDefined,c=t.isFunction,f=t.isString,s=t.isObject,a=t.isArray,e=t.forEach,u=t.extend,it=t.copy,ri=t.toJson,l,rt,ut;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);ot.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",ot);st.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",st);v.prototype.concat=function(n,t){var i={caseInsensitive:l.caseInsensitive(),strict:l.strictMode(),squash:l.defaultSquashPolicy()};return new v(this.sourcePath+n+this.sourceSearch,u(i,t),this)};v.prototype.toString=function(){return this.source};v.prototype.exec=function(n,t){function a(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/g,"-")}var r=t(n).split(/-(?!\\)/),u=y(r,t);return y(u,i).reverse()}var h=this.regexp.exec(n),u,i;if(!h)return null;t=t||{};var o,f,e,c=this.parameters(),v=c.length,l=this.segments.length-1,s={};if(l!==h.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;l>o;o++){for(e=c[o],u=this.params[e],i=h[o+1],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);i&&u.array===!0&&(i=a(i));r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}for(;v>o;o++){for(e=c[o],s[e]=this.params[e].value(t[e]),u=this.params[e],i=t[e],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}return s};v.prototype.parameters=function(n){return r(n)?this.params[n]||null:this.$$paramNames};v.prototype.validates=function(n){return this.params.$$validates(n)};v.prototype.format=function(n){function d(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,b,k;n=n||{};var h=this.segments,c=this.parameters(),g=this.params;if(!this.validates(n))return null;for(var l=!1,v=h.length-1,nt=c.length,i=h[0],r=0;nt>r;r++){var tt=v>r,o=c[r],u=g[o],p=u.value(n[o]),w=u.isOptional&&u.type.equals(u.value(),p),e=w?u.squash:!1,t=u.type.encode(p);if(tt)s=h[r+1],b=r+1===v,e===!1?(null!=t&&(i+=a(t)?y(t,d).join("-"):encodeURIComponent(t)),i+=s):e===!0?(k=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(k)[1]):f(e)&&(i+=e+s),b&&u.squash===!0&&"/"===i.slice(-1)&&(i=i.slice(0,-1));else{if(null==t||w&&e!==!1)continue;if(a(t)||(t=[t]),0===t.length)continue;t=y(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};o.prototype.is=function(){return!0};o.prototype.encode=function(n){return n};o.prototype.decode=function(n){return n};o.prototype.equals=function(n,t){return n==t};o.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};o.prototype.pattern=/.*/;o.prototype.toString=function(){return"{Type:"+this.name+"}"};o.prototype.$normalize=function(n){return this.is(n)?n:this.decode(n)};o.prototype.$asArray=function(n,t){function u(n,t){function u(n,t){return function(){return n[t].apply(n,arguments)}}function e(n){return a(n)?n:r(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return"auto"===t?n[0]:n;default:return n}}function s(n){return!n}function f(n,t){return function(i){if(a(i)&&0===i.length)return i;i=e(i);var r=y(i,n);return t===!0?0===nt(r,s).length:o(r)}}function h(n){return function(t,i){var u=e(t),f=e(i),r;if(u.length!==f.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],f[r]))return!1;return!0}}this.encode=f(u(n,"encode"));this.decode=f(u(n,"decode"));this.is=f(u(n,"is"),!0);this.equals=h(u(n,"equals"));this.pattern=n.pattern;this.$normalize=f(u(n,"$normalize"));this.name=n.name;this.$arrayMode=t}if(!n)return this;if("auto"===n&&!t)throw new Error("'auto' array mode is for query parameters only");return new u(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",ht);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);ct.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",ct);lt.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",lt);at.$inject=[];t.module("ui.router.state").provider("$view",at);t.module("ui.router.state").provider("$uiViewScroll",fi);rt=t.version.major;ut=t.version.minor;vt.$inject=["$state","$injector","$uiViewScroll","$interpolate"];yt.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",vt);t.module("ui.router.state").directive("uiView",yt);gt.$inject=["$state","$timeout"];ni.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",gt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt).directive("uiState",ni);ti.$inject=["$state"];ii.$inject=["$state"];t.module("ui.router.state").filter("isState",ti).filter("includedByState",ii)}(window,window.angular),function(n,t){"use strict";function at(n,t,i){if(!n)throw oi("areq",t||"?",i||"required");return n}function vt(n,t){return!n&&!t?"":n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t}function ni(n){var t={};return n&&(n.to||n.from)&&(t.to=n.to,t.from=n.from),t}function s(n,t,r){var u="";return n=c(n)?n:n&&o(n)&&n.length?n.split(/\s+/):[],i(n,function(n,i){n&&0<n.length&&(u+=0<i?" ":"",u+=r?t+n:n+t)}),u}function ti(n){if(n instanceof u)switch(n.length){case 0:return n;case 1:if(1===n[0].nodeType)return n;break;default:return u(it(n))}if(1===n.nodeType)return u(n)}function it(n){var t,i;if(!n[0])return n;for(t=0;t<n.length;t++)if(i=n[t],1==i.nodeType)return i}function ii(n,t,r){i(t,function(t){n.addClass(t,r)})}function ri(n,t,r){i(t,function(t){n.removeClass(t,r)})}function v(n){return function(t,i){i.addClass&&(ii(n,t,i.addClass),i.addClass=null);i.removeClass&&(ri(n,t,i.removeClass),i.removeClass=null)}}function b(n){if(n=n||{},!n.$$prepared){var t=n.domOperation||f;n.domOperation=function(){n.$$domOperationFired=!0;t();t=f};n.$$prepared=!0}return n}function l(n,t){yt(n,t);pt(n,t)}function yt(n,t){t.from&&(n.css(t.from),t.from=null)}function pt(n,t){t.to&&(n.css(t.to),t.to=null)}function y(n,t,i){var r=t.options||{},u,e;return i=i.options||{},u=(r.addClass||"")+" "+(i.addClass||""),e=(r.removeClass||"")+" "+(i.removeClass||""),n=ui(n.attr("class"),u,e),i.preparationClasses&&(r.preparationClasses=d(i.preparationClasses,r.preparationClasses),delete i.preparationClasses),u=r.domOperation!==f?r.domOperation:null,ht(r,i),u&&(r.domOperation=u),r.addClass=n.addClass?n.addClass:null,r.removeClass=n.removeClass?n.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function ui(n,t,r){function e(n){o(n)&&(n=n.split(" "));var t={};return i(n,function(n){n.length&&(t[n]=!0)}),t}var f={},u;return n=e(n),t=e(t),i(t,function(n,t){f[t]=1}),r=e(r),i(r,function(n,t){f[t]=1===f[t]?null:-1}),u={addClass:"",removeClass:""},i(f,function(t,i){var r,f;1===t?(r="addClass",f=!n[i]||n[i+"-remove"]):-1===t&&(r="removeClass",f=n[i]||n[i+"-add"]);f&&(u[r].length&&(u[r]+=" "),u[r]+=i)}),u}function r(n){return n instanceof u?n[0]:n}function fi(n,t,i){var r="";t&&(r=s(t,"ng-",!0));i.addClass&&(r=d(r,s(i.addClass,"-add")));i.removeClass&&(r=d(r,s(i.removeClass,"-remove")));r.length&&(i.preparationClasses=r,n.addClass(r))}function k(n,t){var i=t?"-"+t+"s":"";return p(n,[w,i]),[w,i]}function rt(n,t){var i=t?"paused":"",r=h+"PlayState";return p(n,[r,i]),[r,i]}function p(n,t){n.style[t[0]]=t[1]}function d(n,t){return n?t?n+" "+t:n:t}function wt(n,t,r){var u=Object.create(null),f=n.getComputedStyle(t)||{};return i(r,function(n,t){var i=f[n],r;i&&(r=i.charAt(0),("-"===r||"+"===r||0<=r)&&(i=ei(i)),0===i&&(i=null),u[t]=i)}),u}function ei(n){var t=0;return n=n.split(/\s*,\s*/),i(n,function(n){"s"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));n=parseFloat(n)||0;t=t?Math.max(n,t):n}),t}function ut(n){return 0===n||null!=n}function bt(n,t){var i=e,r=n+"s";return t?i+="Duration":r+=" linear all",[i,r]}function kt(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){return(t=n[t])?t.total:0},get:function(t){return(t=n[t])&&t.value},put:function(t,i){n[t]?n[t].total++:n[t]={total:1,value:i}}}}function dt(n,t,r){i(r,function(i){n[i]=ct(n[i])?n[i]:t.style.getPropertyValue(i)})}var e,ft,h,et;void 0===n.ontransitionend&&void 0!==n.onwebkittransitionend?(e="WebkitTransition",ft="webkitTransitionEnd transitionend"):(e="transition",ft="transitionend");void 0===n.onanimationend&&void 0!==n.onwebkitanimationend?(h="WebkitAnimation",et="webkitAnimationEnd animationend"):(h="animation",et="animationend");var g=h+"Delay",ot=h+"Duration",w=e+"Delay",gt=e+"Duration",oi=t.$$minErr("ng"),si={transitionDuration:gt,transitionDelay:w,transitionProperty:e+"Property",animationDuration:ot,animationDelay:g,animationIterationCount:h+"IterationCount"},hi={transitionDuration:gt,transitionDelay:w,animationDuration:ot,animationDelay:g},st,ht,i,c,ct,nt,lt,tt,o,a,u,f;t.module("ngAnimate",[],function(){f=t.noop;st=t.copy;ht=t.extend;u=t.element;i=t.forEach;c=t.isArray;o=t.isString;tt=t.isObject;a=t.isUndefined;ct=t.isDefined;lt=t.isFunction;nt=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(n){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,i,r,u,f){var o,e;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&n.leave(o);e&&(e.$destroy(),e=null);(r||0===r)&&(e=t.$new(),f(e,function(t){o=t;n.enter(t,null,i)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(n){return{link:function(t,i,r){function f(n){i.data("$$ngAnimateChildren","on"===n||"true"===n)}var u=r.ngAnimateChildren;o(u)&&0===u.length?i.data("$$ngAnimateChildren",!0):(f(n(u)(t)),r.$observe("ngAnimateChildren",f))}}}]).factory("$$rAFScheduler",["$$rAF",function(n){function r(n){i=i.concat(n);u()}function u(){if(i.length){for(var f=i.shift(),r=0;r<f.length;r++)f[r]();t||n(function(){t||u()})}}var i,t;return i=r.queue=[],r.waitUntilQuiet=function(i){t&&t();t=n(function(){t=null;i();u()})},r}]).provider("$$animateQueue",["$animateProvider",function(t){function p(n){if(!n)return null;n=n.split(" ");var t=Object.create(null);return i(n,function(n){t[n]=!0}),t}function h(n,t){if(n&&t){var i=p(t);return n.split(" ").some(function(n){return i[n]})}}function s(n,t,i,r){return f[n].some(function(n){return n(t,i,r)})}function e(n,t){var i=0<(n.addClass||"").length,r=0<(n.removeClass||"").length;return t?i&&r:i||r}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(n,t){return!t.structural&&e(t)});f.skip.push(function(n,t){return!t.structural&&!e(t)});f.skip.push(function(n,t,i){return"leave"==i.event&&t.structural});f.skip.push(function(n,t,i){return i.structural&&2===i.state&&!t.structural});f.cancel.push(function(n,t,i){return i.structural&&t.structural});f.cancel.push(function(n,t,i){return 2===i.state&&t.structural});f.cancel.push(function(n,t,i){if(i.structural)return!1;n=t.addClass;t=t.removeClass;var r=i.addClass;return i=i.removeClass,a(n)&&a(t)||a(r)&&a(i)?!1:h(n,i)||h(t,r)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(f,h,p,w,k,d,g,rt,ut){function ni(){var n=!1;return function(t){n?t():h.$$postDigest(function(){n=!0;t()})}}function ii(n,t,u){var e=r(t),o=r(n),f=[];return(n=et[u])&&i(n,function(n){gt.call(n.node,e)?f.push(n.callback):"leave"===u&&gt.call(n.node,o)&&f.push(n.callback)}),f}function wt(n,t,i){var r=it(t);return n.filter(function(n){return!(n.node===r&&(!i||n.callback===i))})}function ri(n,t,u){function rt(t,r,u,e){at(function(){var t=ii(ct,n,r);t.length?f(function(){i(t,function(t){t(n,u,e)});"close"!==u||n[0].parentNode||yt.off(n)}):"close"!==u||n[0].parentNode||yt.off(n)});t.progress(r,u,e)}function nt(t){var r=n,i=a;i.preparationClasses&&(r.removeClass(i.preparationClasses),i.preparationClasses=null);i.activeClasses&&(r.removeClass(i.activeClasses),i.activeClasses=null);dt(n,a);l(n,a);a.domOperation();p.complete(!t)}var a=st(u),k,ct,it,ht;(n=ti(n))&&(k=r(n),ct=n.parent());var a=b(a),p=new g,at=ni();if((c(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!o(a.addClass)&&(a.addClass=null),c(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!o(a.removeClass)&&(a.removeClass=null),a.from&&!tt(a.from)&&(a.from=null),a.to&&!tt(a.to)&&(a.to=null),!k)||(u=[k.className,a.addClass,a.removeClass].join(" "),!si(u)))return nt(),p;var ut=0<=["enter","move","leave"].indexOf(t),v=w[0].hidden,et=!lt||v||ot.get(k);if(u=!et&&ft.get(k)||{},it=!!u.state,et||it&&1==u.state||(et=!ei(n,ct,t)),et)return v&&rt(p,t,"start"),nt(),v&&rt(p,t,"close"),p;if(ut&&ui(n),v={structural:ut,element:n,event:t,addClass:a.addClass,removeClass:a.removeClass,close:nt,options:a,runner:p},it){if(s("skip",n,v,u))return 2===u.state?(nt(),p):(y(n,u,v),u.runner);if(s("cancel",n,v,u))if(2===u.state)u.runner.end();else if(u.structural)u.close();else return y(n,u,v),u.runner;else if(s("join",n,v,u))if(2===u.state)y(n,v,{});else return fi(n,ut?t:null,a),t=v.event=u.event,a=y(n,u,v),u.runner}else y(n,v,{});return((it=v.structural)||(it="animate"===v.event&&0<Object.keys(v.options.to||{}).length||e(v)),!it)?(nt(),pt(n),p):(ht=(u.counter||0)+1,v.counter=ht,bt(n,1,v),h.$$postDigest(function(){var i=ft.get(k),u=!i,i=i||{},f=0<(n.parent()||[]).length&&("animate"===i.event||i.structural||e(i));u||i.counter!==ht||!f?(u&&(dt(n,a),l(n,a)),(u||ut&&i.event!==t)&&(a.domOperation(),p.end()),f||pt(n)):(t=!i.structural&&e(i,!0)?"setClass":i.event,bt(n,2),i=d(n,t,i.options),p.setHost(i),rt(p,t,"start",{}),i.done(function(i){nt(!i);(i=ft.get(k))&&i.counter===ht&&pt(r(n));rt(p,t,"close",{})}))}),p)}function ui(n){n=r(n).querySelectorAll("[data-ng-animate]");i(n,function(n){var i=parseInt(n.getAttribute("data-ng-animate")),t=ft.get(n);if(t)switch(i){case 2:t.runner.end();case 1:ft.remove(n)}})}function pt(n){n=r(n);n.removeAttribute("data-ng-animate");ft.remove(n)}function vt(n,t){return r(n)===r(t)}function ei(n,t,i){var c;i=u(w[0].body);var o=vt(n,i)||"HTML"===n[0].nodeName,f=vt(n,p),s=!1,e,h=ot.get(r(n));for((n=u.data(n[0],"$ngAnimatePin"))&&(t=n),t=r(t);t;){if(f||(f=vt(t,p)),1!==t.nodeType)break;if(n=ft.get(t)||{},!s){if(c=ot.get(t),!0===c&&!1!==h){h=!0;break}else!1===c&&(h=!1);s=n.structural}if((a(e)||!0===e)&&(n=u.data(t,"$$ngAnimateChildren"),ct(n)&&(e=n)),s&&!1===e)break;if(o||(o=vt(t,i)),o&&f)break;if(!f&&(n=u.data(t,"$ngAnimatePin"))){t=r(n);continue}t=t.parentNode}return(!s||e)&&!0!==h&&f&&o}function bt(n,t,i){i=i||{};i.state=t;n=r(n);n.setAttribute("data-ng-animate",t);i=(t=ft.get(n))?ht(t,i):i;ft.put(n,i)}var ft=new k,ot=new k,lt=null,oi=h.$watch(function(){return 0===rt.totalPendingRequests},function(n){n&&(oi(),h.$$postDigest(function(){h.$$postDigest(function(){null===lt&&(lt=!0)})}))}),et=Object.create(null),kt=t.classNameFilter(),si=kt?function(n){return kt.test(n)}:function(){return!0},dt=v(ut),gt=n.Node.prototype.contains||function(n){return this===n||!!(this.compareDocumentPosition(n)&16)},yt={on:function(n,t,i){var r=it(t);et[n]=et[n]||[];et[n].push({node:r,callback:i});u(t).on("$destroy",function(){ft.get(r)||yt.off(n,t,i)})},off:function(n,t,i){if(1!==arguments.length||o(arguments[0])){var r=et[n];r&&(et[n]=1===arguments.length?null:wt(r,t,i))}else for(r in t=arguments[0],et)et[r]=wt(et[r],t)},pin:function(n,t){at(nt(n),"element","not an element");at(nt(t),"parentElement","not an element");n.data("$ngAnimatePin",t)},push:function(n,t,i,r){return i=i||{},i.domOperation=r,ri(n,t,i)},enabled:function(n,t){var u=arguments.length,i;return 0===u?t=!!lt:nt(n)?(i=r(n),1===u?t=!ot.get(i):ot.put(i,!t)):t=lt=!!n,t}};return yt}]}]).provider("$$animation",["$animateProvider",function(){var n=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,f,e,o,s,h){function a(n){function u(n){var e,t,i;if(n.processed)return n;for(n.processed=!0,e=n.domNode,t=e.parentNode,r.put(e,n);t;){if(i=r.get(t)){i.processed||(i=u(i));break}t=t.parentNode}return(i||f).children.push(n),n}for(var f={children:[]},r=new s,i,t=0;t<n.length;t++)i=n[t],r.put(i.domNode,n[t]={domNode:i.domNode,fn:i.fn,children:[]});for(t=0;t<n.length;t++)u(n[t]);return function(n){for(var f=[],r=[],u,i,e,t=0;t<n.children.length;t++)r.push(n.children[t]);for(n=r.length,u=0,i=[],t=0;t<r.length;t++)e=r[t],0>=n&&(n=u,u=0,f.push(i),i=[]),i.push(e.fn),e.children.forEach(function(n){u++;r.push(n)}),n--;return i.length&&f.push(i),f}(f)}var c=[],y=v(t);return function(s,v,p){function rt(n){n=n.hasAttribute("ng-animate-ref")?[n]:n.querySelectorAll("[ng-animate-ref]");var t=[];return i(n,function(n){var i=n.getAttribute("ng-animate-ref");i&&i.length&&t.push(n)}),t}function ut(n){var t=[],f={},o,e;return i(n,function(n,e){var o=r(n.element),h=0<=["enter","move"].indexOf(n.event),o=n.structural?rt(o):[],s;o.length?(s=h?"to":"from",i(o,function(n){var t=n.getAttribute("ng-animate-ref");f[t]=f[t]||{};f[t][s]={animationID:e,element:u(n)}})):t.push(n)}),o={},e={},i(f,function(i){var r=i.from,u=i.to,c;if(r&&u){var f=n[r.animationID],s=n[u.animationID],h=r.animationID.toString();e[h]||(c=e[h]={structural:!0,beforeStart:function(){f.beforeStart();s.beforeStart()},close:function(){f.close();s.close()},classes:ft(f.classes,s.classes),from:f,to:s,anchors:[]},c.classes.length?t.push(c):(t.push(f),t.push(s)));e[h].anchors.push({out:r.element,"in":u.element})}else r=r?r.animationID:u.animationID,u=r.toString(),o[u]||(o[u]=!0,t.push(n[r]))}),t}function ft(n,t){var f,i,r,u;for(n=n.split(" "),t=t.split(" "),f=[],i=0;i<n.length;i++)if(r=n[i],"ng-"!==r.substring(0,3))for(u=0;u<t.length;u++)if(r===t[u]){f.push(r);break}return f.join(" ")}function et(t){for(var r,i=n.length-1;0<=i;i--)if(r=e.get(n[i])(t),r)return r}function ot(n,t){function i(n){(n=n.data("$$animationRunner"))&&n.setHost(t)}n.from&&n.to?(i(n.from.element),i(n.to.element)):i(n.element)}function it(){var n=s.data("$$animationRunner");!n||"leave"===v&&p.$$domOperationFired||n.end()}function g(n){s.off("$destroy",it);s.removeData("$$animationRunner");y(s,p);l(s,p);p.domOperation();w&&t.removeClass(s,w);s.removeClass("ng-animate");k.complete(!n)}var nt,k,tt,w,d;if(p=b(p),nt=0<=["enter","move","leave"].indexOf(v),k=new o({end:function(){g()},cancel:function(){g(!0)}}),!n.length)return g(),k;s.data("$$animationRunner",k);tt=vt(s.attr("class"),vt(p.addClass,p.removeClass));w=p.tempClasses;w&&(tt+=" "+w,p.tempClasses=null);nt&&(d="ng-"+v+"-prepare",t.addClass(s,d));c.push({element:s,classes:tt,event:v,structural:nt,options:p,beforeStart:function(){s.addClass("ng-animate");w&&t.addClass(s,w);d&&(t.removeClass(s,d),d=null)},close:g});s.on("$destroy",it);return 1<c.length?k:(f.$$postDigest(function(){var t=[],u,n;i(c,function(n){n.element.data("$$animationRunner")?t.push(n):n.close()});c.length=0;u=ut(t);n=[];i(u,function(t){n.push({domNode:r(t.from?t.from.element:t.element),fn:function(){var n,i,r;t.beforeStart();i=t.close;(t.anchors?t.from.element||t.to.element:t.element).data("$$animationRunner")&&(r=et(t),r&&(n=r.start));n?(n=n(),n.done(function(n){i(!n)}),ot(t,n)):i()}})});h(a(n))}),k)}}]}]).provider("$animateCss",["$animateProvider",function(){var n=kt(),t=kt();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(u,o,a,y,d,nt,tt,it){function lt(n,t){var i=n.parentNode;return(i.$$ngAnimateParentKey||(i.$$ngAnimateParentKey=++gt))+"-"+n.getAttribute("class")+"-"+t}function kt(i,r,f,e){var h;return 0<n.count(f)&&(h=t.get(f),h||(r=s(r,"-stagger"),o.addClass(i,r),h=wt(u,i,e),h.animationDuration=Math.max(h.animationDuration,0),h.transitionDuration=Math.max(h.transitionDuration,0),o.removeClass(i,r),t.put(f,h))),h||{}}function at(i){ht.push(i);tt.waitUntilQuiet(function(){n.flush();t.flush();for(var r=d(),i=0;i<ht.length;i++)ht[i](r);ht.length=0})}function vt(t,i,r){return i=n.get(r),i||(i=wt(u,t,si),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),n.put(r,i),t=i,r=t.animationDelay,i=t.transitionDelay,t.maxDelay=r&&i?Math.max(r,i):r||i,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var ct=v(o),gt=0,ht=[];return function(t,u){function ki(){ii()}function or(){ii(!0)}function ii(n){if(!(wi||rr&&ei)){wi=!0;ei=!1;v.$$skipPreparationClasses||o.removeClass(t,ci);o.removeClass(t,cr);rt(tt,!1);k(tt,!1);i(gt,function(n){tt.style[n[0]]=""});ct(t,v);l(t,v);Object.keys(pi).length&&i(pi,function(n,t){n?tt.style.setProperty(t,n):tt.style.removeProperty(t)});v.onDone&&v.onDone();oi&&oi.length&&t.off(oi.join(" "),hr);var r=t.data("$$animateCss");r&&(y.cancel(r[0].timer),t.removeData("$$animateCss"));li&&li.complete(!n)}}function sr(n){d.blockTransition&&k(tt,n);d.blockKeyframeAnimation&&rt(tt,!!n)}function di(){return li=new a({end:ki,cancel:or}),at(f),ii(),{$$willAnimate:!1,start:function(){return li},end:ki}}function hr(n){n.stopPropagation();var t=n.originalEvent||n;n=t.$manualTimeStamp||Date.now();t=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-fr,0)>=nr&&t>=ti&&(rr=!0,ii())}function lr(){function n(){var r,u,n,s,c;if(!wi){if(sr(!1),i(gt,function(n){tt.style[n[0]]=n[1]}),ct(t,v),o.addClass(t,cr),d.recalculateTimingStyles){if(bi=tt.className+" "+ci,yi=lt(tt,bi),ht=vt(tt,bi,yi),ui=ht.maxDelay,ai=Math.max(ui,0),ti=ht.maxDuration,0===ti){ii();return}d.hasTransitions=0<ht.transitionDuration;d.hasAnimations=0<ht.animationDuration}if(d.applyAnimationDelay&&(ui="boolean"!=typeof v.delay&&ut(v.delay)?parseFloat(v.delay):ui,ai=Math.max(ui,0),ht.animationDelay=ui,fi=[g,ui+"s"],gt.push(fi),tt.style[fi[0]]=fi[1]),nr=1e3*ai,ur=1e3*ti,v.easing&&(n=v.easing,d.hasTransitions&&(r=e+"TimingFunction",gt.push([r,n]),tt.style[r]=n),d.hasAnimations&&(r=h+"TimingFunction",gt.push([r,n]),tt.style[r]=n)),ht.transitionDuration&&oi.push(ft),ht.animationDuration&&oi.push(et),fr=Date.now(),u=nr+1.5*ur,r=fr+u,n=t.data("$$animateCss")||[],s=!0,n.length&&(c=n[0],(s=r>c.expectedEndTime)?y.cancel(c.timer):n.push(ii)),s&&(u=y(f,u,!1),n[0]={timer:u,expectedEndTime:r},n.push(ii),t.data("$$animateCss",n)),oi.length)t.on(oi.join(" "),hr);v.to&&(v.cleanupStyles&&dt(pi,tt,Object.keys(v.to)),pt(t,v))}}function f(){var i=t.data("$$animateCss"),n;if(i){for(n=1;n<i.length;n++)i[n]();t.removeData("$$animateCss")}}if(!wi)if(tt.parentNode){var r=function(n){if(rr)ei&&n&&(ei=!1,ii());else if(ei=!n,ht.animationDuration)if(n=rt(tt,ei),ei)gt.push(n);else{var t=gt,i=t.indexOf(n);0<=n&&t.splice(i,1)}},u=0<tr&&(ht.transitionDuration&&0===ri.transitionDuration||ht.animationDuration&&0===ri.animationDuration)&&Math.max(ri.animationDelay,ri.transitionDelay);u?y(n,Math.floor(u*tr*1e3),!1):n();gi.resume=function(){r(!0)};gi.pause=function(){r(!1)}}else ii()}var v=u||{},pi,tt,yi,ri,tr,ht,ui,d,fi;if(v.$$prepared||(v=b(st(v))),pi={},tt=r(t),!tt||!tt.parentNode||!it.enabled())return di();var gt=[],ir=t.attr("class"),wt=ni(v),wi,ei,rr,li,gi,ai,nr,ti,ur,fr,oi=[];if(0===v.duration||!nt.animations&&!nt.transitions)return di();var vi=v.event&&c(v.event)?v.event.join(" "):v.event,er="",si="";vi&&v.structural?er=s(vi,"ng-",!0):vi&&(er=vi);v.addClass&&(si+=s(v.addClass,"-add"));v.removeClass&&(si.length&&(si+=" "),si+=s(v.removeClass,"-remove"));v.applyClassesEarly&&si.length&&ct(t,v);var ci=[er,si].join(" ").trim(),bi=ir+" "+ci,cr=s(ci,"-active"),ir=wt.to&&0<Object.keys(wt.to).length;return(0<(v.keyframeStyle||"").length||ir||ci)?(0<v.stagger?(wt=parseFloat(v.stagger),ri={transitionDelay:wt,animationDelay:wt,transitionDuration:0,animationDuration:0}):(yi=lt(tt,bi),ri=kt(tt,ci,yi,hi)),v.$$skipPreparationClasses||o.addClass(t,ci),v.transitionStyle&&(wt=[e,v.transitionStyle],p(tt,wt),gt.push(wt)),0<=v.duration&&(wt=0<tt.style[e].length,wt=bt(v.duration,wt),p(tt,wt),gt.push(wt)),v.keyframeStyle&&(wt=[h,v.keyframeStyle],p(tt,wt),gt.push(wt)),tr=ri?0<=v.staggerIndex?v.staggerIndex:n.count(yi):0,(vi=0===tr)&&!v.skipBlocking&&k(tt,9999),ht=vt(tt,bi,yi),ui=ht.maxDelay,ai=Math.max(ui,0),ti=ht.maxDuration,d={},d.hasTransitions=0<ht.transitionDuration,d.hasAnimations=0<ht.animationDuration,d.hasTransitionAll=d.hasTransitions&&"all"==ht.transitionProperty,d.applyTransitionDuration=ir&&(d.hasTransitions&&!d.hasTransitionAll||d.hasAnimations&&!d.hasTransitions),d.applyAnimationDuration=v.duration&&d.hasAnimations,d.applyTransitionDelay=ut(v.delay)&&(d.applyTransitionDuration||d.hasTransitions),d.applyAnimationDelay=ut(v.delay)&&d.hasAnimations,d.recalculateTimingStyles=0<si.length,(d.applyTransitionDuration||d.applyAnimationDuration)&&(ti=v.duration?parseFloat(v.duration):ti,d.applyTransitionDuration&&(d.hasTransitions=!0,ht.transitionDuration=ti,wt=0<tt.style[e+"Property"].length,gt.push(bt(ti,wt))),d.applyAnimationDuration&&(d.hasAnimations=!0,ht.animationDuration=ti,gt.push([ot,ti+"s"]))),0===ti&&!d.recalculateTimingStyles)?di():(null!=v.delay&&("boolean"!=typeof v.delay&&(fi=parseFloat(v.delay),ai=Math.max(fi,0)),d.applyTransitionDelay&&gt.push([w,fi+"s"]),d.applyAnimationDelay&&gt.push([g,fi+"s"])),null==v.duration&&0<ht.transitionDuration&&(d.recalculateTimingStyles=d.recalculateTimingStyles||vi),nr=1e3*ai,ur=1e3*ti,v.skipBlocking||(d.blockTransition=0<ht.transitionDuration,d.blockKeyframeAnimation=0<ht.animationDuration&&0<ri.animationDelay&&0===ri.animationDuration),v.from&&(v.cleanupStyles&&dt(pi,tt,Object.keys(v.from)),yt(t,v)),d.blockTransition||d.blockKeyframeAnimation?sr(ti):v.skipBlocking||k(tt,!1),{$$willAnimate:!0,end:ki,start:function(){if(!wi)return gi={end:ki,cancel:or,resume:null,pause:null},li=new a(gi),at(lr),li}}):di()}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(n){n.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,t,e,s,h,c,l){function p(n){return n.replace(/\bng-\S+\b/g,"")}function w(n,t){return o(n)&&(n=n.split(" ")),o(t)&&(t=t.split(" ")),n.filter(function(n){return-1===t.indexOf(n)}).join(" ")}function k(t,f,o){function l(n){var t={},u=r(n).getBoundingClientRect();return i(["width","height","top","left"],function(n){var i=u[n];switch(n){case"top":i+=a.scrollTop;break;case"left":i+=a.scrollLeft}t[n]=Math.floor(i)+"px"}),t}function v(){var t=p(o.attr("class")||""),i=w(t,y),t=w(y,t),i=n(s,{to:l(o),addClass:"ng-anchor-in "+i,removeClass:"ng-anchor-out "+t,delay:!0});return i.$$willAnimate?i:null}function c(){s.remove();f.removeClass("ng-animate-shim");o.removeClass("ng-animate-shim")}var s=u(r(f).cloneNode(!0)),y=p(s.attr("class")||""),h,k;return(f.addClass("ng-animate-shim"),o.addClass("ng-animate-shim"),s.addClass("ng-anchor"),b.append(s),t=function(){var t=n(s,{addClass:"ng-anchor-out",delay:!0,from:l(f)});return t.$$willAnimate?t:null}(),!t&&(h=v(),!h))?c():(k=t||h,{start:function(){function i(){n&&n.end()}var t,n=k.start();return n.done(function(){if(n=null,!h&&(h=v()))return n=h.start(),n.done(function(){n=null;c();t.complete()}),n;c();t.complete()}),t=new e({end:i,cancel:i})}})}function g(n,t,r,u){var o=y(n,f),s=y(t,f),h=[];return i(u,function(n){(n=k(r,n.out,n["in"]))&&h.push(n)}),o||s||0!==h.length?{start:function(){function r(){i(n,function(n){n.end()})}var n=[],t;return o&&n.push(o.start()),s&&n.push(s.start()),i(h,function(t){n.push(t.start())}),t=new e({end:r,cancel:r}),e.all(n,function(n){t.complete(n)}),t}}:void 0}function y(t){var r=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=d(i.event,i.preparationClasses)),t=n(r,i),t.$$willAnimate?t:null}var a,b;return!h.animations&&!h.transitions?f:(a=l[0].body,t=r(s),b=u(t.parentNode&&11===t.parentNode.nodeType||a.contains(t)?t:a),v(c),function(n){return n.from&&n.to?g(n.from,n.to,n.classes,n.anchors):y(n)})}]}]).provider("$$animateJs",["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,r,u){function e(i){var r,f;i=c(i)?i:i.split(" ");for(var e=[],o={},u=0;u<i.length;u++)r=i[u],f=n.$$registeredAnimations[r],f&&!o[r]&&(e.push(t.get(f)),o[r]=!0);return e}var o=v(u);return function(n,t,u,s){function a(){s.domOperation();o(n,s)}function rt(n,t,i,u,e){switch(i){case"animate":t=[t,u.from,u.to,e];break;case"setClass":t=[t,nt,it,e];break;case"addClass":t=[t,nt,e];break;case"removeClass":t=[t,it,e];break;default:t=[t,e]}if(t.push(u),n=n.apply(n,t))if(lt(n.start)&&(n=n.start()),n instanceof r)n.done(e);else if(lt(n))return n;return f}function c(n,t,u,e,o){var s=[];return i(e,function(i){var e=i[o];e&&s.push(function(){var i,s,h=!1,o=function(n){h||(h=!0,(s||f)(n),i.complete(!n))};return i=new r({end:function(){o()},cancel:function(){o(!0)}}),s=rt(e,n,t,u,function(n){o(!1===n)}),i})}),s}function g(n,t,u,f,e){var o=c(n,t,u,f,e),s,h;return 0===o.length&&("beforeSetClass"===e?(s=c(n,"removeClass",u,f,"beforeRemoveClass"),h=c(n,"addClass",u,f,"beforeAddClass")):"setClass"===e&&(s=c(n,"removeClass",u,f,"removeClass"),h=c(n,"addClass",u,f,"addClass")),s&&(o=o.concat(s)),h&&(o=o.concat(h))),0!==o.length?function(n){var t=[];return o.length&&i(o,function(n){t.push(n())}),t.length?r.all(t,n):n(),function(n){i(t,function(t){n?t.cancel():t.end()})}}:void 0}var v=!1,k,d,h;3===arguments.length&&tt(u)&&(s=u,u=null);s=b(s);u||(u=n.attr("class")||"",s.addClass&&(u+=" "+s.addClass),s.removeClass&&(u+=" "+s.removeClass));var nt=s.addClass,it=s.removeClass,w=e(u),y,p;return w.length&&("leave"==t?(d="leave",k="afterLeave"):(d="before"+t.charAt(0).toUpperCase()+t.substr(1),k=t),"enter"!==t&&"move"!==t&&(y=g(n,t,s,w,d)),p=g(n,t,s,w,k)),y||p?{$$willAnimate:!0,end:function(){return h?h.end():(v=!0,a(),l(n,s),h=new r,h.complete(!0)),h},start:function(){function u(t){v=!0;a();l(n,s);h.complete(t)}if(h)return h;h=new r;var i,t=[];return y&&t.push(function(n){i=y(n)}),t.length?t.push(function(n){a();n(!0)}):a(),p&&t.push(function(n){i=p(n)}),h.setHost({end:function(){v||((i||f)(void 0),u(void 0))},cancel:function(){v||((i||f)(!0),u(!0))}}),r.chain(t,u),h}}:void 0}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(n,t){function r(t){return n(t.element,t.event,t.classes,t.options)}return function(n){if(n.from&&n.to){var u=r(n.from),f=r(n.to);if(u||f)return{start:function(){function r(){return function(){i(n,function(n){n.end()})}}var n=[],e;return u&&n.push(u.start()),f&&n.push(f.start()),t.all(n,function(n){e.complete(n)}),e=new t({end:r(),cancel:r()})}}}else return r(n)}}]}])}(window,window.angular),function(n,t){"use strict";function f(){return["$animate",function(n){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(t,i,r,f,e){var h=i[0],c,a=r.ngMessage||r.when,s,o,l;r=r.ngMessageExp||r.whenExp;s=function(n){c=n?u(n)?n:n.split(/[\s,]+/):null;f.reRender()};r?(s(t.$eval(r)),t.$watchCollection(r,s)):s(a);f.register(h,l={test:function(n){var t=c;if(t)return u(t)?0<=t.indexOf(n):t.hasOwnProperty(n)},attach:function(){o||e(function(t,r){n.enter(t,null,i);o=t;var u=o.$$attachId=f.getAttachId();o.on("$destroy",function(){o&&o.$$attachId===u&&(f.deregister(h),l.detach());r.$destroy()})})},detach:function(){if(o){var t=o;o=null;n.leave(t)}}})}}}]}var i,u,r,e;t.module("ngMessages",[],function(){i=t.forEach;u=t.isArray;r=t.isString;e=t.element}).directive("ngMessages",["$animate",function(n){function t(n,t){return r(t)&&0===t.length||u(n.$eval(t))}function u(n){return r(n)?n.length:!!n}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,f,e){function l(n,t){for(var u,i=t,r=[];i&&i!==n;){if(u=i.$$ngMessageNode,u&&u.length)return s[u];i.childNodes.length&&-1===r.indexOf(i)?(r.push(i),i=i.childNodes[i.childNodes.length-1]):i.previousSibling?i=i.previousSibling:(i=i.parentNode,r.push(i))}}var o=this,a=0,v=0,s,h,c;this.getAttachId=function(){return v++};s=this.messages={};this.render=function(s){var a,v;s=s||{};h=!1;c=s;for(var k=t(f,e.ngMessagesMultiple)||t(f,e.multiple),y=[],p={},l=o.head,w=!1,b=0;null!=l;)b++,a=l.message,v=!1,w||i(s,function(n,t){!v&&u(n)&&a.test(t)&&!p[t]&&(v=p[t]=!0,a.attach())}),v?w=!k:y.push(a),l=l.next;i(y,function(n){n.detach()});y.length!==b?n.setClass(r,"ng-active","ng-inactive"):n.setClass(r,"ng-inactive","ng-active")};f.$watchCollection(e.ngMessages||e["for"],o.render);r.on("$destroy",function(){i(s,function(n){n.message.detach()})});this.reRender=function(){h||(h=!0,f.$evalAsync(function(){h&&c&&o.render(c)}))};this.register=function(n,t){var f=a.toString(),u,i;s[f]={message:t};u=r[0];i=s[f];o.head?(u=l(u,n))?(i.next=u.next,u.next=i):(i.next=o.head,o.head=i):o.head=i;n.$$ngMessageNode=f;a++;o.reRender()};this.deregister=function(n){var i=n.$$ngMessageNode,t;delete n.$$ngMessageNode;t=s[i];(n=l(r[0],n))?n.next=t.next:o.head=t.next;delete s[i];o.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(n,t,i){function u(n,r){var u=i.$$createComment?i.$$createComment("ngMessagesInclude",r):t[0].createComment(" ngMessagesInclude: "+r+" "),u=e(u);n.after(u);n.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,f,e){var o=e.ngMessagesInclude||e.src;n(o).then(function(n){t.$$destroyed||(r(n)&&!n.trim()?u(f,o):i(n)(t,function(n){f.after(n);u(f,o)}))})}}}]).directive("ngMessage",f()).directive("ngMessageExp",f())}(window,window.angular);
/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.5.0 - 2016-08-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(n,t){var f=t.isDefined,r=t.isUndefined,e=t.isNumber,i=t.isObject,o=t.isArray,s=t.extend,u=t.toJson;t.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls";this.storageType="localStorage";this.cookie={expiry:30,path:"/",secure:!1};this.defaultToCookie=!0;this.notify={setItem:!0,removeItem:!1};this.setPrefix=function(n){return this.prefix=n,this};this.setStorageType=function(n){return this.storageType=n,this};this.setDefaultToCookie=function(n){return this.defaultToCookie=!!n,this};this.setStorageCookie=function(n,t,i){return this.cookie.expiry=n,this.cookie.path=t,this.cookie.secure=i,this};this.setStorageCookieDomain=function(n){return this.cookie.domain=n,this};this.setNotify=function(n,t){return this.notify={setItem:n,removeItem:t},this};this.$get=["$rootScope","$window","$document","$parse","$timeout",function(n,t,h,c,l){function tt(i){if(i||(i=t.event),g.setItem&&at(i.key)){var r=et(i.key);l(function(){n.$broadcast("LocalStorageModule.notification.changed",{key:r,newvalue:i.newValue,storageType:a.storageType})})}}var p,a=this,v=a.prefix,d=a.cookie,g=a.notify,w=a.storageType,lt;h?h[0]&&(h=h[0]):h=document;"."!==v.substr(-1)&&(v=v?v+".":"");var b=function(n){return v+n},et=function(n){return n.replace(new RegExp("^"+v,"g"),"")},at=function(n){return 0===n.indexOf(v)},ot=function(){try{var i=w in t&&null!==t[w],r=b("__"+Math.round(1e7*Math.random()));return i&&(p=t[w],p.setItem(r,""),p.removeItem(r)),i}catch(u){return a.defaultToCookie&&(w="cookie"),n.$broadcast("LocalStorageModule.notification.error",u.message),!1}},y=ot(),rt=function(t,i,f){if(k(f),i=r(i)?null:u(i),!y&&a.defaultToCookie||"cookie"===a.storageType)return y||n.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&n.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:i,storageType:"cookie"}),nt(t,i);try{p&&p.setItem(b(t),i);g.setItem&&n.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:i,storageType:a.storageType})}catch(e){return n.$broadcast("LocalStorageModule.notification.error",e.message),nt(t,i)}return!0},st=function(t,i){if(k(i),!y&&a.defaultToCookie||"cookie"===a.storageType)return y||n.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),ct(t);var r=p?p.getItem(b(t)):null;if(!r||"null"===r)return null;try{return JSON.parse(r)}catch(u){return r}},ht=function(){var r=0,i,t;for(arguments.length>=1&&("localStorage"===arguments[arguments.length-1]||"sessionStorage"===arguments[arguments.length-1])&&(r=1,k(arguments[arguments.length-1])),i=0;i<arguments.length-r;i++)if(t=arguments[i],!y&&a.defaultToCookie||"cookie"===a.storageType)y||n.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&n.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:"cookie"}),it(t);else try{p.removeItem(b(t));g.removeItem&&n.$broadcast("LocalStorageModule.notification.removeitem",{key:t,storageType:a.storageType})}catch(u){n.$broadcast("LocalStorageModule.notification.error",u.message);it(t)}},vt=function(t){var i,r,u;if(k(t),!y)return n.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];i=v.length;r=[];for(u in p)if(u.substr(0,i)===v)try{r.push(u.substr(i))}catch(f){return n.$broadcast("LocalStorageModule.notification.error",f.Description),[]}return r},yt=function(t,i){var f,e,u,r;if(k(i),f=v?new RegExp("^"+v):new RegExp,e=t?new RegExp(t):new RegExp,!y&&a.defaultToCookie||"cookie"===a.storageType)return y||n.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),ft();if(!y&&!a.defaultToCookie)return!1;u=v.length;for(r in p)if(f.test(r)&&e.test(r.substr(u)))try{ht(r.substr(u))}catch(o){return n.$broadcast("LocalStorageModule.notification.error",o.message),ft()}return!0},ut=function(){try{return t.navigator.cookieEnabled||"cookie"in h&&(h.cookie.length>0||(h.cookie="test").indexOf.call(h.cookie,"test")>-1)}catch(i){return n.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),nt=function(t,f,s,c){var y;if(r(f))return!1;if((o(f)||i(f))&&(f=u(f)),!ut)return n.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var a="",l=new Date,v="";(null===f?(l.setTime(l.getTime()+-864e5),a="; expires="+l.toGMTString(),f=""):e(s)&&0!==s?(l.setTime(l.getTime()+864e5*s),a="; expires="+l.toGMTString()):0!==d.expiry&&(l.setTime(l.getTime()+864e5*d.expiry),a="; expires="+l.toGMTString()),t)&&(y="; path="+d.path,d.domain&&(v="; domain="+d.domain),"boolean"==typeof c?c===!0&&(v+="; secure"):d.secure===!0&&(v+="; secure"),h.cookie=b(t)+"="+encodeURIComponent(f)+a+y+v)}catch(p){return n.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},ct=function(t){var u,r,i,f;if(!ut)return n.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(u=h.cookie&&h.cookie.split(";")||[],r=0;r<u.length;r++){for(i=u[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(b(t)+"=")){f=decodeURIComponent(i.substring(v.length+t.length+1,i.length));try{return JSON.parse(f)}catch(e){return f}}}return null},it=function(n){nt(n,null)},ft=function(){for(var r,n=null,u=v.length,i=h.cookie.split(";"),t=0;t<i.length;t++){for(n=i[t];" "===n.charAt(0);)n=n.substring(1,n.length);r=n.substring(u,n.indexOf("="));it(r)}},pt=function(){return w},k=function(n){return n&&w!==n&&(w=n,y=ot()),y},wt=function(n,t,r,u,e){u=u||t;var o=st(u,e);return null===o&&f(r)?o=r:i(o)&&i(r)&&(o=s(o,r)),c(t).assign(n,o),n.$watch(t,function(n){rt(u,n,e)},i(n[t]))};return y&&(t.addEventListener?(t.addEventListener("storage",tt,!1),n.$on("$destroy",function(){t.removeEventListener("storage",tt)})):t.attachEvent&&(t.attachEvent("onstorage",tt),n.$on("$destroy",function(){t.detachEvent("onstorage",tt)}))),lt=function(n){k(n);for(var r=0,u=t[w],i=0;i<u.length;i++)0===u.key(i).indexOf(v)&&r++;return r},{isSupported:y,getStorageType:pt,setStorageType:k,set:rt,add:rt,get:st,keys:vt,remove:ht,clearAll:yt,bind:wt,deriveKey:b,underiveKey:et,length:lt,defaultToCookie:this.defaultToCookie,cookie:{isSupported:ut,set:nt,add:nt,get:ct,remove:it,clearAll:ft}}}]})}(window,window.angular),function(n,t,i){"use strict";function u(n,i){i=i||{};t.forEach(i,function(n,t){delete i[t]});for(var r in n)n.hasOwnProperty(r)&&("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(i[r]=n[r]);return i}var r=t.$$minErr("$resource"),f=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(n,e){function c(n,t){this.template=n;this.defaults=t||{};this.urlParams={}}function l(p,w,b){function d(n,t){var u={};return t=h({},w,t),o(t,function(t,e){var h,o,l;if(s(t)&&(t=t()),t&&t.charAt&&"@"==t.charAt(0)){if(h=n,o=t.substr(1),null==o||""===o||"hasOwnProperty"===o||!f.test("."+o))throw r("badmember",o);for(var o=o.split("."),c=0,a=o.length;c<a&&h!==i;c++)l=o[c],h=null!==h?h[l]:i}else h=t;u[e]=h}),u}function g(n){return n.resource}function k(n){u(n||{},this)}var nt=new c(p);return b=h({},v,b),o(b,function(f,c){var l=/^(POST|PUT|PATCH)$/i.test(f.method);k[c]=function(c,v,p,w){var tt={},it,rt,ut;switch(arguments.length){case 4:ut=w;rt=p;case 3:case 2:if(s(v)){if(s(c)){rt=c;ut=v;break}rt=v;ut=p}else{tt=c;it=v;rt=p;break}case 1:s(c)?rt=c:l?it=c:tt=c;break;case 0:break;default:throw r("badargs",arguments.length);}var et=this instanceof k,b=et?it:f.isArray?[]:new k(it),ft={},ot=f.interceptor&&f.interceptor.response||g,st=f.interceptor&&f.interceptor.responseError||i;return o(f,function(n,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(ft[t]=y(n))}),l&&(ft.data=it),nt.setUrlParams(ft,h({},d(it,f.params||{}),tt),f.url),tt=n(ft).then(function(n){var i=n.data,e=b.$promise;if(i){if(t.isArray(i)!==!!f.isArray)throw r("badcfg",f.isArray?"array":"object",t.isArray(i)?"array":"object");f.isArray?(b.length=0,o(i,function(n){b.push(new k(n))})):(u(i,b),b.$promise=e)}return b.$resolved=!0,n.resource=b,n},function(n){return b.$resolved=!0,(ut||a)(n),e.reject(n)}),tt=tt.then(function(n){var t=ot(n);return(rt||a)(t,n.headers),t},st),et?tt:(b.$promise=tt,b.$resolved=!1,b)};k.prototype["$"+c]=function(n,t,i){return s(n)&&(i=t,t=n,n={}),n=k[c].call(this,n,this,t,i),n.$promise||n}}),k.bind=function(n){return l(p,h({},w,n),b)},k}var v={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},a=t.noop,o=t.forEach,h=t.extend,y=t.copy,s=t.isFunction;return c.prototype={setUrlParams:function(n,i,u){var e=this,f=u||e.template,s,h,c=e.urlParams={};o(f.split(/\W/),function(n){if("hasOwnProperty"===n)throw r("badname");!/^\d+$/.test(n)&&n&&RegExp("(^|[^\\\\]):"+n+"(\\W|$)").test(f)&&(c[n]=!0)});f=f.replace(/\\:/g,":");i=i||{};o(e.urlParams,function(n,r){s=i.hasOwnProperty(r)?i[r]:e.defaults[r];t.isDefined(s)&&null!==s?(h=encodeURIComponent(s).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),f=f.replace(RegExp(":"+r+"(\\W|$)","g"),function(n,t){return h+t})):f=f.replace(RegExp("(/?):"+r+"(\\W|$)","g"),function(n,t,i){return"/"==i.charAt(0)?i:t+i})});f=f.replace(/\/+$/,"")||"/";f=f.replace(/\/\.(?=\w+($|\?))/,".");n.url=f.replace(/\/\\\./,"/.");o(i,function(t,i){e.urlParams[i]||(n.params=n.params||{},n.params[i]=t)})}},l}])}(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(n,t,i,r){var u=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,f,e){function v(){l=!!("horizontal"in e);l?(s={width:""},o={width:"0"}):(s={height:""},o={height:"0"});r.$eval(e.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(s)}function h(n){return l?{width:n.scrollWidth+"px"}:{height:n.scrollHeight+"px"}}function y(){f.hasClass("collapse")&&f.hasClass("in")||t.resolve(w(r)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1);u?u(f,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:h(f[0])}).start()["finally"](a):n.addClass(f,"in",{css:{overflow:"hidden"},to:h(f[0])}).then(a)})}function a(){f.removeClass("collapsing").addClass("collapse").css(s);b(r)}function p(){return f.hasClass("collapse")||f.hasClass("in")?void t.resolve(k(r)).then(function(){f.css(h(f[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0);u?u(f,{removeClass:"in",to:o}).start()["finally"](c):n.removeClass(f,"in",{to:o}).then(c)}):c()}function c(){f.css(o);f.removeClass("collapsing").addClass("collapse");d(r)}var w=i(e.expanding),b=i(e.expanded),k=i(e.collapsing),d=i(e.collapsed),l=!1,s={},o={};v();r.$watch(e.uibCollapse,function(n){n?p():y()})}}}]);angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(n,t,i){i.$observe("disabled",function(n){i.$set("tabindex",n?-1:null)})}}});angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(n,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){t.addClass("panel");r.addGroup(n);n.openClass=i.openClass||"panel-open";n.panelClass=i.panelClass||"panel-default";n.$watch("isOpen",function(i){t.toggleClass(n.openClass,!!i);i&&r.closeOthers(n)});n.toggleOpen=function(t){n.isDisabled||t&&32!==t.which||(n.isOpen=!n.isOpen)};var u="accordiongroup-"+n.$id+"-"+Math.floor(1e4*Math.random());n.headingId=u+"-tab";n.panelId=u+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,angular.noop))}}}).directive("uibAccordionTransclude",function(){function n(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,i,r,u){t.$watch(function(){return u[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(i[0].querySelector(n()));r.html("");r.append(t)}})}}});angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(n,t,i,r,u){n.closeable=!!i.close;t.addClass("alert");i.$set("role","alert");n.closeable&&t.addClass("alert-dismissible");var f=angular.isDefined(i.dismissOnTimeout)?r(i.dismissOnTimeout)(n.$parent):null;f&&u(function(){n.close()},parseInt(f,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(n,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}});angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(n){this.activeClass=n.activeClass||"active";this.toggleEvent=n.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(n){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,i,r,u){var e=u[0],f=u[1],o=n(r.uibUncheckable);i.find("input").css({display:"none"});f.$render=function(){i.toggleClass(e.activeClass,angular.equals(f.$modelValue,t.$eval(r.uibBtnRadio)))};i.on(e.toggleEvent,function(){if(!r.disabled){var n=i.hasClass(e.activeClass);n&&!angular.isDefined(r.uncheckable)||t.$apply(function(){f.$setViewValue(n?null:t.$eval(r.uibBtnRadio));f.$render()})}});r.uibUncheckable&&t.$watch(o,function(n){r.$set("uncheckable",n?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){return angular.isDefined(t)?n.$eval(t):i}var f=r[0],u=r[1];t.find("input").css({display:"none"});u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.on(f.toggleEvent,function(){i.disabled||n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(n,t,i,r,u){function a(){for(;s.length;)s.shift()}function h(n){for(var t=0;t<f.length;t++)f[t].slide.active=t===n}function w(i,r,c){if(!k){if(angular.extend(i,{direction:c}),angular.extend(f[o].slide||{},{direction:c}),u.enabled(t)&&!n.$currentTransition&&f[r].element&&e.slides.length>1){f[r].element.data(b,i.direction);var l=e.getCurrentIndex();angular.isNumber(l)&&f[l].element&&f[l].element.data(b,i.direction);n.$currentTransition=!0;u.on("addClass",f[r].element,function(t,i){if("close"===i&&(n.$currentTransition=null,u.off("addClass",t),s.length)){var r=s.pop().slide,f=r.index,o=f>e.getCurrentIndex()?"next":"prev";a();w(r,f,o)}})}n.active=i.index;o=i.index;h(r);p()}}function v(n){for(var t=0;t<f.length;t++)if(f[t].slide===n)return t}function y(){c&&(i.cancel(c),c=null)}function d(t){t.length||(n.$currentTransition=null,a())}function p(){y();var t=+n.interval;!isNaN(t)&&t>0&&(c=i(g,t))}function g(){var t=+n.interval;l&&!isNaN(t)&&t>0&&f.length?n.next():n.pause()}var c,l,e=this,f=e.slides=n.slides=[],b="uib-slideDirection",o=n.active,s=[],k=!1;t.addClass("carousel");e.addSlide=function(t,i){f.push({slide:t,element:i});f.sort(function(n,t){return+n.slide.index-+t.slide.index});(t.index===n.active||1===f.length&&!angular.isNumber(n.active))&&(n.$currentTransition&&(n.$currentTransition=null),o=t.index,n.active=t.index,h(o),e.select(f[v(t)]),1===f.length&&n.play())};e.getCurrentIndex=function(){for(var n=0;n<f.length;n++)if(f[n].slide.index===o)return n};e.next=n.next=function(){var t=(e.getCurrentIndex()+1)%f.length;return 0===t&&n.noWrap()?void n.pause():e.select(f[t],"next")};e.prev=n.prev=function(){var t=e.getCurrentIndex()-1<0?f.length-1:e.getCurrentIndex()-1;return n.noWrap()&&t===f.length-1?void n.pause():e.select(f[t],"prev")};e.removeSlide=function(t){var i=v(t),r=s.indexOf(f[i]);-1!==r&&s.splice(r,1);f.splice(i,1);f.length>0&&o===i?i>=f.length?(o=f.length-1,n.active=o,h(o),e.select(f[f.length-1])):(o=i,n.active=o,h(o),e.select(f[i])):o>i&&(o--,n.active=o);0===f.length&&(o=null,n.active=null,a())};e.select=n.select=function(t,i){var r=v(t.slide);void 0===i&&(i=r>e.getCurrentIndex()?"next":"prev");t.slide.index===o||n.$currentTransition?t&&t.slide.index!==o&&n.$currentTransition&&s.push(f[r]):w(t.slide,r,i)};n.indexOfSlide=function(n){return+n.slide.index};n.isActive=function(t){return n.active===t.slide.index};n.isPrevDisabled=function(){return 0===n.active&&n.noWrap()};n.isNextDisabled=function(){return n.active===f.length-1&&n.noWrap()};n.pause=function(){n.noPause||(l=!1,y())};n.play=function(){l||(l=!0,p())};t.on("mouseenter",n.pause);t.on("mouseleave",n.play);n.$on("$destroy",function(){k=!0;y()});n.$watch("noTransition",function(n){u.enabled(t,!n)});n.$watch("interval",p);n.$watchCollection("slides",d);n.$watch("active",function(n){var t,i;if(angular.isNumber(n)&&o!==n){for(t=0;t<f.length;t++)if(f[t].slide.index===n){n=t;break}i=f[n];i&&(h(n),e.select(f[n]),o=n)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(n,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(n){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,i,r,u){i.addClass("item");u.addSlide(t,i);t.$on("$destroy",function(){u.removeSlide(t)});t.$watch("active",function(t){n[t?"addClass":"removeClass"](i,"active")})}}}]).animation(".item",["$animateCss",function(n){function t(n,t,i){n.removeClass(t);i&&i()}var i="uib-slideDirection";return{beforeAddClass:function(r,u,f){if("active"===u){var s=!1,e=r.data(i),o="next"===e?"left":"right",h=t.bind(this,r,o+" "+e,f);return r.addClass(e),n(r,{addClass:o}).start().done(h),function(){s=!0}}f()},beforeRemoveClass:function(r,u,f){if("active"===u){var o=!1,s=r.data(i),e="next"===s?"left":"right",h=t.bind(this,r,e,f);return n(r,{addClass:e}).start().done(h),function(){o=!0}}f()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(n,t,i,r){function l(n){var e=[],i=n.split(""),o=n.indexOf("'"),f,t;if(o>-1){for(f=!1,n=n.split(""),t=o;t<n.length;t++)f?("'"===n[t]&&(t+1<n.length&&"'"===n[t+1]?(n[t+1]="$",i[t+1]=""):(i[t]="",f=!1)),n[t]="$"):"'"===n[t]&&(n[t]="$",i[t]="",f=!0);n=n.join("")}return angular.forEach(u,function(t){var r=n.indexOf(t.key),u,f;if(r>-1){for(n=n.split(""),i[r]="("+t.regex+")",n[r]="$",u=r+1,f=r+t.key.length;f>u;u++)i[u]="",n[u]="$";n=n.join("");e.push({index:r,key:t.key,apply:t.apply,matcher:t.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:r(e,"index")}}function a(n){for(var r,i,u=[],t=0;t<n.length;)if(angular.isNumber(i)){if("'"===n.charAt(t))(t+1>=n.length||"'"!==n.charAt(t+1))&&(u.push(v(n,i,t)),i=null);else if(t===n.length)for(;i<n.length;)r=o(n,i),u.push(r),i=r.endIdx;t++}else"'"!==n.charAt(t)?(r=o(n,t),u.push(r.parser),t=r.endIdx):(i=t,t++);return u}function v(n,t,i){return function(){return n.substr(t+1,i-t-1)}}function o(n,t){for(var f,r=n.substr(t),i=0;i<u.length;i++)if(new RegExp("^"+u[i].key).test(r))return f=u[i],{endIdx:t+f.key.length,parser:f.formatter};return{endIdx:t+1,parser:function(){return r.charAt(0)}}}function y(n,t,i){return 1>i?!1:1===t&&i>28?29===i&&(n%4==0&&n%100!=0||n%400==0):3===t||5===t||8===t||10===t?31>i:!0}function s(n){return parseInt(n,10)}function p(n,t){return n&&t?f(n,t):n}function w(n,t){return n&&t?f(n,t,!0):n}function h(n,t){n=n.replace(/:/g,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(i)?t:i}function c(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function f(n,t,i){i=i?-1:1;var r=n.getTimezoneOffset(),u=h(t,r);return c(n,i*(u-r))}var e,u,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){e=t.id;this.parsers={};this.formatters={};u=[{key:"yyyy",regex:"\\d{4}",apply:function(n){this.year=+n},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(n){n=+n;this.year=69>n?n+2e3:n+1900},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(n){this.year=+n},formatter:function(n){var t=new Date;return t.setFullYear(Math.abs(n.getFullYear())),i(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){var t=n.getMonth();return/^[0-9]$/.test(t)?i(n,"MM"):i(n,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(n){this.month=t.DATETIME_FORMATS.MONTH.indexOf(n)},formatter:function(n){return i(n,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(n){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(n)},formatter:function(n){return i(n,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){return i(n,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1},formatter:function(n){return i(n,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){var t=n.getDate();return/^[1-9]$/.test(t)?i(n,"dd"):i(n,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){return i(n,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n},formatter:function(n){return i(n,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(n){return i(n,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(n){return i(n,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(n){this.hours=+n},formatter:function(n){return i(n,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(n){this.minutes=+n},formatter:function(n){return i(n,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(n){this.minutes=+n},formatter:function(n){return i(n,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(n){this.milliseconds=+n},formatter:function(n){return i(n,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(n){this.seconds=+n},formatter:function(n){return i(n,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(n){this.seconds=+n},formatter:function(n){return i(n,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(n){12===this.hours&&(this.hours=0);"PM"===n&&(this.hours+=12)},formatter:function(n){return i(n,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(n){var t=n.match(/([+-])(\d{2})(\d{2})/),i=t[1],r=t[2],u=t[3];this.hours+=s(i+r);this.minutes+=s(i+u)},formatter:function(n){return i(n,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(n){return i(n,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(n){return i(n,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(n){return i(n,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(n){return i(n,"G")}}]};this.init();this.filter=function(n,i){if(!angular.isDate(n)||isNaN(n)||!i)return"";i=t.DATETIME_FORMATS[i]||i;t.id!==e&&this.init();this.formatters[i]||(this.formatters[i]=a(i));var r=this.formatters[i];return r.reduce(function(t,i){return t+i(n)},"")};this.parse=function(i,r,u){var f,o,s,k,a,v,p;if(!angular.isString(i)||!r)return i;r=t.DATETIME_FORMATS[r]||r;r=r.replace(b,"\\$&");t.id!==e&&this.init();this.parsers[r]||(this.parsers[r]=l(r,"apply"));var w=this.parsers[r],d=w.regex,g=w.map,h=i.match(d),c=!1;if(h&&h.length){for(angular.isDate(u)&&!isNaN(u.getTime())?f={year:u.getFullYear(),month:u.getMonth(),date:u.getDate(),hours:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),milliseconds:u.getMilliseconds()}:(u&&n.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),s=1,k=h.length;k>s;s++)a=g[s-1],"Z"===a.matcher&&(c=!0),a.apply&&a.apply.call(f,h[s]);return v=c?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,p=c?Date.prototype.setUTCHours:Date.prototype.setHours,y(f.year,f.month,f.date)&&(!angular.isDate(u)||isNaN(u.getTime())||c?(o=new Date(0),v.call(o,f.year,f.month,f.date),p.call(o,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(o=new Date(u),v.call(o,f.year,f.month,f.date),p.call(o,f.hours,f.minutes,f.seconds,f.milliseconds))),o}};this.toTimezone=p;this.fromTimezone=w;this.timezoneToOffset=h;this.addDateMinutes=c;this.convertTimezoneToLocal=f}]);angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(n){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,i=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,u){function h(n,t){f.push(n);o.push({scope:n,element:t});y.forEach(function(t){c(t,n)});n.$on("$destroy",l)}function c(t,r){var h=t.match(i),c=r.$eval(h[1]),f=h[2],u=e[t],s;u||(s=function(t){var i=null;o.some(function(n){var r=n.scope.$eval(a);if(r===t)return(i=n,!0)});u.lastActivated!==i&&(u.lastActivated&&n.removeClass(u.lastActivated.element,c),i&&n.addClass(i.element,c),u.lastActivated=i)},e[t]=u={lastActivated:null,scope:r,watchFn:s,compareWithExp:f,watcher:r.$watch(f,s)});u.watchFn(r.$eval(f))}function l(n){var i=n.targetScope,r=f.indexOf(i),t;(f.splice(r,1),o.splice(r,1),f.length)?(t=f[0],angular.forEach(e,function(n){n.scope===i&&(n.watcher=t.$watch(n.compareWithExp,n.watchFn),n.scope=t)})):e={}}var f=[],o=[],e={},s=u.uibIsClass.match(t),a=s[2],v=s[1],y=v.split(",");return h}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(n,t,i,r,u,f,e,o,s,h,c,l){function w(t){n.datepickerMode=t;n.datepickerOptions.datepickerMode=t}var a=this,v={$setViewValue:angular.noop},y={},p=[],b;t.addClass("uib-datepicker");i.$set("role","application");n.datepickerOptions||(n.datepickerOptions={});this.modes=["day","month","year"];["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":n[t]=n.datepickerOptions[t]||angular.noop;break;case"datepickerMode":n.datepickerMode=angular.isDefined(n.datepickerOptions.datepickerMode)?n.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":a[t]=angular.isDefined(n.datepickerOptions[t])?u(n.datepickerOptions[t])(n.$parent):s[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":a[t]=angular.isDefined(n.datepickerOptions[t])?n.datepickerOptions[t]:s[t];break;case"startingDay":a.startingDay=angular.isDefined(n.datepickerOptions.startingDay)?n.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?s.startingDay:(f.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":n.$watch("datepickerOptions."+t,function(n){n?angular.isDate(n)?a[t]=l.fromTimezone(new Date(n),y.timezone):(h&&e.warn("Literal date support has been deprecated, please switch to date object usage"),a[t]=new Date(o(n,"medium"))):a[t]=s[t]?l.fromTimezone(new Date(s[t]),y.timezone):null;a.refreshView()});break;case"maxMode":case"minMode":n.datepickerOptions[t]?n.$watch(function(){return n.datepickerOptions[t]},function(i){a[t]=n[t]=angular.isDefined(i)?i:n.datepickerOptions[t];("minMode"===t&&a.modes.indexOf(n.datepickerOptions.datepickerMode)<a.modes.indexOf(a[t])||"maxMode"===t&&a.modes.indexOf(n.datepickerOptions.datepickerMode)>a.modes.indexOf(a[t]))&&(n.datepickerMode=a[t],n.datepickerOptions.datepickerMode=a[t])}):a[t]=n[t]=s[t]||null}});n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random());n.disabled=angular.isDefined(i.disabled)||!1;angular.isDefined(i.ngDisabled)&&p.push(n.$parent.$watch(i.ngDisabled,function(t){n.disabled=t;a.refreshView()}));n.isActive=function(t){return 0===a.compare(t.date,a.activeDate)?(n.activeDateId=t.uid,!0):!1};this.init=function(t){v=t;y=t.$options||n.datepickerOptions.ngModelOptions||s.ngModelOptions;n.datepickerOptions.initDate?(a.activeDate=l.fromTimezone(n.datepickerOptions.initDate,y.timezone)||new Date,n.$watch("datepickerOptions.initDate",function(n){n&&(v.$isEmpty(v.$modelValue)||v.$invalid)&&(a.activeDate=l.fromTimezone(n,y.timezone),a.refreshView())})):a.activeDate=new Date;var i=v.$modelValue?new Date(v.$modelValue):new Date;this.activeDate=isNaN(i)?l.fromTimezone(new Date,y.timezone):l.fromTimezone(i,y.timezone);v.$render=function(){a.render()}};this.render=function(){if(v.$viewValue){var n=new Date(v.$viewValue),t=!isNaN(n);t?this.activeDate=l.fromTimezone(n,y.timezone):c||e.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()};this.refreshView=function(){if(this.element){n.selectedDt=null;this._refreshView();n.activeDt&&(n.activeDateId=n.activeDt.uid);var t=v.$viewValue?new Date(v.$viewValue):null;t=l.fromTimezone(t,y.timezone);v.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}};this.createDateObject=function(t,i){var r=v.$viewValue?new Date(v.$viewValue):null,f,e,u;return r=l.fromTimezone(r,y.timezone),f=new Date,f=l.fromTimezone(f,y.timezone),e=this.compare(t,f),u={date:t,label:l.filter(t,i),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:0>e,current:0===e,future:e>0,customClass:this.customClass(t)||null},r&&0===this.compare(t,r)&&(n.selectedDt=u),a.activeDate&&0===this.compare(u.date,a.activeDate)&&(n.activeDt=u),u};this.isDisabled=function(t){return n.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||n.dateDisabled&&n.dateDisabled({date:t,mode:n.datepickerMode})};this.customClass=function(t){return n.customClass({date:t,mode:n.datepickerMode})};this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i};n.select=function(t){if(n.datepickerMode===a.minMode){var i=v.$viewValue?l.fromTimezone(new Date(v.$viewValue),y.timezone):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());i=l.toTimezone(i,y.timezone);v.$setViewValue(i);v.$render()}else a.activeDate=t,w(a.modes[a.modes.indexOf(n.datepickerMode)-1]),n.$emit("uib:datepicker.mode");n.$broadcast("uib:datepicker.focus")};n.move=function(n){var t=a.activeDate.getFullYear()+n*(a.step.years||0),i=a.activeDate.getMonth()+n*(a.step.months||0);a.activeDate.setFullYear(t,i,1);a.refreshView()};n.toggleMode=function(t){t=t||1;n.datepickerMode===a.maxMode&&1===t||n.datepickerMode===a.minMode&&-1===t||(w(a.modes[a.modes.indexOf(n.datepickerMode)+t]),n.$emit("uib:datepicker.mode"))};n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};b=function(){a.element[0].focus()};n.$on("uib:datepicker.focus",b);n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey&&!n.disabled)if(t.preventDefault(),a.shortcutPropagation||t.stopPropagation(),"enter"===i||"space"===i){if(a.isDisabled(a.activeDate))return;n.select(a.activeDate)}else!t.ctrlKey||"up"!==i&&"down"!==i?(a.handleKeyDown(i,t),a.refreshView()):n.toggleMode("up"===i?1:-1)};t.on("keydown",function(t){n.$apply(function(){n.keydown(t)})});n.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(n,t,i){function r(n,t){return 1!==t||n%4!=0||n%100==0&&n%400!=0?f[t]:29}function u(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=t;this.init=function(t){angular.extend(t,this);n.showWeeks=t.showWeeks;t.refreshView()};this.getDates=function(n,t){for(var r,u=new Array(t),i=new Date(n),f=0;t>f;)r=new Date(i),u[f++]=r,i.setDate(i.getDate()+1);return u};this._refreshView=function(){var a=this.activeDate.getFullYear(),h=this.activeDate.getMonth(),e=new Date(this.activeDate),t,r,f;e.setFullYear(a,h,1);var o=this.startingDay-e.getDay(),c=o>0?7-o:-o,l=new Date(e);for(c>0&&l.setDate(-c+1),t=this.getDates(l,42),r=0;42>r;r++)t[r]=angular.extend(this.createDateObject(t[r],this.formatDay),{secondary:t[r].getMonth()!==h,uid:n.uniqueId+"-"+r});for(n.labels=new Array(7),f=0;7>f;f++)n.labels[f]={abbr:i(t[f].date,this.formatDayHeader),full:i(t[f].date,"EEEE")};if(n.title=i(this.activeDate,this.formatDayTitle),n.rows=this.split(t,7),n.showWeeks){n.weekNumbers=[];for(var v=(11-this.startingDay)%7,y=n.rows.length,s=0;y>s;s++)n.weekNumbers.push(u(n.rows[s][v].date))}};this.compare=function(n,t){var i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return i.setFullYear(n.getFullYear()),r.setFullYear(t.getFullYear()),i-r};this.handleKeyDown=function(n){var t=this.activeDate.getDate(),i;"left"===n?t-=1:"up"===n?t-=7:"right"===n?t+=1:"down"===n?t+=7:"pageup"===n||"pagedown"===n?(i=this.activeDate.getMonth()+("pageup"===n?-1:1),this.activeDate.setMonth(i,1),t=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),t)):"home"===n?t=1:"end"===n&&(t=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(t)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(n,t,i){this.step={years:1};this.element=t;this.init=function(n){angular.extend(n,this);n.refreshView()};this._refreshView=function(){for(var r,u=new Array(12),f=this.activeDate.getFullYear(),t=0;12>t;t++)r=new Date(this.activeDate),r.setFullYear(f,t,1),u[t]=angular.extend(this.createDateObject(r,this.formatMonth),{uid:n.uniqueId+"-"+t});n.title=i(this.activeDate,this.formatMonthTitle);n.rows=this.split(u,this.monthColumns);n.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1};this.compare=function(n,t){var i=new Date(n.getFullYear(),n.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return i.setFullYear(n.getFullYear()),r.setFullYear(t.getFullYear()),i-r};this.handleKeyDown=function(n){var t=this.activeDate.getMonth(),i;"left"===n?t-=1:"up"===n?t-=this.monthColumns:"right"===n?t+=1:"down"===n?t+=this.monthColumns:"pageup"===n||"pagedown"===n?(i=this.activeDate.getFullYear()+("pageup"===n?-1:1),this.activeDate.setFullYear(i)):"home"===n?t=0:"end"===n&&(t=11);this.activeDate.setMonth(t)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(n,t){function u(n){return parseInt((n-1)/i,10)*i+1}var r,i;this.element=t;this.yearpickerInit=function(){r=this.yearColumns;i=this.yearRows*r;this.step={years:i}};this._refreshView=function(){for(var e,f=new Array(i),t=0,o=u(this.activeDate.getFullYear());i>t;t++)e=new Date(this.activeDate),e.setFullYear(o+t,0,1),f[t]=angular.extend(this.createDateObject(e,this.formatYear),{uid:n.uniqueId+"-"+t});n.title=[f[0].label,f[i-1].label].join(" - ");n.rows=this.split(f,r);n.columns=r};this.compare=function(n,t){return n.getFullYear()-t.getFullYear()};this.handleKeyDown=function(n){var t=this.activeDate.getFullYear();"left"===n?t-=1:"up"===n?t-=r:"right"===n?t+=1:"down"===n?t+=r:"pageup"===n||"pagedown"===n?t+=("pageup"===n?-1:1)*i:"home"===n?t=u(this.activeDate.getFullYear()):"end"===n&&(t=u(this.activeDate.getFullYear())+i-1);this.activeDate.setFullYear(t)}}]).directive("uibDatepicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}}).directive("uibDaypicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(n,t,i,r){var u=r[0],f=r[1];f.init(u)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(n,t,i,r){var u=r[0],f=r[1];f.init(u)}}}).directive("uibYearpicker",function(){return{templateUrl:function(n,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(n,t,i,r){var u=r[0];angular.extend(u,r[1]);u.yearpickerInit();u.refreshView()}}});angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(n,t){var r,u,f={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},i={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},e=/(HTML|BODY)/;return{getRawNode:function(n){return n.nodeName?n:n[0]||n},parseStyle:function(n){return n=parseFloat(n),isFinite(n)?n:0},offsetParent:function(i){function u(n){return"static"===(t.getComputedStyle(n).position||"static")}i=this.getRawNode(i);for(var r=i.offsetParent||n[0].documentElement;r&&r!==n[0].documentElement&&u(r);)r=r.offsetParent;return r||n[0].documentElement},scrollbarWidth:function(i){var e,f;return i?(angular.isUndefined(u)&&(e=n.find("body"),e.addClass("uib-position-body-scrollbar-measure"),u=t.innerWidth-e[0].clientWidth,u=isFinite(u)?u:0,e.removeClass("uib-position-body-scrollbar-measure")),u):(angular.isUndefined(r)&&(f=angular.element('<div class="uib-position-scrollbar-measure"><\/div>'),n.find("body").append(f),r=f[0].offsetWidth-f[0].clientWidth,r=isFinite(r)?r:0,f.remove()),r)},scrollbarPadding:function(n){n=this.getRawNode(n);var u=t.getComputedStyle(n),f=this.parseStyle(u.paddingRight),o=this.parseStyle(u.paddingBottom),i=this.scrollParent(n,!1,!0),r=this.scrollbarWidth(e.test(i.tagName));return{scrollbarWidth:r,widthOverflow:i.scrollWidth>i.clientWidth,right:f+r,originalRight:f,heightOverflow:i.scrollHeight>i.clientHeight,bottom:o+r,originalBottom:o}},isScrollable:function(n,i){n=this.getRawNode(n);var u=i?f.hidden:f.normal,r=t.getComputedStyle(n);return u.test(r.overflow+r.overflowY+r.overflowX)},scrollParent:function(i,r,u){var c,e,s;i=this.getRawNode(i);var l=r?f.hidden:f.normal,h=n[0].documentElement,o=t.getComputedStyle(i);if(u&&l.test(o.overflow+o.overflowY+o.overflowX))return i;if(c="absolute"===o.position,e=i.parentElement||h,e===h||"fixed"===o.position)return h;for(;e.parentElement&&e!==h;){if(s=t.getComputedStyle(e),c&&"static"!==s.position&&(c=!1),!c&&l.test(s.overflow+s.overflowY+s.overflowX))break;e=e.parentElement}return e},position:function(i,r){var u,o,f,e;return i=this.getRawNode(i),u=this.offset(i),r&&(o=t.getComputedStyle(i),u.top-=this.parseStyle(o.marginTop),u.left-=this.parseStyle(o.marginLeft)),f=this.offsetParent(i),e={top:0,left:0},f!==n[0].documentElement&&(e=this.offset(f),e.top+=f.clientTop-f.scrollTop,e.left+=f.clientLeft-f.scrollLeft),{width:Math.round(angular.isNumber(u.width)?u.width:i.offsetWidth),height:Math.round(angular.isNumber(u.height)?u.height:i.offsetHeight),top:Math.round(u.top-e.top),left:Math.round(u.left-e.left)}},offset:function(i){i=this.getRawNode(i);var r=i.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:i.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:i.offsetHeight),top:Math.round(r.top+(t.pageYOffset||n[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||n[0].documentElement.scrollLeft))}},viewportOffset:function(i,r,u){var o;i=this.getRawNode(i);u=u!==!1;var s=i.getBoundingClientRect(),f={top:0,left:0,bottom:0,right:0},e=r?n[0].documentElement:this.scrollParent(i),h=e.getBoundingClientRect();return(f.top=h.top+e.clientTop,f.left=h.left+e.clientLeft,e===n[0].documentElement&&(f.top+=t.pageYOffset,f.left+=t.pageXOffset),f.bottom=f.top+e.clientHeight,f.right=f.left+e.clientWidth,u)&&(o=t.getComputedStyle(e),f.top+=this.parseStyle(o.paddingTop),f.bottom-=this.parseStyle(o.paddingBottom),f.left+=this.parseStyle(o.paddingLeft),f.right-=this.parseStyle(o.paddingRight)),{top:Math.round(s.top-f.top),bottom:Math.round(f.bottom-s.bottom),left:Math.round(s.left-f.left),right:Math.round(f.right-s.right)}},parsePlacement:function(n){var t=i.auto.test(n);return t&&(n=n.replace(i.auto,"")),n=n.split("-"),n[0]=n[0]||"top",i.primary.test(n[0])||(n[0]="top"),n[1]=n[1]||"center",i.secondary.test(n[1])||(n[1]="center"),n[2]=t?!0:!1,n},positionElements:function(n,r,u,f){var c,l,e,h,v,y;if(n=this.getRawNode(n),r=this.getRawNode(r),c=angular.isDefined(r.offsetWidth)?r.offsetWidth:r.prop("offsetWidth"),l=angular.isDefined(r.offsetHeight)?r.offsetHeight:r.prop("offsetHeight"),u=this.parsePlacement(u),e=f?this.offset(n):this.position(n),h={top:0,left:0,placement:""},u[2]){var o=this.viewportOffset(n,f),a=t.getComputedStyle(r),s={width:c+Math.round(Math.abs(this.parseStyle(a.marginLeft)+this.parseStyle(a.marginRight))),height:l+Math.round(Math.abs(this.parseStyle(a.marginTop)+this.parseStyle(a.marginBottom)))};(u[0]="top"===u[0]&&s.height>o.top&&s.height<=o.bottom?"bottom":"bottom"===u[0]&&s.height>o.bottom&&s.height<=o.top?"top":"left"===u[0]&&s.width>o.left&&s.width<=o.right?"right":"right"===u[0]&&s.width>o.right&&s.width<=o.left?"left":u[0],u[1]="top"===u[1]&&s.height-e.height>o.bottom&&s.height-e.height<=o.top?"bottom":"bottom"===u[1]&&s.height-e.height>o.top&&s.height-e.height<=o.bottom?"top":"left"===u[1]&&s.width-e.width>o.right&&s.width-e.width<=o.left?"right":"right"===u[1]&&s.width-e.width>o.left&&s.width-e.width<=o.right?"left":u[1],"center"===u[1])&&(i.vertical.test(u[0])?(v=e.width/2-c/2,o.left+v<0&&s.width-e.width<=o.right?u[1]="left":o.right+v<0&&s.width-e.width<=o.left&&(u[1]="right")):(y=e.height/2-s.height/2,o.top+y<0&&s.height-e.height<=o.bottom?u[1]="top":o.bottom+y<0&&s.height-e.height<=o.top&&(u[1]="bottom")))}switch(u[0]){case"top":h.top=e.top-l;break;case"bottom":h.top=e.top+e.height;break;case"left":h.left=e.left-c;break;case"right":h.left=e.left+e.width}switch(u[1]){case"top":h.top=e.top;break;case"bottom":h.top=e.top+e.height-l;break;case"left":h.left=e.left;break;case"right":h.left=e.left+e.width-c;break;case"center":i.vertical.test(u[0])?h.left=e.left+e.width/2-c/2:h.top=e.top+e.height/2-l/2}return h.top=Math.round(h.top),h.left=Math.round(h.left),h.placement="center"===u[1]?u[0]:u[0]+"-"+u[1],h},adjustTop:function(n,t,i,r){if(-1!==n.indexOf("top")&&i!==r)return{top:t.top-r+"px"}},positionArrow:function(n,r){var o,f,e,u,c;if(n=this.getRawNode(n),o=n.querySelector(".tooltip-inner, .popover-inner"),o&&(f=angular.element(o).hasClass("tooltip-inner"),e=f?n.querySelector(".tooltip-arrow"):n.querySelector(".arrow"),e)){if(u={top:"",bottom:"",left:"",right:""},r=this.parsePlacement(r),"center"===r[1])return void angular.element(e).css(u);var l="border-"+r[0]+"-width",s=t.getComputedStyle(e)[l],h="border-";h+=i.vertical.test(r[0])?r[0]+"-"+r[1]:r[1]+"-"+r[0];h+="-radius";c=t.getComputedStyle(f?o:n)[h];switch(r[0]){case"top":u.bottom=f?"0":"-"+s;break;case"bottom":u.top=f?"0":"-"+s;break;case"left":u.right=f?"0":"-"+s;break;case"right":u.left=f?"0":"-"+s}u[r[1]]=c;angular.element(e).css(u)}}}}]);angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function ut(t){var i=l.parse(t,b,n.date),r;if(isNaN(i))for(r=0;r<ot.length;r++)if(i=l.parse(t,ot[r],n.date),!isNaN(i))return i;return i}function yt(n){if(angular.isNumber(n)&&(n=new Date(n)),!n)return null;if(angular.isDate(n)&&!isNaN(n))return n;if(angular.isString(n)){var t=ut(n);if(!isNaN(t))return l.fromTimezone(t,g.timezone)}if(w.$options&&w.$options.allowInvalid)return n}function pt(n,t){var r=n||t;return i.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?!isNaN(ut(r)):!1:!0):!0}function ft(i){if(n.isOpen||!n.disabled){var r=nt[0],u=t[0].contains(i.target),f=void 0!==r.contains&&r.contains(i.target);!n.isOpen||u||f||n.$apply(function(){n.isOpen=!1})}}function ht(i){27===i.which&&n.isOpen?(i.preventDefault(),i.stopPropagation(),n.$apply(function(){n.isOpen=!1}),t[0].focus()):40!==i.which||n.isOpen||(i.preventDefault(),i.stopPropagation(),n.$apply(function(){n.isOpen=!0}))}function d(){if(n.isOpen){var r=angular.element(nt[0].querySelector(".uib-datepicker-popup")),f=i.popupPlacement?i.popupPlacement:a.placement,u=h.positionElements(t,r,f,it);r.css({top:u.top+"px",left:u.left+"px"});r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}var b,ct,it,lt,at,vt,tt,et,k,w,g,nt,ot,rt=!1,st=[];this.init=function(u){if(w=u,g=angular.isObject(u.$options)?u.$options:{timezone:null},ct=angular.isDefined(i.closeOnDateSelection)?n.$parent.$eval(i.closeOnDateSelection):a.closeOnDateSelection,it=angular.isDefined(i.datepickerAppendToBody)?n.$parent.$eval(i.datepickerAppendToBody):a.appendToBody,lt=angular.isDefined(i.onOpenFocus)?n.$parent.$eval(i.onOpenFocus):a.onOpenFocus,at=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:a.datepickerPopupTemplateUrl,vt=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:a.datepickerTemplateUrl,ot=angular.isDefined(i.altInputFormats)?n.$parent.$eval(i.altInputFormats):a.altInputFormats,n.showButtonBar=angular.isDefined(i.showButtonBar)?n.$parent.$eval(i.showButtonBar):a.showButtonBar,a.html5Types[i.type]?(b=a.html5Types[i.type],rt=!0):(b=i.uibDatepickerPopup||a.datepickerPopup,i.$observe("uibDatepickerPopup",function(n){var t=n||a.datepickerPopup;if(t!==b&&(b=t,w.$modelValue=null,!b))throw new Error("uibDatepickerPopup must have a date format specified.");})),!b)throw new Error("uibDatepickerPopup must have a date format specified.");if(rt&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");tt=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker><\/div><\/div>");tt.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":at});et=angular.element(tt.children()[0]);et.attr("template-url",vt);n.datepickerOptions||(n.datepickerOptions={});rt&&"month"===i.type&&(n.datepickerOptions.datepickerMode="month",n.datepickerOptions.minMode="month");et.attr("datepicker-options","datepickerOptions");rt?w.$formatters.push(function(t){return n.date=l.fromTimezone(t,g.timezone),t}):(w.$$parserName="date",w.$validators.date=pt,w.$parsers.unshift(yt),w.$formatters.push(function(t){return w.$isEmpty(t)?(n.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),n.date=l.fromTimezone(t,g.timezone),l.filter(n.date,b))}));w.$viewChangeListeners.push(function(){n.date=ut(w.$viewValue)});t.on("keydown",ht);nt=r(tt)(n);tt.remove();it?o.find("body").append(nt):t.after(nt);n.$on("$destroy",function(){for(n.isOpen===!0&&(s.$$phase||n.$apply(function(){n.isOpen=!1})),nt.remove(),t.off("keydown",ht),o.off("click",ft),k&&k.off("scroll",d),angular.element(e).off("resize",d);st.length;)st.shift()()})};n.getText=function(t){return n[t+"Text"]||a[t+"Text"]};n.isDisabled=function(t){"today"===t&&(t=l.fromTimezone(new Date,g.timezone));var i={};return angular.forEach(["minDate","maxDate"],function(t){n.datepickerOptions[t]?angular.isDate(n.datepickerOptions[t])?i[t]=new Date(n.datepickerOptions[t]):(p&&u.warn("Literal date support has been deprecated, please switch to date object usage"),i[t]=new Date(c(n.datepickerOptions[t],"medium"))):i[t]=null}),n.datepickerOptions&&i.minDate&&n.compare(t,i.minDate)<0||i.maxDate&&n.compare(t,i.maxDate)>0};n.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};n.dateSelection=function(i){n.date=i;var r=n.date?l.filter(n.date,b):null;t.val(r);w.$setViewValue(r);ct&&(n.isOpen=!1,t[0].focus())};n.keydown=function(i){27===i.which&&(i.stopPropagation(),n.isOpen=!1,t[0].focus())};n.select=function(t,i){if(i.stopPropagation(),"today"===t){var r=new Date;angular.isDate(n.date)?(t=new Date(n.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):(t=l.fromTimezone(r,g.timezone),t.setHours(0,0,0,0))}n.dateSelection(t)};n.close=function(i){i.stopPropagation();n.isOpen=!1;t[0].focus()};n.disabled=angular.isDefined(i.disabled)||!1;i.ngDisabled&&st.push(n.$parent.$watch(f(i.ngDisabled),function(t){n.disabled=t}));n.$watch("isOpen",function(r){r?n.disabled?n.isOpen=!1:v(function(){d();lt&&n.$broadcast("uib:datepicker.focus");o.on("click",ft);var r=i.popupPlacement?i.popupPlacement:a.placement;it||h.parsePlacement(r)[2]?(k=k||angular.element(h.scrollParent(t)),k&&k.on("scroll",d)):k=null;angular.element(e).on("resize",d)},0,!1):(o.off("click",ft),k&&k.off("scroll",d),angular.element(e).off("resize",d))});n.$on("uib:datepicker.mode",function(){v(d,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(n,t,i,r){var u=r[0],f=r[1];f.init(u)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}});angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(n){return function(t,i){var r;return function(){var u=this,f=Array.prototype.slice.call(arguments);r&&n.cancel(r);r=n(function(){t.apply(u,f)},i)}}}]);angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(n,t){var i=null,r;this.open=function(t){i||n.on("click",r);i&&i!==t&&(i.isOpen=!1);i=t};this.close=function(t){i===t&&(n.off("click",r),n.off("keydown",this.keybindFilter),i=null)};r=function(n){var r,u;!i||n&&"disabled"===i.getAutoClose()||n&&3===n.which||(r=i.getToggleElement(),n&&r&&r[0].contains(n.target)||(u=i.getDropdownElement(),n&&"outsideClick"===i.getAutoClose()&&u&&u[0].contains(n.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())))};this.keybindFilter=function(n){if(i){var t=i.getDropdownElement(),u=i.getToggleElement(),f=t&&t[0].contains(n.target),e=u&&u[0].contains(n.target);27===n.which?(n.stopPropagation(),i.focusToggleElement(),r()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(n.which)&&i.isOpen&&(f||e)&&(n.preventDefault(),n.stopPropagation(),i.focusDropdownEntry(n.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(n,t,i,r,u,f,e,o,s,h,c){var p,w,l=this,a=n.$new(),k=u.appendToOpenClass,d=u.openClass,y=angular.noop,nt=i.onToggle?r(i.onToggle):angular.noop,b=!1,v=null,g=!1,tt=s.find("body");t.addClass("dropdown");this.init=function(){if(i.isOpen&&(w=r(i.isOpen),y=w.assign,n.$watch(w,function(n){a.isOpen=!!n})),angular.isDefined(i.dropdownAppendTo)){var u=r(i.dropdownAppendTo)(a);u&&(v=angular.element(u))}b=angular.isDefined(i.dropdownAppendToBody);g=angular.isDefined(i.keyboardNav);b&&!v&&(v=tt);v&&l.dropdownMenu&&(v.append(l.dropdownMenu),t.on("$destroy",function(){l.dropdownMenu.remove()}))};this.toggle=function(n){return a.isOpen=arguments.length?!!n:!a.isOpen,angular.isFunction(y)&&y(a,a.isOpen),a.isOpen};this.isOpen=function(){return a.isOpen};a.getToggleElement=function(){return l.toggleElement};a.getAutoClose=function(){return i.autoClose||"always"};a.getElement=function(){return t};a.isKeynavEnabled=function(){return g};a.focusDropdownEntry=function(n){var i=l.dropdownMenu?angular.element(l.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(n){case 40:l.selectedOption=angular.isNumber(l.selectedOption)?l.selectedOption===i.length-1?l.selectedOption:l.selectedOption+1:0;break;case 38:l.selectedOption=angular.isNumber(l.selectedOption)?0===l.selectedOption?0:l.selectedOption-1:i.length-1}i[l.selectedOption].focus()};a.getDropdownElement=function(){return l.dropdownMenu};a.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()};a.$watch("isOpen",function(i,r){var u,it,g,w,rt,tt,ut,et,ft;v&&l.dropdownMenu&&(w=o.positionElements(t,l.dropdownMenu,"bottom-left",!0),rt=0,(u={top:w.top+"px",display:i?"block":"none"},it=l.dropdownMenu.hasClass("dropdown-menu-right"),it?(u.left="auto",g=o.scrollbarPadding(v),g.heightOverflow&&g.scrollbarWidth&&(rt=g.scrollbarWidth),u.right=window.innerWidth-rt-(w.left+t.prop("offsetWidth"))+"px"):(u.left=w.left+"px",u.right="auto"),b)||(tt=o.offset(v),u.top=w.top-tt.top+"px",it?u.right=window.innerWidth-(w.left-tt.left+t.prop("offsetWidth"))+"px":u.left=w.left-tt.left+"px"),l.dropdownMenu.css(u));ut=v?v:t;et=ut.hasClass(v?k:d);(et===!i&&e[i?"addClass":"removeClass"](ut,v?k:d).then(function(){angular.isDefined(i)&&i!==r&&nt(n,{open:!!i})}),i)?(l.dropdownMenuTemplateUrl?c(l.dropdownMenuTemplateUrl).then(function(n){p=a.$new();h(n.trim())(p,function(n){var t=n;l.dropdownMenu.replaceWith(t);l.dropdownMenu=t;s.on("keydown",f.keybindFilter)})}):s.on("keydown",f.keybindFilter),a.focusToggleElement(),f.open(a,t)):((f.close(a,t),l.dropdownMenuTemplateUrl)&&(p&&p.$destroy(),ft=angular.element('<ul class="dropdown-menu"><\/ul>'),l.dropdownMenu.replaceWith(ft),l.dropdownMenu=ft),l.selectedOption=null);angular.isFunction(y)&&y(n,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(n,t,i,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(n,t,i,r){if(r&&!angular.isDefined(i.dropdownNested)){t.addClass("dropdown-menu");var u=i.templateUrl;u&&(r.dropdownMenuTemplateUrl=u);r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(n,t,i,r){if(r){t.addClass("dropdown-toggle");r.toggleElement=t;var u=function(u){u.preventDefault();t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u);t.attr({"aria-haspopup":!0,"aria-expanded":!1});n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)});n.$on("$destroy",function(){t.unbind("click",u)})}}}});angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t===n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t===n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.pop()},length:function(){return n.length}}}}});angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var n={};return{entries:function(){return Object.keys(n).map(function(t){return{key:t,value:n[t]}})},get:function(t){return n[t]},hasKey:function(t){return!!n[t]},keys:function(){return Object.keys(n)},put:function(t,i){n[t]||(n[t]=[]);n[t].push(i)},remove:function(t,i){var r=n[t],u;r&&(u=r.indexOf(i),-1!==u&&r.splice(u,1),r.length||delete n[t])}}}}}).provider("$uibResolve",function(){var n=this;this.resolver=null;this.setResolver=function(n){this.resolver=n};this.$get=["$injector","$q",function(t,i){var r=n.resolver?t.get(n.resolver):null;return{resolve:function(n,u,f,e){if(r)return r.resolve(n,u,f,e);var o=[];return angular.forEach(n,function(n){angular.isFunction(n)||angular.isArray(n)?o.push(i.resolve(t.invoke(n))):angular.isString(n)?o.push(i.resolve(t.get(n))):o.push(i.resolve(n))}),i.all(o).then(function(t){var i={},r=0;return angular.forEach(n,function(n,u){i[u]=t[r++]}),i})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(n,t,i){function r(t,r,u){u.modalInClass&&(n.addClass(r,u.modalInClass),t.$on(i.NOW_CLOSING_EVENT,function(i,f){var e=f();t.modalOptions.animation?n.removeClass(r,u.modalInClass).then(e):e()}))}return{restrict:"A",compile:function(n,t){return n.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(n,t,i,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(u,f,e){f.addClass(e.windowTopClass||"");u.size=e.size;u.close=function(t){var i=n.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))};f.on("click",u.close);u.$isRendered=!0;var o=t.defer();u.$$postDigest(function(){o.resolve()});o.promise.then(function(){var o=null;e.modalInClass&&(o=i(f,{addClass:e.modalInClass}).start(),u.$on(n.NOW_CLOSING_EVENT,function(n,t){var r=t();i(f,{removeClass:e.modalInClass}).start().then(r)}));t.when(o).then(function(){var i=n.getTop(),t;(i&&n.modalRendered(i.key),r[0].activeElement&&f[0].contains(r[0].activeElement))||(t=f[0].querySelector("[autofocus]"),t?t.focus():f[0].focus())})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(n,t){t.modalAnimation&&n.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(n){return{link:function(t,i,r,u,f){f(t.$parent,function(t){i.empty();n.enter(t,i)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(n,t,i,r,u,f,e,o,s){function ft(n){var t="-";return n.replace(ht,function(n,i){return(i?t:"")+n.toLowerCase()})}function et(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)}function b(){for(var n=-1,i=c.keys(),t=0;t<i.length;t++)c.get(i[t]).value.backdrop&&(n=t);return n>-1&&y>n&&(n=y),n}function d(n,t){var i=c.get(n).value,r=i.appendTo;c.remove(n);p=c.top();p&&(y=parseInt(p.value.modalDomEl.attr("index"),10));nt(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||ut,u;k.remove(t,n);u=k.hasKey(t);r.toggleClass(t,u);!u&&a&&a.heightOverflow&&a.scrollbarWidth&&(a.originalRight?r.css({paddingRight:a.originalRight+"px"}):r.css({paddingRight:""}),a=null);g(!0)},i.closedDeferred);ot();t&&t.focus?t.focus():r.focus&&r.focus()}function g(n){var t;c.length()>0&&(t=c.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",n))}function ot(){if(l&&-1===b()){var n=v;nt(l,v,function(){n=null});l=void 0;v=void 0}}function nt(t,i,r,u){function o(){o.done||(o.done=!0,n.leave(t).then(function(){r&&r();t.remove();u&&u.resolve()}),i.$destroy())}var e,s=null,c=function(){return e||(e=f.defer(),s=e.promise),function(){e.resolve()}};return i.$broadcast(h.NOW_CLOSING_EVENT,c),f.when(s).then(o)}function tt(n){var t,i,r;if(n.isDefaultPrevented())return n;if(t=c.top(),t)switch(n.which){case 27:t.value.keyboard&&(n.preventDefault(),u.$apply(function(){h.dismiss(t.key,"escape key press")}));break;case 9:i=h.loadFocusElementList(t);r=!1;n.shiftKey?(h.isFocusInFirstItem(n,i)||h.isModalFocused(n,t))&&(r=h.focusLastFocusableElement(i)):h.isFocusInLastItem(n,i)&&(r=h.focusFirstFocusableElement(i));r&&(n.preventDefault(),n.stopPropagation())}}function it(n,t,i){return!n.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}function rt(){Array.prototype.forEach.call(document.querySelectorAll("["+w+"]"),function(n){var i=parseInt(n.getAttribute(w),10),t=i-1;n.setAttribute(w,t);t||(n.removeAttribute(w),n.removeAttribute("aria-hidden"))})}var l,v,a,ut="modal-open",c=o.createNew(),k=e.createNew(),h={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,p=null,w="data-bootstrap-modal-aria-hidden-count",st="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",ht=/[A-Z]/g;return u.$watch(b,function(n){v&&(v.index=n)}),i.on("keydown",tt),u.$on("$destroy",function(){i.off("keydown",tt)}),h.open=function(t,f){function nt(n){function t(n){var t=n.parent()?n.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==n[0]})}if(n&&"BODY"!==n[0].tagName)return t(n).forEach(function(n){var i="true"===n.getAttribute("aria-hidden"),t=parseInt(n.getAttribute(w),10);t||(t=i?1:0);n.setAttribute(w,t+1);n.setAttribute("aria-hidden","true")}),nt(n.parent())}var it=i[0].activeElement,tt=f.openedClass||ut,e,d,h,o;if(g(!1),p=c.top(),c.add(t,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),k.put(tt,t),e=f.appendTo,d=b(),!e.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!l&&(v=u.$new(!0),v.modalOptions=f,v.index=d,l=angular.element('<div uib-modal-backdrop="modal-backdrop"><\/div>'),l.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),f.backdropClass&&l.addClass(f.backdropClass),f.animation&&l.attr("modal-animation","true"),r(l)(v),n.enter(l,e),s.isScrollable(e)&&(a=s.scrollbarPadding(e),a.heightOverflow&&a.scrollbarWidth&&e.css({paddingRight:a.right+"px"})));f.component?(h=document.createElement(ft(f.component.name)),h=angular.element(h),h.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=f.content;y=p?parseInt(p.value.modalDomEl.attr("index"),10)+1:0;o=angular.element('<div uib-modal-window="modal-window"><\/div>');o.attr({"class":"modal","template-url":f.windowTemplateUrl,"window-top-class":f.windowTopClass,role:"dialog","aria-labelledby":f.ariaLabelledBy,"aria-describedby":f.ariaDescribedBy,size:f.size,index:y,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h);f.windowClass&&o.addClass(f.windowClass);f.animation&&o.attr("modal-animation","true");e.addClass(tt);f.scope&&(f.scope.$$topModalIndex=y);n.enter(r(o)(f.scope),e);c.top().value.modalDomEl=o;c.top().value.modalOpener=it;nt(o)},h.close=function(n,t){var i=c.get(n);return rt(),i&&it(i,t,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(t),d(n,i.value.modalOpener),!0):!i},h.dismiss=function(n,t){var i=c.get(n);return rt(),i&&it(i,t,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(t),d(n,i.value.modalOpener),!0):!i},h.dismissAll=function(n){for(var t=this.getTop();t&&this.dismiss(t.key,n);)t=this.getTop()},h.getTop=function(){return c.top()},h.modalRendered=function(n){var t=c.get(n);h.focusFirstFocusableElement(h.loadFocusElementList(t));t&&t.value.renderDeferred.resolve()},h.focusFirstFocusableElement=function(n){return n.length>0?(n[0].focus(),!0):!1},h.focusLastFocusableElement=function(n){return n.length>0?(n[n.length-1].focus(),!0):!1},h.isModalFocused=function(n,t){if(n&&t){var i=t.value.modalDomEl;if(i&&i.length)return(n.target||n.srcElement)===i[0]}return!1},h.isFocusInFirstItem=function(n,t){return t.length>0?(n.target||n.srcElement)===t[0]:!1},h.isFocusInLastItem=function(n,t){return t.length>0?(n.target||n.srcElement)===t[t.length-1]:!1},h.loadFocusElementList=function(n){var t,i;if(n&&(t=n.value.modalDomEl,t&&t.length))return i=t[0].querySelectorAll(st),i?Array.prototype.filter.call(i,function(n){return et(n)}):i},h}]).provider("$uibModal",function(){var n={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,i,r,u,f,e,o){function c(n){return n.template?i.when(n.template):u(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl)}var h={},s=null;return h.getPromiseChain=function(){return s},h.open=function(u){function v(){return w}var l=i.defer(),a=i.defer(),y=i.defer(),p=i.defer(),h={result:l.promise,opened:a.promise,closed:y.promise,rendered:p.promise,close:function(n){return o.close(h,n)},dismiss:function(n){return o.dismiss(h,n)}},w,b;if(u=angular.extend({},n.options,u),u.resolve=u.resolve||{},u.appendTo=u.appendTo||r.find("body").eq(0),!u.component&&!u.template&&!u.templateUrl)throw new Error("One of component or template or templateUrl options is required.");return w=u.component?i.when(e.resolve(u.resolve,{},null,null)):i.all([c(u),e.resolve(u.resolve,{},null,null)]),b=s=i.all([s]).then(v,v).then(function(n){function w(t,r,u,f){t.$scope=i;t.$scope.$resolve={};u?t.$scope.$uibModalInstance=h:t.$uibModalInstance=h;var e=r?n[1]:n;angular.forEach(e,function(n,i){f&&(t[i]=n);t.$scope.$resolve[i]=n})}var b=u.scope||t,i=b.$new();i.$close=h.close;i.$dismiss=h.dismiss;i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,e,s={scope:i,deferred:l,renderDeferred:p,closedDeferred:y,animation:u.animation,backdrop:u.backdrop,keyboard:u.keyboard,backdropClass:u.backdropClass,windowTopClass:u.windowTopClass,windowClass:u.windowClass,windowTemplateUrl:u.windowTemplateUrl,ariaLabelledBy:u.ariaLabelledBy,ariaDescribedBy:u.ariaDescribedBy,size:u.size,openedClass:u.openedClass,appendTo:u.appendTo},c={},v={};u.component?(w(c,!1,!0,!1),c.name=u.component,s.component=c):u.controller&&(w(v,!0,!1,!0),e=f(u.controller,v,!0,u.controllerAs),u.controllerAs&&u.bindToController&&(r=e.instance,r.$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:v.$scope.$resolve},b)),r=e(),angular.isFunction(r.$onInit)&&r.$onInit());u.component||(s.content=n[0]);o.open(h,s);a.resolve(!0)},function(n){a.reject(n);l.reject(n)})["finally"](function(){s===b&&(s=null)}),h},h}]};return n});angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(n){return{create:function(t,i,r){t.setNumPages=r.numPages?n(r.numPages).assign:angular.noop;t.ngModelCtrl={$setViewValue:angular.noop};t._watchers=[];t.init=function(n,u){t.ngModelCtrl=n;t.config=u;n.$render=function(){t.render()};r.itemsPerPage?t._watchers.push(i.$parent.$watch(r.itemsPerPage,function(n){t.itemsPerPage=parseInt(n,10);i.totalPages=t.calculateTotalPages();t.updatePage()})):t.itemsPerPage=u.itemsPerPage;i.$watch("totalItems",function(n,r){(angular.isDefined(n)||n!==r)&&(i.totalPages=t.calculateTotalPages(),t.updatePage())})};t.calculateTotalPages=function(){var n=t.itemsPerPage<1?1:Math.ceil(i.totalItems/t.itemsPerPage);return Math.max(n||0,1)};t.render=function(){i.page=parseInt(t.ngModelCtrl.$viewValue,10)||1};i.selectPage=function(n,r){r&&r.preventDefault();var u=!i.ngDisabled||!r;u&&i.page!==n&&n>0&&n<=i.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(n),t.ngModelCtrl.$render())};i.getText=function(n){return i[n+"Text"]||t.config[n+"Text"]};i.noPrevious=function(){return 1===i.page};i.noNext=function(){return i.page===i.totalPages};t.updatePage=function(){t.setNumPages(i.$parent,i.totalPages);i.page>i.totalPages?i.selectPage(i.totalPages):t.ngModelCtrl.$render()};i.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]);angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(n,t,i,r){n.align=angular.isDefined(t.align)?n.$parent.$eval(t.align):r.align;i.create(this,n,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(n){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(n,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,i,r,u){i.addClass("pager");var e=u[0],f=u[1];f&&e.init(f,n)}}}]);angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(n,t,i,r,u){function e(n,t,i){return{number:n,text:t,active:i}}function l(n,t){var u=[],i=1,r=t,c=angular.isDefined(f)&&t>f,s,l,y,p,w,b,k,d;for(c&&(h?(i=Math.max(n-Math.floor(f/2),1),r=i+f-1,r>t&&(r=t,i=r-f+1)):(i=(Math.ceil(n/f)-1)*f+1,r=Math.min(i+f-1,t))),s=i;r>=s;s++)l=e(s,v(s),s===n),u.push(l);return c&&f>0&&(!h||a||o)&&(i>1&&((!o||i>3)&&(y=e(i-1,"...",!1),u.unshift(y)),o&&(3===i&&(p=e(2,"2",!1),u.unshift(p)),w=e(1,"1",!1),u.unshift(w))),t>r&&((!o||t-2>r)&&(b=e(r+1,"...",!1),u.push(b)),o&&(r===t-2&&(k=e(t-1,t-1,!1),u.push(k)),d=e(t,t,!1),u.push(d)))),u}var s=this,f=angular.isDefined(t.maxSize)?n.$parent.$eval(t.maxSize):u.maxSize,h=angular.isDefined(t.rotate)?n.$parent.$eval(t.rotate):u.rotate,a=angular.isDefined(t.forceEllipses)?n.$parent.$eval(t.forceEllipses):u.forceEllipses,o=angular.isDefined(t.boundaryLinkNumbers)?n.$parent.$eval(t.boundaryLinkNumbers):u.boundaryLinkNumbers,v=angular.isDefined(t.pageLabel)?function(i){return n.$parent.$eval(t.pageLabel,{$page:i})}:angular.identity,c;n.boundaryLinks=angular.isDefined(t.boundaryLinks)?n.$parent.$eval(t.boundaryLinks):u.boundaryLinks;n.directionLinks=angular.isDefined(t.directionLinks)?n.$parent.$eval(t.directionLinks):u.directionLinks;r.create(this,n,t);t.maxSize&&s._watchers.push(n.$parent.$watch(i(t.maxSize),function(n){f=parseInt(n,10);s.render()}));c=this.render;this.render=function(){c();n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(n,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(n,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(n,i,r,u){i.addClass("pagination");var e=u[0],f=u[1];f&&e.init(f,t)}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function i(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var r={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(u,f,e,o,s,h,c,l,a){function y(n){if(27===n.which){var t=v.top();t&&(t.value.close(),t=null)}}var v=a.createNew();return o.on("keyup",y),c.$on("$destroy",function(){o.off("keyup",y)}),function(u,c,a,y){function p(t){var i=(t||y.trigger||a).split(" "),r=i.map(function(t){return n[t]||t});return{show:i,hide:r}}y=angular.extend({},r,t,y);var k=i(u),w=h.startSymbol(),b=h.endSymbol(),d="<div "+k+'-popup uib-title="'+w+"title"+b+'" '+(y.useContentExp?'content-exp="contentExp()" ':'content="'+w+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ><\/div>';return{compile:function(){var n=f(d);return function(t,i,r){function g(){f.isOpen?nt():at()}function at(){ei&&!t.$eval(r[c+"Enable"])||(vt(),ii(),f.popupDelay?it||(it=e(dt,f.popupDelay,!1)):dt())}function nt(){st();f.popupCloseDelay?rt||(rt=e(k,f.popupCloseDelay,!1)):k()}function dt(){return st(),vt(),f.content?(ti(),void f.$evalAsync(function(){f.isOpen=!0;gt(!0);ot()})):angular.noop}function st(){it&&(e.cancel(it),it=null);d&&(e.cancel(d),d=null)}function k(){f&&f.$evalAsync(function(){f&&(f.isOpen=!1,gt(!1),f.animation?tt||(tt=e(yt,150,!1)):yt())})}function vt(){rt&&(e.cancel(rt),rt=null);tt&&(e.cancel(tt),tt=null)}function ti(){h||(b=f.$new(),h=n(b,function(n){ft?o.find("body").append(n):i.after(n)}),v.add(f,{close:k}),ri())}function yt(){st();vt();ui();h&&(h.remove(),h=null,ht&&e.cancel(ht));v.remove(f);b&&(b.$destroy(),b=null)}function ii(){var n,i,e;f.title=r[c+"Title"];f.content=ct?ct(t):r[u];f.popupClass=r[c+"Class"];f.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:y.placement;n=s.parsePlacement(f.placement);ut=n[1]?n[0]+"-"+n[1]:n[0];i=parseInt(r[c+"PopupDelay"],10);e=parseInt(r[c+"PopupCloseDelay"],10);f.popupDelay=isNaN(i)?y.popupDelay:i;f.popupCloseDelay=isNaN(e)?y.popupCloseDelay:e}function gt(n){et&&angular.isFunction(et.assign)&&et.assign(t,n)}function ri(){a.length=0;ct?(a.push(t.$watch(ct,function(n){f.content=n;!n&&f.isOpen&&k()})),a.push(b.$watch(function(){pt||(pt=!0,b.$$postDigest(function(){pt=!1;f&&f.isOpen&&ot()}))}))):a.push(r.$observe(u,function(n){f.content=n;!n&&f.isOpen?k():ot()}));a.push(r.$observe(c+"Title",function(n){f.title=n;f.isOpen&&ot()}));a.push(r.$observe(c+"Placement",function(n){f.placement=n?n:y.placement;f.isOpen&&ot()}))}function ui(){a.length&&(angular.forEach(a,function(n){n()}),a.length=0)}function ni(n){f&&f.isOpen&&h&&(i[0].contains(n.target)||h[0].contains(n.target)||nt())}function fi(){var u=[],f=[],n=t.$eval(r[c+"Trigger"]);wt();angular.isObject(n)?(Object.keys(n).forEach(function(t){u.push(t);f.push(n[t])}),w={show:u,hide:f}):w=p(n);"none"!==w.show&&w.show.forEach(function(n,t){"outsideClick"===n?(i.on("click",g),o.on("click",ni)):n===w.hide[t]?i.on(n,g):n&&(i.on(n,at),i.on(w.hide[t],nt));i.on("keypress",function(n){27===n.which&&nt()})})}var h,b,tt,it,rt,d,ht,ut,ft=angular.isDefined(y.appendToBody)?y.appendToBody:!1,w=p(void 0),ei=angular.isDefined(r[c+"Enable"]),f=t.$new(!0),pt=!1,et=angular.isDefined(r[c+"IsOpen"])?l(r[c+"IsOpen"]):!1,ct=y.useContentExp?l(r[u]):!1,a=[],ot=function(){h&&h.html()&&(d||(d=e(function(){var n=s.positionElements(i,h,f.placement,ft),r=angular.isDefined(h.offsetHeight)?h.offsetHeight:h.prop("offsetHeight"),u=ft?s.offset(i):s.position(i),t;h.css({top:n.top+"px",left:n.left+"px"});t=n.placement.split("-");h.hasClass(t[0])||(h.removeClass(ut.split("-")[0]),h.addClass(t[0]));h.hasClass(y.placementClassPrefix+n.placement)||(h.removeClass(y.placementClassPrefix+ut),h.addClass(y.placementClassPrefix+n.placement));ht=e(function(){var i=angular.isDefined(h.offsetHeight)?h.offsetHeight:h.prop("offsetHeight"),n=s.adjustTop(t,u,r,i);n&&h.css(n);ht=null},0,!1);h.hasClass("uib-position-measure")?(s.positionArrow(h,n.placement),h.removeClass("uib-position-measure")):ut!==n.placement&&s.positionArrow(h,n.placement);ut=n.placement;d=null},0,!1)))},wt,bt,kt,lt;f.origScope=t;f.isOpen=!1;f.contentExp=function(){return f.content};r.$observe("disabled",function(n){n&&st();n&&f.isOpen&&k()});et&&t.$watch(et,function(n){f&&!n===f.isOpen&&g()});wt=function(){w.show.forEach(function(n){"outsideClick"===n?i.off("click",g):(i.off(n,at),i.off(n,g))});w.hide.forEach(function(n){"outsideClick"===n?o.off("click",ni):i.off(n,nt)})};fi();bt=t.$eval(r[c+"Animation"]);f.animation=angular.isDefined(bt)?!!bt:y.animation;lt=c+"AppendToBody";kt=lt in r&&void 0===r[lt]?!0:t.$eval(r[lt]);ft=angular.isDefined(kt)?kt:ft;t.$on("$destroy",function(){wt();yt();f=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(n,t,i,r){return{link:function(u,f,e){var o,s,h,a=u.$eval(e.tooltipTemplateTranscludeScope),l=0,c=function(){s&&(s.remove(),s=null);o&&(o.$destroy(),o=null);h&&(n.leave(h).then(function(){s=null}),s=h,h=null)};u.$watch(t.parseAsResourceUrl(e.uibTooltipTemplateTransclude),function(t){var e=++l;t?(r(t,!0).then(function(r){if(e===l){var u=a.$new(),s=r,v=i(s)(u,function(t){c();n.enter(t,f)});o=u;h=v;o.$emit("$includeContentLoaded",t)}},function(){e===l&&(c(),u.$emit("$includeContentError",t))}),u.$emit("$includeContentRequested",t)):c()});u.$on("$destroy",c)}}}]).directive("uibTooltipClasses",["$uibPosition",function(n){return{restrict:"A",link:function(t,i,r){if(t.placement){var u=n.parsePlacement(t.placement);i.addClass(u[0])}t.popupClass&&i.addClass(t.popupClass);t.animation&&i.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(n){return n("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(n){return n("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(n){return n("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(n){return n("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(n){return n("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(n){return n("uibPopover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(n,t,i){function r(){return angular.isDefined(n.maxParam)?n.maxParam:i.max}var u=this,f=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[];n.max=r();this.addBar=function(n,t,i){f||t.css({transition:"none"});this.bars.push(n);n.max=r();n.title=i&&angular.isDefined(i.title)?i.title:"progressbar";n.$watch("value",function(){n.recalculatePercentage()});n.recalculatePercentage=function(){var t=u.bars.reduce(function(n,t){return t.percent=+(100*t.value/t.max).toFixed(2),n+t.percent},0);t>100&&(n.percent-=t-100)};n.$on("$destroy",function(){t=null;u.removeBar(n)})};this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1);this.bars.forEach(function(n){n.recalculatePercentage()})};n.$watch("maxParam",function(){u.bars.forEach(function(n){n.max=r();n.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t,i)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]),{title:i.title})}}});angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(n,t,i){var r={$setViewValue:angular.noop},u=this;this.init=function(u){var f,e;r=u;r.$render=this.render;r.$formatters.push(function(n){return angular.isNumber(n)&&n<<0!==n&&(n=Math.round(n)),n});this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;this.enableReset=angular.isDefined(t.enableReset)?n.$parent.$eval(t.enableReset):i.enableReset;f=angular.isDefined(t.titles)?n.$parent.$eval(t.titles):i.titles;this.titles=angular.isArray(f)&&f.length>0?f:i.titles;e=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(e)};this.buildTemplateObjects=function(n){for(var t=0,i=n.length;i>t;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},n[t]);return n};this.getTitle=function(n){return n>=this.titles.length?n+1:this.titles[n]};n.rate=function(t){if(!n.readonly&&t>=0&&t<=n.range.length){var i=u.enableReset&&r.$viewValue===t?0:t;r.$setViewValue(i);r.$render()}};n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})};n.reset=function(){n.value=r.$viewValue;n.onLeave()};n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(38===t.which||39===t.which?1:-1)))};this.render=function(){n.value=r.$viewValue;n.title=u.getTitle(n.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(n,t,i,r){var u=r[0],f=r[1];u.init(f)}}});angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(n){function r(n){for(var i=0;i<t.tabs.length;i++)if(t.tabs[i].index===n)return i}var i,t=this,u;t.tabs=[];t.select=function(n,f){var s,o,e;if(!u){if(s=r(i),o=t.tabs[s],o){if(o.tab.onDeselect({$event:f,$selectedIndex:n}),f&&f.isDefaultPrevented())return;o.tab.active=!1}e=t.tabs[n];e?(e.tab.onSelect({$event:f}),e.tab.active=!0,t.active=e.index,i=e.index):!e&&angular.isDefined(i)&&(t.active=null,i=null)}};t.addTab=function(n){if(t.tabs.push({tab:n,index:n.index}),t.tabs.sort(function(n,t){return n.index>t.index?1:n.index<t.index?-1:0}),n.index===t.active||!angular.isDefined(t.active)&&1===t.tabs.length){var i=r(n.index);t.select(i)}};t.removeTab=function(n){for(var i,u,r=0;r<t.tabs.length;r++)if(t.tabs[r].tab===n){i=r;break}t.tabs[i].index===t.active&&(u=i===t.tabs.length-1?i-1:i+1%t.tabs.length,t.select(u));t.tabs.splice(i,1)};n.$watch("tabset.active",function(n){angular.isDefined(n)&&n!==i&&t.select(r(n))});n.$on("$destroy",function(){u=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(n,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("uibTab",["$parse",function(n){return{require:"^uibTabset",replace:!0,templateUrl:function(n,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,i,r,u,f){t.disabled=!1;r.disable&&t.$parent.$watch(n(r.disable),function(n){t.disabled=!!n});angular.isUndefined(r.index)&&(t.index=u.tabs&&u.tabs.length?Math.max.apply(null,u.tabs.map(function(n){return n.index}))+1:0);angular.isUndefined(r.classes)&&(t.classes="");t.select=function(n){if(!t.disabled){for(var r,i=0;i<u.tabs.length;i++)if(u.tabs[i].tab===t){r=i;break}u.select(r,n)}};u.addTab(t);t.$on("$destroy",function(){u.removeTab(t)});t.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}).directive("uibTabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("uib-tab-heading")||n.hasAttribute("data-uib-tab-heading")||n.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===n.tagName.toLowerCase()||"data-uib-tab-heading"===n.tagName.toLowerCase()||"x-uib-tab-heading"===n.tagName.toLowerCase()||"uib:tab-heading"===n.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,i,r){var u=t.$eval(r.uibTabContentTransclude).tab;u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(n,t,i,r,u,f,e){function ut(){var t=+n.hours,i=n.showMeridian?t>0&&13>t:t>=0&&24>t;if(i&&""!==n.hours)return(n.showMeridian&&(12===t&&(t=0),n.meridian===v[1]&&(t+=12)),t)}function ft(){var t=+n.minutes,i=t>=0&&60>t;if(i&&""!==n.minutes)return t}function ct(){var t=+n.seconds;if(t>=0&&60>t)return t}function p(n,t){return null===n?"":angular.isDefined(n)&&n.toString().length<2&&!t?"0"+n:n.toString()}function g(n){nt();s.$setViewValue(new Date(o));ot(n)}function nt(){tt&&tt.$setValidity("hours",!0);it&&it.$setValidity("minutes",!0);rt&&rt.$setValidity("seconds",!0);s.$setValidity("time",!0);n.invalidHours=!1;n.invalidMinutes=!1;n.invalidSeconds=!1}function ot(t){if(s.$modelValue){var i=o.getHours(),r=o.getMinutes(),u=o.getSeconds();n.showMeridian&&(i=0===i||12===i?12:i%12);n.hours="h"===t?i:p(i,!ht);"m"!==t&&(n.minutes=p(r));n.meridian=o.getHours()<12?v[0]:v[1];"s"!==t&&(n.seconds=p(u));n.meridian=o.getHours()<12?v[0]:v[1]}else n.hours=null,n.minutes=null,n.seconds=null,n.meridian=v[0]}function y(n){o=et(o,n);g()}function w(n,t){return et(n,60*t)}function et(n,t){var i=new Date(n.getTime()+1e3*t),r=new Date(n);return r.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),r}function st(){return(null===n.hours||""===n.hours)&&(null===n.minutes||""===n.minutes)&&(!n.showSeconds||n.showSeconds&&(null===n.seconds||""===n.seconds))}var tt,it,rt,o=new Date,a=[],s={$setViewValue:angular.noop},v=angular.isDefined(i.meridians)?n.$parent.$eval(i.meridians):e.meridians||f.DATETIME_FORMATS.AMPMS,ht=angular.isDefined(i.padHours)?n.$parent.$eval(i.padHours):!0,b,k,c,l,h,d;n.tabindex=angular.isDefined(i.tabindex)?i.tabindex:0;t.removeAttr("tabindex");this.init=function(t,r){var h,c;s=t;s.$render=this.render;s.$formatters.unshift(function(n){return n?new Date(n):null});var u=r.eq(0),f=r.eq(1),o=r.eq(2);tt=u.controller("ngModel");it=f.controller("ngModel");rt=o.controller("ngModel");h=angular.isDefined(i.mousewheel)?n.$parent.$eval(i.mousewheel):e.mousewheel;h&&this.setupMousewheelEvents(u,f,o);c=angular.isDefined(i.arrowkeys)?n.$parent.$eval(i.arrowkeys):e.arrowkeys;c&&this.setupArrowkeyEvents(u,f,o);n.readonlyInput=angular.isDefined(i.readonlyInput)?n.$parent.$eval(i.readonlyInput):e.readonlyInput;this.setupInputEvents(u,f,o)};b=e.hourStep;i.hourStep&&a.push(n.$parent.$watch(r(i.hourStep),function(n){b=+n}));k=e.minuteStep;i.minuteStep&&a.push(n.$parent.$watch(r(i.minuteStep),function(n){k=+n}));a.push(n.$parent.$watch(r(i.min),function(n){var t=new Date(n);c=isNaN(t)?void 0:t}));a.push(n.$parent.$watch(r(i.max),function(n){var t=new Date(n);l=isNaN(t)?void 0:t}));h=!1;i.ngDisabled&&a.push(n.$parent.$watch(r(i.ngDisabled),function(n){h=n}));n.noIncrementHours=function(){var n=w(o,60*b);return h||n>l||o>n&&c>n};n.noDecrementHours=function(){var n=w(o,60*-b);return h||c>n||n>o&&n>l};n.noIncrementMinutes=function(){var n=w(o,k);return h||n>l||o>n&&c>n};n.noDecrementMinutes=function(){var n=w(o,-k);return h||c>n||n>o&&n>l};n.noIncrementSeconds=function(){var n=et(o,d);return h||n>l||o>n&&c>n};n.noDecrementSeconds=function(){var n=et(o,-d);return h||c>n||n>o&&n>l};n.noToggleMeridian=function(){return o.getHours()<12?h||w(o,720)>l:h||w(o,-720)<c};d=e.secondStep;i.secondStep&&a.push(n.$parent.$watch(r(i.secondStep),function(n){d=+n}));n.showSeconds=e.showSeconds;i.showSeconds&&a.push(n.$parent.$watch(r(i.showSeconds),function(t){n.showSeconds=!!t}));n.showMeridian=e.showMeridian;i.showMeridian&&a.push(n.$parent.$watch(r(i.showMeridian),function(t){if(n.showMeridian=!!t,s.$error.time){var i=ut(),r=ft();angular.isDefined(i)&&angular.isDefined(r)&&(o.setHours(i),g())}else ot()}));this.setupMousewheelEvents=function(t,i,r){var u=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementHours():n.decrementHours());t.preventDefault()});i.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementMinutes():n.decrementMinutes());t.preventDefault()});r.bind("mousewheel wheel",function(t){h||n.$apply(u(t)?n.incrementSeconds():n.decrementSeconds());t.preventDefault()})};this.setupArrowkeyEvents=function(t,i,r){t.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementHours(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementHours(),n.$apply()))});i.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementMinutes(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementMinutes(),n.$apply()))});r.bind("keydown",function(t){h||(38===t.which?(t.preventDefault(),n.incrementSeconds(),n.$apply()):40===t.which&&(t.preventDefault(),n.decrementSeconds(),n.$apply()))})};this.setupInputEvents=function(t,i,r){if(n.readonlyInput)return n.updateHours=angular.noop,n.updateMinutes=angular.noop,void(n.updateSeconds=angular.noop);var u=function(t,i,r){s.$setViewValue(null);s.$setValidity("time",!1);angular.isDefined(t)&&(n.invalidHours=t,tt&&tt.$setValidity("hours",!1));angular.isDefined(i)&&(n.invalidMinutes=i,it&&it.$setValidity("minutes",!1));angular.isDefined(r)&&(n.invalidSeconds=r,rt&&rt.$setValidity("seconds",!1))};n.updateHours=function(){var n=ut(),t=ft();s.$setDirty();angular.isDefined(n)&&angular.isDefined(t)?(o.setHours(n),o.setMinutes(t),c>o||o>l?u(!0):g("h")):u(!0)};t.bind("blur",function(){s.$setTouched();st()?nt():null===n.hours||""===n.hours?u(!0):!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=p(n.hours,!ht)})});n.updateMinutes=function(){var n=ft(),t=ut();s.$setDirty();angular.isDefined(n)&&angular.isDefined(t)?(o.setHours(t),o.setMinutes(n),c>o||o>l?u(void 0,!0):g("m")):u(void 0,!0)};i.bind("blur",function(){s.$setTouched();st()?nt():null===n.minutes?u(void 0,!0):!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=p(n.minutes)})});n.updateSeconds=function(){var n=ct();s.$setDirty();angular.isDefined(n)?(o.setSeconds(n),g("s")):u(void 0,void 0,!0)};r.bind("blur",function(){st()?nt():!n.invalidSeconds&&n.seconds<10&&n.$apply(function(){n.seconds=p(n.seconds)})})};this.render=function(){var t=s.$viewValue;isNaN(t)?(s.$setValidity("time",!1),u.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(o=t),c>o||o>l?(s.$setValidity("time",!1),n.invalidHours=!0,n.invalidMinutes=!0):nt(),ot())};n.showSpinners=angular.isDefined(i.showSpinners)?n.$parent.$eval(i.showSpinners):e.showSpinners;n.incrementHours=function(){n.noIncrementHours()||y(3600*b)};n.decrementHours=function(){n.noDecrementHours()||y(3600*-b)};n.incrementMinutes=function(){n.noIncrementMinutes()||y(60*k)};n.decrementMinutes=function(){n.noDecrementMinutes()||y(60*-k)};n.incrementSeconds=function(){n.noIncrementSeconds()||y(d)};n.decrementSeconds=function(){n.noDecrementSeconds()||y(-d)};n.toggleMeridian=function(){var t=ft(),i=ut();n.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(i)?y(720*(o.getHours()<12?60:-60)):n.meridian=n.meridian===v[0]?v[1]:v[0])};n.blur=function(){s.$setTouched()};n.$on("$destroy",function(){for(;a.length;)a.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(n){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,i){return i.templateUrl||n.templateUrl},link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(n,t,i,r,u,f,e,o,s,h,c,l,a){function rt(){v.moveInProgress||(v.moveInProgress=!0,v.$digest());ti()}function bt(){v.position=nt?l.offset(t):l.position(t);v.position.top+=t.prop("offsetHeight")}var y,ut,ri=[9,13,27,38,40],d=n.$eval(i.typeaheadMinLength),at,g,ct,tt,p,b,ni,lt,ti,yt,ii,pt,wt,it;d||0===d||(d=1);n.$watch(i.typeaheadMinLength,function(n){d=n||0===n?n:1});at=n.$eval(i.typeaheadWaitMs)||0;g=n.$eval(i.typeaheadEditable)!==!1;n.$watch(i.typeaheadEditable,function(n){g=n!==!1});var ft,et,ot=u(i.typeaheadLoading).assign||angular.noop,ui=i.typeaheadShouldSelect?u(i.typeaheadShouldSelect):function(n,t){var i=t.$event;return 13===i.which||9===i.which},fi=u(i.typeaheadOnSelect),ei=angular.isDefined(i.typeaheadSelectOnBlur)?n.$eval(i.typeaheadSelectOnBlur):!1,st=u(i.typeaheadNoResults).assign||angular.noop,kt=i.typeaheadInputFormatter?u(i.typeaheadInputFormatter):void 0,nt=i.typeaheadAppendToBody?n.$eval(i.typeaheadAppendToBody):!1,vt=i.typeaheadAppendTo?n.$eval(i.typeaheadAppendTo):null,oi=n.$eval(i.typeaheadFocusFirst)!==!1,si=i.typeaheadSelectOnExact?n.$eval(i.typeaheadSelectOnExact):!1,hi=u(i.typeaheadIsOpen).assign||angular.noop,ht=n.$eval(i.typeaheadShowHint)||!1,dt=u(i.ngModel),ci=u(i.ngModel+"($$$p)"),li=function(t,i){return angular.isFunction(dt(n))&&ut&&ut.$options&&ut.$options.getterSetter?ci(t,{$$$p:i}):dt.assign(t,i)},w=a.parse(i.uibTypeahead),v=n.$new(),ai=n.$on("$destroy",function(){v.$destroy()});v.$on("$destroy",ai);ct="typeahead-"+v.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":ct});ht&&(tt=angular.element("<div><\/div>"),tt.css("position","relative"),t.after(tt),p=t.clone(),p.attr("placeholder",""),p.attr("tabindex","-1"),p.val(""),p.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),p.attr("id")&&p.removeAttr("id"),tt.append(p),p.after(t));b=angular.element("<div uib-typeahead-popup><\/div>");b.attr({id:ct,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"});angular.isDefined(i.typeaheadTemplateUrl)&&b.attr("template-url",i.typeaheadTemplateUrl);angular.isDefined(i.typeaheadPopupTemplateUrl)&&b.attr("popup-template-url",i.typeaheadPopupTemplateUrl);var vi=function(){ht&&p.val("")},k=function(){v.matches=[];v.activeIdx=-1;t.attr("aria-expanded",!1);vi()},gt=function(n){return ct+"-option-"+n};v.$watch("activeIdx",function(n){0>n?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",gt(n))});ni=function(n,t){return v.matches.length>t&&n?n.toUpperCase()===v.matches[t].label.toUpperCase():!1};lt=function(i,r){var u={$viewValue:i};ot(n,!0);st(n,!1);f.when(w.source(n,u)).then(function(f){var s=i===y.$viewValue,e,o;if(s&&ft)if(f&&f.length>0){for(v.activeIdx=oi?0:-1,st(n,!1),v.matches.length=0,e=0;e<f.length;e++)u[w.itemName]=f[e],v.matches.push({id:gt(e),label:w.viewMapper(v,u),model:f[e]});(v.query=i,bt(),t.attr("aria-expanded",!0),si&&1===v.matches.length&&ni(i,0)&&(angular.isNumber(v.debounceUpdate)||angular.isObject(v.debounceUpdate)?c(function(){v.select(0,r)},angular.isNumber(v.debounceUpdate)?v.debounceUpdate:v.debounceUpdate["default"]):v.select(0,r)),ht)&&(o=v.matches[0].label,angular.isString(i)&&i.length>0&&o.slice(0,i.length).toUpperCase()===i.toUpperCase()?p.val(i+o.slice(i.length)):p.val(""))}else k(),st(n,!0);s&&ot(n,!1)},function(){k();ot(n,!1);st(n,!0)})};nt&&(angular.element(s).on("resize",rt),o.find("body").on("scroll",rt));ti=c(function(){v.matches.length&&bt();v.moveInProgress=!1},200);v.moveInProgress=!1;v.query=void 0;ii=function(n){yt=e(function(){lt(n)},at)};pt=function(){yt&&e.cancel(yt)};k();v.assignIsOpen=function(t){hi(n,t)};v.select=function(r,u){var f,s,o={};et=!0;o[w.itemName]=s=v.matches[r].model;f=w.modelMapper(n,o);li(n,f);y.$setValidity("editable",!0);y.$setValidity("parse",!0);fi(n,{$item:s,$model:f,$label:w.viewMapper(n,o),$event:u});k();v.$eval(i.typeaheadFocusOnSelect)!==!1&&e(function(){t[0].focus()},0,!1)};t.on("keydown",function(t){var r,i;if(0!==v.matches.length&&-1!==ri.indexOf(t.which)){if(r=ui(n,{$event:t}),-1===v.activeIdx&&r||9===t.which&&t.shiftKey)return k(),void v.$digest();t.preventDefault();switch(t.which){case 27:t.stopPropagation();k();n.$digest();break;case 38:v.activeIdx=(v.activeIdx>0?v.activeIdx:v.matches.length)-1;v.$digest();i=b[0].querySelectorAll(".uib-typeahead-match")[v.activeIdx];i.parentNode.scrollTop=i.offsetTop;break;case 40:v.activeIdx=(v.activeIdx+1)%v.matches.length;v.$digest();i=b[0].querySelectorAll(".uib-typeahead-match")[v.activeIdx];i.parentNode.scrollTop=i.offsetTop;break;default:r&&v.$apply(function(){angular.isNumber(v.debounceUpdate)||angular.isObject(v.debounceUpdate)?c(function(){v.select(v.activeIdx,t)},angular.isNumber(v.debounceUpdate)?v.debounceUpdate:v.debounceUpdate["default"]):v.select(v.activeIdx,t)})}}});t.bind("focus",function(n){ft=!0;0!==d||y.$viewValue||e(function(){lt(y.$viewValue,n)},0)});t.bind("blur",function(n){ei&&v.matches.length&&-1!==v.activeIdx&&!et&&(et=!0,v.$apply(function(){angular.isObject(v.debounceUpdate)&&angular.isNumber(v.debounceUpdate.blur)?c(function(){v.select(v.activeIdx,n)},v.debounceUpdate.blur):v.select(v.activeIdx,n)}));!g&&y.$error.editable&&(y.$setViewValue(),v.$apply(function(){y.$setValidity("editable",!0);y.$setValidity("parse",!0)}),t.val(""));ft=!1;et=!1});wt=function(i){t[0]!==i.target&&3!==i.which&&0!==v.matches.length&&(k(),h.$$phase||n.$digest())};o.on("click",wt);n.$on("$destroy",function(){o.off("click",wt);(nt||vt)&&it.remove();nt&&(angular.element(s).off("resize",rt),o.find("body").off("scroll",rt));b.remove();ht&&tt.remove()});it=r(b)(v);nt?o.find("body").append(it):vt?angular.element(vt).eq(0).append(it):t.after(it);this.init=function(t,i){y=t;ut=i;v.debounceUpdate=y.$options&&u(y.$options.debounce)(n);y.$parsers.unshift(function(t){return ft=!0,0===d||t&&t.length>=d?at>0?(pt(),ii(t)):lt(t):(ot(n,!1),pt(),k()),g?t:t?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)});y.$formatters.push(function(t){var r,u,i={};return g||y.$setValidity("editable",!0),kt?(i.$model=t,kt(n,i)):(i[w.itemName]=t,r=w.viewMapper(n,i),i[w.itemName]=void 0,u=w.viewMapper(n,i),r!==u?r:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(n,t,i,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(n){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(n,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,i,r){t.templateUrl=r.templateUrl;t.isOpen=function(){var n=t.matches.length>0;return t.assignIsOpen({isOpen:n}),n};t.isActive=function(n){return t.active===n};t.selectActive=function(n){t.active=n};t.selectMatch=function(i,r){var u=t.debounce();angular.isNumber(u)||angular.isObject(u)?n(function(){t.select({activeIdx:i,evt:r})},angular.isNumber(u)?u:u["default"]):t.select({activeIdx:i,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(n,t,i){return{scope:{index:"=",match:"=",query:"="},link:function(r,u,f){var e=i(f.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";n(e).then(function(n){var i=angular.element(n.trim());u.replaceWith(i);t(i)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,t,i){function u(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(n){return/<.*>/g.test(n)}var r;return r=t.has("$sanitize"),function(t,e){return!r&&f(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=e?(""+t).replace(new RegExp(u(e),"gi"),"<strong>$&<\/strong>"):t,r||(t=n.trustAsHtml(t)),t}}]);angular.module("ui.bootstrap.carousel").run(function(){angular.$$csp().noInlineStyle||angular.$$uibCarouselCss||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}<\/style>');angular.$$uibCarouselCss=!0});angular.module("ui.bootstrap.datepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}<\/style>');angular.$$uibDatepickerCss=!0});angular.module("ui.bootstrap.position").run(function(){angular.$$csp().noInlineStyle||angular.$$uibPositionCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}<\/style>');angular.$$uibPositionCss=!0});angular.module("ui.bootstrap.datepickerPopup").run(function(){angular.$$csp().noInlineStyle||angular.$$uibDatepickerpopupCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}<\/style>');angular.$$uibDatepickerpopupCss=!0});angular.module("ui.bootstrap.tooltip").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTooltipCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}<\/style>');angular.$$uibTooltipCss=!0});angular.module("ui.bootstrap.timepicker").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTimepickerCss||angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}<\/style>');angular.$$uibTimepickerCss=!0});angular.module("ui.bootstrap.typeahead").run(function(){angular.$$csp().noInlineStyle||angular.$$uibTypeaheadCss||angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}<\/style>');angular.$$uibTypeaheadCss=!0});angular.module("oi.select",[]);angular.module("oi.select").provider("oiSelect",function(){return{options:{debounce:500,searchFilter:"oiSelectCloseIcon",dropdownFilter:"oiSelectHighlight",listFilter:"oiSelectAscSort",groupFilter:"oiSelectGroup",editItem:!1,newItem:!1,closeList:!0,saveTrigger:"enter tab blur",minlength:0},version:{full:"0.2.21",major:0,minor:2,dot:21},$get:function(){return{options:this.options,version:this.version}}}}).factory("oiSelectEscape",function(){var n=/[-\/\\^$*+?.()|[\]{}]/g,t="\\$&";return function(i){return String(i).replace(n,t)}}).factory("oiSelectEditItem",function(){return function(n,t,i,r){return r?"":i(n)}}).factory("oiUtils",["$document","$timeout",function(n,t){function i(n,t,i){for(var r=t;r&&r.ownerDocument&&11!==r.nodeType;){if(i){if(r===n)return!1;if(r.className.indexOf(i)>=0)return!0}else if(r===n)return!0;r=r.parentNode}return!1}function u(r,u){function e(n){if(!n||"INPUT"===n.target.nodeName)return(s=!1,o?void(s=!0):void t(function(){r.triggerHandler("blur")}))}function h(){f||(f=!0,t(function(){r.triggerHandler("focus")}))}function c(){o=!0}function l(n){o=!1;var c=n.target,h=i(r[0],c);s&&!h&&e();h&&"INPUT"!==c.nodeName&&t(function(){u[0].focus()});!h&&f&&(f=!1)}var f,o,s;return n[0].addEventListener("click",l,!0),r[0].addEventListener("mousedown",c,!0),r[0].addEventListener("blur",e,!0),u.on("focus",h),function(){n[0].removeEventListener("click",l,!0);r[0].removeEventListener("mousedown",c,!0);r[0].removeEventListener("blur",e,!0);u.off("focus",h)}}function f(n,t){var i,f,e,u,o,h;t&&(f=n.offsetHeight,e=s(t,"height","margin"),u=n.scrollTop||0,i=r(t).top-r(n).top+u,o=i,h=i-f+e,i+e>f+u?n.scrollTop=h:u>i&&(n.scrollTop=o))}function e(n,t,i,r,u){function o(n){return parseFloat(u[n])}for(var f=i===(r?"border":"content")?4:"width"===t?1:0,e=0,s=["Top","Right","Bottom","Left"];4>f;f+=2)"margin"===i&&(e+=o(i+s[f])),r?("content"===i&&(e-=o("padding"+s[f])),"margin"!==i&&(e-=o("border"+s[f]+"Width"))):(e+=o("padding"+s[f]),"padding"!==i&&(e+=o("border"+s[f]+"Width")));return e}function r(n){var t,i,u=n.getBoundingClientRect(),r=n&&n.ownerDocument;if(r)return t=r.documentElement,i=o(r),{top:u.top+i.pageYOffset-t.clientTop,left:u.left+i.pageXOffset-t.clientLeft}}function o(n){return null!=n&&n===n.window?n:9===n.nodeType&&n.defaultView}function s(n,t,i){var r="width"===t?n.offsetWidth:n.offsetHeight,u=window.getComputedStyle(n,null);if(0>=r||null==r){if(r=u[t],(0>r||null==r)&&(r=n.style[t]),v.test(r))return r;r=parseFloat(r)||0}return r+e(n,t,i||"content",!0,u)}function h(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t].length)return!1;return!0}function c(n,t,i,r,u){for(var e,h,c,o=u?[].concat(n):[],f=0,s=n.length;f<n.length;f++)for(h=i?i(n[f]):n[f],e=0;e<t.length;e++)if(c=r?r(t[e]):t[e],angular.equals(h,c,n,t,f,e)){u?o.splice(f+o.length-s,1):o.push(t[e]);break}return o}function l(n,t,i,r){var u={};return n.split(".").reduce(function(n,i,r,u){return n[i]=r<u.length-1?{}:t},u),r(i,u)}var a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,v=new RegExp("^("+a+")(?!px)[a-z%]+$","i");return{contains:i,bindFocusBlur:u,scrollActiveOption:f,groupsIsEmpty:h,getValue:l,intersection:c}}]);angular.module("oi.select").directive("oiSelect",["$document","$q","$timeout","$parse","$interpolate","$injector","$filter","$animate","oiUtils","oiSelect",function(n,t,i,r,u,f,e,o,s,h){var c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,l=/([^\(\)\s\|\s]*)\s*(\(.*\))?\s*(\|?\s*.+)?/;return{restrict:"AE",templateUrl:"src/template.html",require:"ngModel",scope:{},compile:function(n,a){var ht=a.oiOptions,v=ht?ht.match(c):["","i","","","","i","","",""];if(!v)throw new Error("Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'");var d=/ as /.test(v[0])&&v[1],g=v[2]||v[1],p=v[5]||v[7],w=v[6],nt=v[3]||"",tt=v[4]||"",ct=v[9]||g,ft=v[8].match(l),lt=p,wt=w;w&&(p="i",d=p+"."+(d||lt),ct=p+"."+w,g=p+"."+g,w=p+"."+w,nt=nt?p+"."+nt:void 0,tt=tt?p+"."+tt:void 0);var it,et,b,at,rt,y,ot,vt,st=ft[1],bt=st+(ft[3]||""),kt=st+(ft[2]||""),ut=d&&r(d),yt=r(g),dt=r(nt),gt=r(tt),ni=r(bt),ti=r(kt),ii=r(ct),ri=u(a.multiplePlaceholder||""),ui=u(a.listPlaceholder||""),fi=u(a.placeholder||""),pt=r(a.oiSelectOptions),k=angular.version.major<=1&&angular.version.minor<=3;return function(n,u,c,l){function ai(){kt&&u.removeClass("cleanMode");kt=!1}function vi(n,t){t=t||150;u.addClass(n);i(function(){u.removeClass(n)},t)}function ci(){n.listItemHide=!0;n.inputHide=!1}function ei(){var t=tt(l.$modelValue);n.listItemHide=!t;n.inputHide=t}function yi(t){n.query.length<a.minlength||s.contains(u[0],t.target,"disabled")||n.output.length>=ot&&s.contains(u[0],t.target,"select-dropdown")||(n.inputHide&&n.removeItem(0),!n.isOpen||!a.closeList||"INPUT"===t.target.nodeName&&n.query.length?si(n.query):(d({query:a.editItem&&!kt}),n.$evalAsync()))}function cr(){n.isFocused||(n.isFocused=!0,c.disabled||(n.backspaceFocus=!1))}function lr(){n.isFocused=!1;y||ei();ht("blur")||d();n.$evalAsync()}function ht(r,u){u||(u=r,r=n.query);var e,o=a.saveTrigger.split(" ").indexOf(u)+1,s=a.newItem&&r,f="blur"!==u?n.order[n.selectorPosition]:null;if(o&&(s||f&&!wi(f)))return(n.showLoader=!0,e=t.when(f||vt(n.$parent,{$query:r})),e.then(function(r){if(void 0===r)return t.reject();n.addItem(r);var u=n.order.length-1;n.selectorPosition===u&&bt(ft,0);a.newItemFn&&!f||i(angular.noop);d()}).catch(function(){vi("invalid-item");n.showLoader=!1}),!0)}function ar(){var n=y&&tt(l.$modelValue)?br:wr;nt.attr("placeholder",n)}function oi(t){return s.getValue(p,t,n.$parent,ii)}function pi(t){return s.getValue(p,t,n.$parent,ut)}function ct(t){return s.getValue(p,t,n.$parent,yt)}function wi(t){return n.isEmptyList||s.getValue(p,t,n.$parent,gt)}function li(t){return s.getValue(p,t,n.$parent,dt)||""}function vr(t){return s.getValue(st,t,n.$parent,ni)}function bi(n){return n=n instanceof Array?n:n?[n]:[],n.filter(function(n){return void 0!==n&&(n instanceof Array&&n.length||ut||ct(n))})}function tt(n){return!!bi(n).length}function si(r,f){return n.isEmptyList=!1,b&&hi&&i.cancel(b),b=i(function(){var e=ti(n.$parent,{$query:r,$selectedAs:f})||"";return n.selectorPosition="prompt"===a.newItem?!1:0,r||f||(n.oldQuery=null),(e.$promise&&!e.$resolved||angular.isFunction(e.then))&&(hi=a.debounce),n.showLoader=!0,t.when(e.$promise||e).then(function(t){var i,o;if((n.groups={},t&&w)&&(i=[],angular.forEach(t,function(n,t){if("$"!==t.toString().charAt(0)){var r={};r[wt]=t;r[lt]=n;i.push(r)}}),t=i),t&&!f){var h=y?n.output:[],c=fr(t,r,ct,er(n.$parent),u),l=s.intersection(c,h,oi,oi,!0),e=vr(l);!e.length&&(n.isEmptyList=!0,ki)&&(o={},yt.assign(o,ki),e=[o[p]]);n.groups=pr(e)}return yr(),t}).finally(function(){n.showLoader=!1;a.closeList&&!a.cleanModel&&i(function(){bt(ft,0)})})},hi)}function yr(){var i,t,u,r=[],f=0;n.order=[];n.groupPos={};for(t in n.groups)n.groups.hasOwnProperty(t)&&"$"!=t.charAt(0)&&r.push(t);for(k&&r.sort(),i=0;i<r.length;i++)t=r[i],u=n.groups[t],n.order=n.order.concat(u),n.groupPos[t]=f,f+=u.length}function d(t){t=t||{};n.oldQuery=null;n.backspaceFocus=!1;n.groups={};n.order=[];n.showLoader=!1;n.isOpen=!1;hi=0;t.query||(n.query="");b&&i.cancel(b)}function bt(t,i){n.selectorPosition=i;s.scrollActiveOption(t[0],t.find("li")[i])}function pr(n){for(var i,r,u={"":[]},t=0;t<n.length;t++)i=li(n[t]),(r=u[i])||(r=u[i]=[]),r.push(n[t]);return u}var gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr;l.$isEmpty=function(n){return!tt(n)};var nt=u.find("input"),ft=angular.element(u[0].querySelector(".select-dropdown")),wr=fi(n),br=ri(n),ki=ui(n),di=pt(n.$parent)||{},a=angular.extend({cleanModel:"prompt"===di.newItem},h.options,di),g=a.editItem,kt="correct"===g,hi=0;(g===!0||"correct"===g)&&(g="oiSelectEditItem");gi=g?f.get(g):angular.noop;nr=r(a.removeItemFn);v=a.searchFilter.split(":");tr=e(v[0]);ir=r(v[1]);v=a.dropdownFilter.split(":");rr=e(v[0]);ur=r(v[1]);v=a.listFilter.split(":");fr=e(v[0]);er=r(v[1]);v=a.groupFilter.split(":");or=e(v[0]);sr=r(v[1]);vt=a.newItemFn?r(a.newItemFn):function(n,t){return(pt(t)||{}).newItemModel||t.$query};a.cleanModel&&(!g||kt)&&u.addClass("cleanMode");hr=s.bindFocusBlur(u,nt);angular.isDefined(c.autofocus)&&i(function(){nt[0].focus()});angular.isDefined(c.readonly)&&nt.attr("readonly",!0);angular.isDefined(c.tabindex)&&(nt.attr("tabindex",c.tabindex),u[0].removeAttribute("tabindex"));a.maxlength&&nt.attr("maxlength",a.maxlength);c.$observe("disabled",function(t){nt.prop("disabled",t);y&&l.$modelValue&&l.$modelValue.length&&(n.inputHide=t)});n.$on("$destroy",hr);n.$parent.$watch(c.multipleLimit,function(n){ot=Number(n)||1/0});n.$parent.$watch(c.multiple,function(n){y=void 0===n?angular.isDefined(c.multiple):n;u[y?"addClass":"removeClass"]("multiple")});n.$parent.$watch(c.ngModel,function(i,r){var u=bi(i),f=t.when(u);ar();tt(r)&&i!==r&&ai();y||ei();ut&&tt(i)&&(f=si(null,i).then(function(n){return s.intersection(u,n,null,pi)}),b=null);y&&c.disabled&&!tt(i)&&(n.inputHide=!1);f.then(function(t){n.output=t;t.length!==u.length&&n.removeItem(t.length)})});n.$watch("query",function(t,i){ht(t.slice(0,-1),t.slice(-1))||String(t).length<a.minlength||(t===i||n.oldQuery&&!t||et||(ft[0].scrollTop=0,t?(si(t),n.oldQuery=null):y&&(d(),et=!0)),et=!1)});n.$watch("groups",function(t){s.groupsIsEmpty(t)?n.isOpen=!1:n.isOpen||c.disabled||(n.isOpen=!0,n.isFocused=!0)});n.$watch("isFocused",function(n){o[n?"addClass":"removeClass"](u,"focused",!k&&{tempClasses:"focused-animate"})});n.$watch("isOpen",function(n){o[n?"addClass":"removeClass"](u,"open",!k&&{tempClasses:"open-animate"})});n.$watch("isEmptyList",function(n){o[n?"addClass":"removeClass"](u,"emptyList",!k&&{tempClasses:"emptyList-animate"})});n.$watch("showLoader",function(n){o[n?"addClass":"removeClass"](u,"loading",!k&&{tempClasses:"loading-animate"})});n.addItem=function(t){if(at=n.query,!y||!s.intersection(n.output,[t],oi,oi).length){if(n.output.length>=ot)return void vi("limited");var r=n.groups[li(t)]=n.groups[li(t)]||[],i=ut?pi(t):t;r.splice(r.indexOf(t),1);y?l.$setViewValue(angular.isArray(l.$modelValue)?l.$modelValue.concat(i):[i]):(l.$setViewValue(i),ei());s.groupsIsEmpty(n.groups)&&(n.groups={});y||a.closeList||d({query:!0});ai();n.oldQuery=n.oldQuery||n.query;n.query="";n.backspaceFocus=!1}};n.removeItem=function(i){c.disabled||y&&0>i||(rt=y?l.$modelValue[i]:l.$modelValue,t.when(nr(n.$parent,{$item:rt})).then(function(){(y||n.inputHide)&&(y?(l.$modelValue.splice(i,1),l.$setViewValue([].concat(l.$modelValue))):(ci(),a.cleanModel&&l.$setViewValue(void 0)),(y||!n.backspaceFocus)&&(n.query=gi(rt,at,ct,kt,u)||""),y&&a.closeList&&d({query:!0}))}))};n.setSelection=function(t){it||n.selectorPosition===t?it=!1:bt(ft,t)};n.keyUp=function(t){switch(t.keyCode){case 8:n.query.length||y&&n.output.length||d()}};n.keyDown=function(t){var i=0,r=n.order.length-1;switch(t.keyCode){case 38:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i;bt(ft,n.selectorPosition===i?r:n.selectorPosition-1);it=!0;break;case 40:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i-1;bt(ft,n.selectorPosition===r?i:n.selectorPosition+1);it=!0;n.query.length||n.isOpen||si();n.inputHide&&ci();break;case 37:case 39:break;case 9:ht("tab");break;case 13:ht("enter");t.preventDefault();break;case 32:ht("space");break;case 27:y||(ei(),a.cleanModel&&l.$setViewValue(rt));d();break;case 8:if(!n.query.length){if((!y||g)&&(n.backspaceFocus=!0),n.backspaceFocus&&n.output&&(!y||n.output.length)){n.removeItem(n.output.length-1);g&&t.preventDefault();break}n.backspaceFocus=!n.backspaceFocus;break}default:return n.inputHide&&ci(),n.backspaceFocus=!1,!1}};n.getSearchLabel=function(t){var i=ct(t);return tr(i,n.oldQuery||n.query,t,ir(n.$parent),u)};n.getDropdownLabel=function(t){var i=ct(t);return rr(i,n.oldQuery||n.query,t,ur(n.$parent),u)};n.getGroupLabel=function(t,i){return or(t,n.oldQuery||n.query,i,sr(n.$parent),u)};n.getDisableWhen=wi;d();u[0].addEventListener("click",yi,!0);n.$on("$destroy",function(){u[0].removeEventListener("click",yi,!0)});u.on("focus",cr);u.on("blur",lr)}}}}]);angular.module("oi.select").filter("oiSelectGroup",["$sce",function(n){return function(t){return n.trustAsHtml(t)}}]).filter("oiSelectCloseIcon",["$sce",function(n){return function(t){return n.trustAsHtml(t+'<span class="close select-search-list-item_selection-remove">×<\/span>')}}]).filter("oiSelectHighlight",["$sce","oiSelectEscape",function(n,t){return function(i,r){var u;return r.length>0||angular.isNumber(r)?(i=i.toString(),r=t(r),u=i.replace(new RegExp(r,"gi"),"<strong>$&<\/strong>")):u=i,n.trustAsHtml(u)}}]).filter("oiSelectAscSort",["oiSelectEscape",function(n){function t(t,i,r,u){var f,e,s,o,h=[],c=[],l=[],a=[];if(i){for(i=n(i).toLocaleLowerCase(),f=0,s=!1;f<t.length;f++){if(s=r(t[f]).toLocaleLowerCase().match(new RegExp(i)),!s&&u&&(u.length||u.fields))for(e=0;e<u.length&&!s;e++)s=String(t[f][u[e]]).toLocaleLowerCase().match(new RegExp(i));s&&h.push(t[f])}for(f=0;f<h.length;f++)r(h[f]).toLocaleLowerCase().match(new RegExp("^"+i))?c.push(h[f]):l.push(h[f]);if(o=c.concat(l),u&&(u===!0||u.all)){n:for(f=0;f<t.length;f++){for(e=0;e<o.length;e++)if(t[f]===o[e])continue n;a.push(t[f])}o=o.concat(a)}}else o=[].concat(t);return o}return t}]).filter("none",function(){return function(n){return n}});angular.module("oi.select",[]);angular.module("oi.select").provider("oiSelect",function(){return{options:{debounce:500,searchFilter:"oiSelectCloseIcon",dropdownFilter:"oiSelectHighlight",listFilter:"oiSelectAscSort",groupFilter:"oiSelectGroup",editItem:!1,newItem:!1,closeList:!0,saveTrigger:"enter tab blur",minlength:0},version:{full:"0.2.21",major:0,minor:2,dot:21},$get:function(){return{options:this.options,version:this.version}}}}).factory("oiSelectEscape",function(){var n=/[-\/\\^$*+?.()|[\]{}]/g,t="\\$&";return function(i){return String(i).replace(n,t)}}).factory("oiSelectEditItem",function(){return function(n,t,i,r){return r?"":i(n)}}).factory("oiUtils",["$document","$timeout",function(n,t){function i(n,t,i){for(var r=t;r&&r.ownerDocument&&11!==r.nodeType;){if(i){if(r===n)return!1;if(r.className.indexOf(i)>=0)return!0}else if(r===n)return!0;r=r.parentNode}return!1}function u(r,u){function e(n){if(!n||"INPUT"===n.target.nodeName)return(s=!1,o?void(s=!0):void t(function(){r.triggerHandler("blur")}))}function h(){f||(f=!0,t(function(){r.triggerHandler("focus")}))}function c(){o=!0}function l(n){o=!1;var c=n.target,h=i(r[0],c);s&&!h&&e();h&&"INPUT"!==c.nodeName&&t(function(){u[0].focus()});!h&&f&&(f=!1)}var f,o,s;return n[0].addEventListener("click",l,!0),r[0].addEventListener("mousedown",c,!0),r[0].addEventListener("blur",e,!0),u.on("focus",h),function(){n[0].removeEventListener("click",l,!0);r[0].removeEventListener("mousedown",c,!0);r[0].removeEventListener("blur",e,!0);u.off("focus",h)}}function f(n,t){var i,f,e,u,o,h;t&&(f=n.offsetHeight,e=s(t,"height","margin"),u=n.scrollTop||0,i=r(t).top-r(n).top+u,o=i,h=i-f+e,i+e>f+u?n.scrollTop=h:u>i&&(n.scrollTop=o))}function e(n,t,i,r,u){function o(n){return parseFloat(u[n])}for(var f=i===(r?"border":"content")?4:"width"===t?1:0,e=0,s=["Top","Right","Bottom","Left"];4>f;f+=2)"margin"===i&&(e+=o(i+s[f])),r?("content"===i&&(e-=o("padding"+s[f])),"margin"!==i&&(e-=o("border"+s[f]+"Width"))):(e+=o("padding"+s[f]),"padding"!==i&&(e+=o("border"+s[f]+"Width")));return e}function r(n){var t,i,u=n.getBoundingClientRect(),r=n&&n.ownerDocument;if(r)return t=r.documentElement,i=o(r),{top:u.top+i.pageYOffset-t.clientTop,left:u.left+i.pageXOffset-t.clientLeft}}function o(n){return null!=n&&n===n.window?n:9===n.nodeType&&n.defaultView}function s(n,t,i){var r="width"===t?n.offsetWidth:n.offsetHeight,u=window.getComputedStyle(n,null);if(0>=r||null==r){if(r=u[t],(0>r||null==r)&&(r=n.style[t]),v.test(r))return r;r=parseFloat(r)||0}return r+e(n,t,i||"content",!0,u)}function h(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t].length)return!1;return!0}function c(n,t,i,r,u){for(var e,h,c,o=u?[].concat(n):[],f=0,s=n.length;f<n.length;f++)for(h=i?i(n[f]):n[f],e=0;e<t.length;e++)if(c=r?r(t[e]):t[e],angular.equals(h,c,n,t,f,e)){u?o.splice(f+o.length-s,1):o.push(t[e]);break}return o}function l(n,t,i,r){var u={};return n.split(".").reduce(function(n,i,r,u){return n[i]=r<u.length-1?{}:t},u),r(i,u)}var a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,v=new RegExp("^("+a+")(?!px)[a-z%]+$","i");return{contains:i,bindFocusBlur:u,scrollActiveOption:f,groupsIsEmpty:h,getValue:l,intersection:c}}]);angular.module("oi.select").directive("oiSelect",["$document","$q","$timeout","$parse","$interpolate","$injector","$filter","$animate","oiUtils","oiSelect",function(n,t,i,r,u,f,e,o,s,h){var c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,l=/([^\(\)\s\|\s]*)\s*(\(.*\))?\s*(\|?\s*.+)?/;return{restrict:"AE",templateUrl:"src/template.html",require:"ngModel",scope:{},compile:function(n,a){var ht=a.oiOptions,v=ht?ht.match(c):["","i","","","","i","","",""];if(!v)throw new Error("Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'");var d=/ as /.test(v[0])&&v[1],g=v[2]||v[1],p=v[5]||v[7],w=v[6],nt=v[3]||"",tt=v[4]||"",ct=v[9]||g,ft=v[8].match(l),lt=p,wt=w;w&&(p="i",d=p+"."+(d||lt),ct=p+"."+w,g=p+"."+g,w=p+"."+w,nt=nt?p+"."+nt:void 0,tt=tt?p+"."+tt:void 0);var it,et,b,at,rt,y,ot,vt,st=ft[1],bt=st+(ft[3]||""),kt=st+(ft[2]||""),ut=d&&r(d),yt=r(g),dt=r(nt),gt=r(tt),ni=r(bt),ti=r(kt),ii=r(ct),ri=u(a.multiplePlaceholder||""),ui=u(a.listPlaceholder||""),fi=u(a.placeholder||""),pt=r(a.oiSelectOptions),k=angular.version.major<=1&&angular.version.minor<=3;return function(n,u,c,l){function ai(){kt&&u.removeClass("cleanMode");kt=!1}function vi(n,t){t=t||150;u.addClass(n);i(function(){u.removeClass(n)},t)}function ci(){n.listItemHide=!0;n.inputHide=!1}function ei(){var t=tt(l.$modelValue);n.listItemHide=!t;n.inputHide=t}function yi(t){n.query.length<a.minlength||s.contains(u[0],t.target,"disabled")||n.output.length>=ot&&s.contains(u[0],t.target,"select-dropdown")||(n.inputHide&&n.removeItem(0),!n.isOpen||!a.closeList||"INPUT"===t.target.nodeName&&n.query.length?si(n.query):(d({query:a.editItem&&!kt}),n.$evalAsync()))}function cr(){n.isFocused||(n.isFocused=!0,c.disabled||(n.backspaceFocus=!1))}function lr(){n.isFocused=!1;y||ei();ht("blur")||d();n.$evalAsync()}function ht(r,u){u||(u=r,r=n.query);var e,o=a.saveTrigger.split(" ").indexOf(u)+1,s=a.newItem&&r,f="blur"!==u?n.order[n.selectorPosition]:null;if(o&&(s||f&&!wi(f)))return(n.showLoader=!0,e=t.when(f||vt(n.$parent,{$query:r})),e.then(function(r){if(void 0===r)return t.reject();n.addItem(r);var u=n.order.length-1;n.selectorPosition===u&&bt(ft,0);a.newItemFn&&!f||i(angular.noop);d()}).catch(function(){vi("invalid-item");n.showLoader=!1}),!0)}function ar(){var n=y&&tt(l.$modelValue)?br:wr;nt.attr("placeholder",n)}function oi(t){return s.getValue(p,t,n.$parent,ii)}function pi(t){return s.getValue(p,t,n.$parent,ut)}function ct(t){return s.getValue(p,t,n.$parent,yt)}function wi(t){return n.isEmptyList||s.getValue(p,t,n.$parent,gt)}function li(t){return s.getValue(p,t,n.$parent,dt)||""}function vr(t){return s.getValue(st,t,n.$parent,ni)}function bi(n){return n=n instanceof Array?n:n?[n]:[],n.filter(function(n){return void 0!==n&&(n instanceof Array&&n.length||ut||ct(n))})}function tt(n){return!!bi(n).length}function si(r,f){return n.isEmptyList=!1,b&&hi&&i.cancel(b),b=i(function(){var e=ti(n.$parent,{$query:r,$selectedAs:f})||"";return n.selectorPosition="prompt"===a.newItem?!1:0,r||f||(n.oldQuery=null),(e.$promise&&!e.$resolved||angular.isFunction(e.then))&&(hi=a.debounce),n.showLoader=!0,t.when(e.$promise||e).then(function(t){var i,o;if((n.groups={},t&&w)&&(i=[],angular.forEach(t,function(n,t){if("$"!==t.toString().charAt(0)){var r={};r[wt]=t;r[lt]=n;i.push(r)}}),t=i),t&&!f){var h=y?n.output:[],c=fr(t,r,ct,er(n.$parent),u),l=s.intersection(c,h,oi,oi,!0),e=vr(l);!e.length&&(n.isEmptyList=!0,ki)&&(o={},yt.assign(o,ki),e=[o[p]]);n.groups=pr(e)}return yr(),t}).finally(function(){n.showLoader=!1;a.closeList&&!a.cleanModel&&i(function(){bt(ft,0)})})},hi)}function yr(){var i,t,u,r=[],f=0;n.order=[];n.groupPos={};for(t in n.groups)n.groups.hasOwnProperty(t)&&"$"!=t.charAt(0)&&r.push(t);for(k&&r.sort(),i=0;i<r.length;i++)t=r[i],u=n.groups[t],n.order=n.order.concat(u),n.groupPos[t]=f,f+=u.length}function d(t){t=t||{};n.oldQuery=null;n.backspaceFocus=!1;n.groups={};n.order=[];n.showLoader=!1;n.isOpen=!1;hi=0;t.query||(n.query="");b&&i.cancel(b)}function bt(t,i){n.selectorPosition=i;s.scrollActiveOption(t[0],t.find("li")[i])}function pr(n){for(var i,r,u={"":[]},t=0;t<n.length;t++)i=li(n[t]),(r=u[i])||(r=u[i]=[]),r.push(n[t]);return u}var gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr;l.$isEmpty=function(n){return!tt(n)};var nt=u.find("input"),ft=angular.element(u[0].querySelector(".select-dropdown")),wr=fi(n),br=ri(n),ki=ui(n),di=pt(n.$parent)||{},a=angular.extend({cleanModel:"prompt"===di.newItem},h.options,di),g=a.editItem,kt="correct"===g,hi=0;(g===!0||"correct"===g)&&(g="oiSelectEditItem");gi=g?f.get(g):angular.noop;nr=r(a.removeItemFn);v=a.searchFilter.split(":");tr=e(v[0]);ir=r(v[1]);v=a.dropdownFilter.split(":");rr=e(v[0]);ur=r(v[1]);v=a.listFilter.split(":");fr=e(v[0]);er=r(v[1]);v=a.groupFilter.split(":");or=e(v[0]);sr=r(v[1]);vt=a.newItemFn?r(a.newItemFn):function(n,t){return(pt(t)||{}).newItemModel||t.$query};a.cleanModel&&(!g||kt)&&u.addClass("cleanMode");hr=s.bindFocusBlur(u,nt);angular.isDefined(c.autofocus)&&i(function(){nt[0].focus()});angular.isDefined(c.readonly)&&nt.attr("readonly",!0);angular.isDefined(c.tabindex)&&(nt.attr("tabindex",c.tabindex),u[0].removeAttribute("tabindex"));a.maxlength&&nt.attr("maxlength",a.maxlength);c.$observe("disabled",function(t){nt.prop("disabled",t);y&&l.$modelValue&&l.$modelValue.length&&(n.inputHide=t)});n.$on("$destroy",hr);n.$parent.$watch(c.multipleLimit,function(n){ot=Number(n)||1/0});n.$parent.$watch(c.multiple,function(n){y=void 0===n?angular.isDefined(c.multiple):n;u[y?"addClass":"removeClass"]("multiple")});n.$parent.$watch(c.ngModel,function(i,r){var u=bi(i),f=t.when(u);ar();tt(r)&&i!==r&&ai();y||ei();ut&&tt(i)&&(f=si(null,i).then(function(n){return s.intersection(u,n,null,pi)}),b=null);y&&c.disabled&&!tt(i)&&(n.inputHide=!1);f.then(function(t){n.output=t;t.length!==u.length&&n.removeItem(t.length)})});n.$watch("query",function(t,i){ht(t.slice(0,-1),t.slice(-1))||String(t).length<a.minlength||(t===i||n.oldQuery&&!t||et||(ft[0].scrollTop=0,t?(si(t),n.oldQuery=null):y&&(d(),et=!0)),et=!1)});n.$watch("groups",function(t){s.groupsIsEmpty(t)?n.isOpen=!1:n.isOpen||c.disabled||(n.isOpen=!0,n.isFocused=!0)});n.$watch("isFocused",function(n){o[n?"addClass":"removeClass"](u,"focused",!k&&{tempClasses:"focused-animate"})});n.$watch("isOpen",function(n){o[n?"addClass":"removeClass"](u,"open",!k&&{tempClasses:"open-animate"})});n.$watch("isEmptyList",function(n){o[n?"addClass":"removeClass"](u,"emptyList",!k&&{tempClasses:"emptyList-animate"})});n.$watch("showLoader",function(n){o[n?"addClass":"removeClass"](u,"loading",!k&&{tempClasses:"loading-animate"})});n.addItem=function(t){if(at=n.query,!y||!s.intersection(n.output,[t],oi,oi).length){if(n.output.length>=ot)return void vi("limited");var r=n.groups[li(t)]=n.groups[li(t)]||[],i=ut?pi(t):t;r.splice(r.indexOf(t),1);y?l.$setViewValue(angular.isArray(l.$modelValue)?l.$modelValue.concat(i):[i]):(l.$setViewValue(i),ei());s.groupsIsEmpty(n.groups)&&(n.groups={});y||a.closeList||d({query:!0});ai();n.oldQuery=n.oldQuery||n.query;n.query="";n.backspaceFocus=!1}};n.removeItem=function(i){c.disabled||y&&0>i||(rt=y?l.$modelValue[i]:l.$modelValue,t.when(nr(n.$parent,{$item:rt})).then(function(){(y||n.inputHide)&&(y?(l.$modelValue.splice(i,1),l.$setViewValue([].concat(l.$modelValue))):(ci(),a.cleanModel&&l.$setViewValue(void 0)),(y||!n.backspaceFocus)&&(n.query=gi(rt,at,ct,kt,u)||""),y&&a.closeList&&d({query:!0}))}))};n.setSelection=function(t){it||n.selectorPosition===t?it=!1:bt(ft,t)};n.keyUp=function(t){switch(t.keyCode){case 8:n.query.length||y&&n.output.length||d()}};n.keyDown=function(t){var i=0,r=n.order.length-1;switch(t.keyCode){case 38:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i;bt(ft,n.selectorPosition===i?r:n.selectorPosition-1);it=!0;break;case 40:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i-1;bt(ft,n.selectorPosition===r?i:n.selectorPosition+1);it=!0;n.query.length||n.isOpen||si();n.inputHide&&ci();break;case 37:case 39:break;case 9:ht("tab");break;case 13:ht("enter");t.preventDefault();break;case 32:ht("space");break;case 27:y||(ei(),a.cleanModel&&l.$setViewValue(rt));d();break;case 8:if(!n.query.length){if((!y||g)&&(n.backspaceFocus=!0),n.backspaceFocus&&n.output&&(!y||n.output.length)){n.removeItem(n.output.length-1);g&&t.preventDefault();break}n.backspaceFocus=!n.backspaceFocus;break}default:return n.inputHide&&ci(),n.backspaceFocus=!1,!1}};n.getSearchLabel=function(t){var i=ct(t);return tr(i,n.oldQuery||n.query,t,ir(n.$parent),u)};n.getDropdownLabel=function(t){var i=ct(t);return rr(i,n.oldQuery||n.query,t,ur(n.$parent),u)};n.getGroupLabel=function(t,i){return or(t,n.oldQuery||n.query,i,sr(n.$parent),u)};n.getDisableWhen=wi;d();u[0].addEventListener("click",yi,!0);n.$on("$destroy",function(){u[0].removeEventListener("click",yi,!0)});u.on("focus",cr);u.on("blur",lr)}}}}]);angular.module("oi.select").filter("oiSelectGroup",["$sce",function(n){return function(t){return n.trustAsHtml(t)}}]).filter("oiSelectCloseIcon",["$sce",function(n){return function(t){return n.trustAsHtml(t+'<span class="close select-search-list-item_selection-remove">×<\/span>')}}]).filter("oiSelectHighlight",["$sce","oiSelectEscape",function(n,t){return function(i,r){var u;return r.length>0||angular.isNumber(r)?(i=i.toString(),r=t(r),u=i.replace(new RegExp(r,"gi"),"<strong>$&<\/strong>")):u=i,n.trustAsHtml(u)}}]).filter("oiSelectAscSort",["oiSelectEscape",function(n){function t(t,i,r,u){var f,e,s,o,h=[],c=[],l=[],a=[];if(i){for(i=n(i).toLocaleLowerCase(),f=0,s=!1;f<t.length;f++){if(s=r(t[f]).toLocaleLowerCase().match(new RegExp(i)),!s&&u&&(u.length||u.fields))for(e=0;e<u.length&&!s;e++)s=String(t[f][u[e]]).toLocaleLowerCase().match(new RegExp(i));s&&h.push(t[f])}for(f=0;f<h.length;f++)r(h[f]).toLocaleLowerCase().match(new RegExp("^"+i))?c.push(h[f]):l.push(h[f]);if(o=c.concat(l),u&&(u===!0||u.all)){n:for(f=0;f<t.length;f++){for(e=0;e<o.length;e++)if(t[f]===o[e])continue n;a.push(t[f])}o=o.concat(a)}}else o=[].concat(t);return o}return t}]).filter("none",function(){return function(n){return n}});angular.module("oi.select").run(["$templateCache",function(n){n.put("src/template.html",'<div class=select-search><ul class=select-search-list><li class="btn btn-default btn-xs select-search-list-item select-search-list-item_selection" ng-hide=listItemHide ng-repeat="item in output track by $index" ng-class="{focused: backspaceFocus && $last}" ng-click=removeItem($index) ng-bind-html=getSearchLabel(item)><\/li><li class="select-search-list-item select-search-list-item_input" ng-class="{\'select-search-list-item_hide\': inputHide}"><input autocomplete=off ng-model=query ng-keyup=keyUp($event) ng-keydown=keyDown($event)><\/li><li class="select-search-list-item select-search-list-item_loader" ng-show=showLoader><\/li><\/ul><\/div><div class=select-dropdown ng-show=isOpen><ul ng-if=isOpen class=select-dropdown-optgroup ng-repeat="(group, options) in groups"><div class=select-dropdown-optgroup-header ng-if="group && options.length" ng-bind-html="getGroupLabel(group, options)"><\/div><li class=select-dropdown-optgroup-option ng-init="isDisabled = getDisableWhen(option)" ng-repeat="option in options" ng-class="{\'active\': selectorPosition === groupPos[group] + $index, \'disabled\': isDisabled, \'ungroup\': !group}" ng-click="isDisabled || addItem(option)" ng-mouseenter="setSelection(groupPos[group] + $index)" ng-bind-html=getDropdownLabel(option)><\/li><\/ul><\/div>')}]);!function(n,t){"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&"object"==typeof exports?module.exports=n():t.rangy=n()}(function(){function t(n,t){var i=typeof n[t];return i==at||!(i!=st||!n[t])||"unknown"==i}function y(n,t){return!(typeof n[t]!=st||!n[t])}function g(n,t){return typeof n[t]!=f}function p(n){return function(t,i){for(var r=i.length;r--;)if(!n(t,i[r]))return!1;return!0}}function nt(n){return n&&b(n,wt)&&k(n,pt)}function tt(n){return y(n,"body")?n.body:n.getElementsByTagName("body")[0]}function o(n){typeof console!=f&&t(console,"log")&&console.log(n)}function it(n,t){i&&t?alert(n):o(n)}function u(t){n.initialized=!0;n.supported=!1;it("Rangy is not supported in this environment. Reason: "+t,n.config.alertOnFail)}function ht(t){it("Rangy warning: "+t,n.config.alertOnWarn)}function rt(n){return n.message||n.description||String(n)}function w(){var f,h,c,r,v,y,p,a,w;if(i&&!n.initialized){if(h=!1,c=!1,t(document,"createRange")&&(f=document.createRange(),b(f,yt)&&k(f,vt)&&(h=!0)),r=tt(document),!r||"body"!=r.nodeName.toLowerCase())return void u("No body element found");if(r&&t(r,"createTextRange")&&(f=r.createTextRange(),nt(f)&&(c=!0)),!h&&!c)return void u("Neither Range nor TextRange are available");n.initialized=!0;n.features={implementsDomRange:h,implementsTextRange:c};for(p in e)(v=e[p])instanceof s&&v.init(v,n);for(a=0,w=l.length;a<w;++a)try{l[a](n)}catch(t){y="Rangy init listener threw an exception. Continuing. Detail: "+rt(t);o(y)}}}function ut(t,i,r){r&&(t+=" in module "+r.name);n.warn("DEPRECATED: "+t+" is deprecated. Please use "+i+" instead.")}function ft(n,t,i,u){n[t]=function(){return ut(t,i,u),n[i].apply(n,r.toArray(arguments))}}function ct(n){n=n||window;w();for(var t=0,i=a.length;t<i;++t)a[t](n)}function s(n,t,i){this.name=n;this.dependencies=t;this.initialized=!1;this.supported=!1;this.initializer=i}function et(t,i,r){var u=new s(t,i,function(i){if(!i.initialized){i.initialized=!0;try{r(n,i);i.supported=!0}catch(i){var u="Module '"+t+"' failed to load: "+rt(i);o(u);i.stack&&o(i.stack)}}});return e[t]=u,u}function ot(){}function lt(){}var st="object",at="function",f="undefined",vt=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],yt=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],pt=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],wt=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],b=p(t),bt=p(y),k=p(g),kt=[].forEach?function(n,t){n.forEach(t)}:function(n,t){for(var i=0,r=n.length;i<r;++i)t(n[i],i)},e={},i=typeof window!=f&&typeof document!=f,r={isHostMethod:t,isHostObject:y,isHostProperty:g,areHostMethods:b,areHostObjects:bt,areHostProperties:k,isTextRange:nt,getBody:tt,forEach:kt},n={version:"1.3.0",initialized:!1,isBrowser:i,supported:!0,util:r,features:{},modules:e,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==f||rangyAutoInitialize}},h,c,l,a,d,v;return n.fail=u,n.warn=ht,{}.hasOwnProperty?(r.extend=h=function(n,t,i){var u,r;for(var f in t)t.hasOwnProperty(f)&&(u=n[f],r=t[f],i&&null!==u&&"object"==typeof u&&null!==r&&"object"==typeof r&&h(u,r,!0),n[f]=r);return t.hasOwnProperty("toString")&&(n.toString=t.toString),n},r.createOptions=function(n,t){var i={};return h(i,t),n&&h(i,n),i}):u("hasOwnProperty not supported"),i||u("Rangy can only run in a browser"),function(){var n,t,u;if(i){t=document.createElement("div");t.appendChild(document.createElement("span"));u=[].slice;try{1==u.call(t.childNodes,0)[0].nodeType&&(n=function(n){return u.call(n,0)})}catch(n){}}n||(n=function(n){for(var i=[],t=0,r=n.length;t<r;++t)i[t]=n[t];return i});r.toArray=n}(),i&&(t(document,"addEventListener")?c=function(n,t,i){n.addEventListener(t,i,!1)}:t(document,"attachEvent")?c=function(n,t,i){n.attachEvent("on"+t,i)}:u("Document does not have required addEventListener or attachEvent method"),r.addListener=c),l=[],r.deprecationNotice=ut,r.createAliasForDeprecatedMethod=ft,n.init=w,n.addInitListener=function(t){n.initialized?t(n):l.push(t)},a=[],n.addShimListener=function(n){a.push(n)},i&&(n.shim=n.createMissingNativeApi=ct,ft(n,"createMissingNativeApi","shim")),s.prototype={init:function(){for(var n,t,r=this.dependencies||[],i=0,u=r.length;i<u;++i){if(t=r[i],n=e[t],!(n&&n instanceof s))throw new Error("required module '"+t+"' not found");if(n.init(),!n.supported)throw new Error("required module '"+t+"' not supported");}this.initializer(this)},fail:function(n){throw this.initialized=!0,this.supported=!1,new Error(n);},warn:function(t){n.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,i){n.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+i+" instead")},createError:function(n){return new Error("Error in Rangy "+this.name+" module: "+n)}},n.createModule=function(t){var i,r,u;2==arguments.length?(i=arguments[1],r=[]):(i=arguments[2],r=arguments[1]);u=et(t,r,i);n.initialized&&n.supported&&u.init()},n.createCoreModule=function(n,t,i){et(n,t,i)},n.RangePrototype=ot,n.rangePrototype=new ot,n.selectionPrototype=new lt,n.createCoreModule("DomUtil",[],function(n,t){function ut(n){var t;return typeof n.namespaceURI==r||null===(t=n.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function ft(n){var t=n.parentNode;return 1==t.nodeType?t:null}function u(n){for(var t=0;n=n.previousSibling;)++t;return t}function et(n){switch(n.nodeType){case 7:case 10:return 0;case 3:case 8:return n.length;default:return n.childNodes.length}}function y(n,t){for(var r=[],i=n;i;i=i.parentNode)r.push(i);for(i=t;i;i=i.parentNode)if(a(r,i))return i;return null}function p(n,t,i){for(var r=i?t:t.parentNode;r;){if(r===n)return!0;r=r.parentNode}return!1}function ot(n,t){return p(n,t,!0)}function f(n,t,i){for(var u,r=i?n:n.parentNode;r;){if(u=r.parentNode,u===t)return r;r=u}return null}function w(n){var t=n.nodeType;return 3==t||4==t||8==t}function st(n){if(!n)return!1;var t=n.nodeType;return 3==t||8==t}function b(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n}function ht(n,t,i){var f=n.cloneNode(!1),r,e;if(f.deleteData(0,t),n.deleteData(t,n.length-t),b(f,n),i)for(e=0;r=i[e++];)r.node==n&&r.offset>t?(r.node=f,r.offset-=t):r.node==n.parentNode&&r.offset>u(n)&&++r.offset;return f}function e(n){if(9==n.nodeType)return n;if(typeof n.ownerDocument!=r)return n.ownerDocument;if(typeof n.document!=r)return n.document;if(n.parentNode)return e(n.parentNode);throw t.createError("getDocument: no document found for node");}function k(n){var i=e(n);if(typeof i.defaultView!=r)return i.defaultView;if(typeof i.parentWindow!=r)return i.parentWindow;throw t.createError("Cannot get a window object for node");}function d(n){if(typeof n.contentDocument!=r)return n.contentDocument;if(typeof n.contentWindow!=r)return n.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element");}function ct(n){if(typeof n.contentWindow!=r)return n.contentWindow;if(typeof n.contentDocument!=r)return n.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element");}function g(n){return n&&i.isHostMethod(n,"setTimeout")&&i.isHostObject(n,"document")}function lt(n,t,r){var u;if(n?i.isHostProperty(n,"nodeType")?u=1==n.nodeType&&"iframe"==n.tagName.toLowerCase()?d(n):e(n):g(n)&&(u=n.document):u=document,!u)throw t.createError(r+"(): Parameter must be a Window object or DOM node");return u}function at(n){for(var t;t=n.parentNode;)n=t;return n}function vt(n,i,r,e){var h,o,c,l,s;if(n==r)return i===e?0:i<e?-1:1;if(h=f(r,n,!0))return i<=u(h)?-1:1;if(h=f(n,r,!0))return u(h)<e?-1:1;if(o=y(n,r),!o)throw new Error("comparePoints error: nodes have no common ancestor");if(c=n===o?o:f(n,o,!0),l=r===o?o:f(r,o,!0),c===l)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(s=o.firstChild;s;){if(s===c)return-1;if(s===l)return 1;s=s.nextSibling}}function h(n){var t;try{return t=n.parentNode,!1}catch(n){return!0}}function nt(n){if(!n)return"[No node]";if(s&&h(n))return"[Broken node]";if(w(n))return'"'+n.data+'"';if(1==n.nodeType){var t=n.id?' id="'+n.id+'"':"";return"<"+n.nodeName+t+">[index:"+u(n)+",length:"+n.childNodes.length+"]["+(n.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return n.nodeName}function yt(n){for(var t,i=e(n).createDocumentFragment();t=n.firstChild;)i.appendChild(t);return i}function pt(n,t,i){var u=rt(n),r=n.createElement("div"),f;return r.contentEditable=""+!!i,t&&(r.innerHTML=t),f=u.firstChild,f?u.insertBefore(r,f):u.appendChild(r),r}function wt(n){return n.parentNode.removeChild(n)}function tt(n){this.root=n;this._next=n}function bt(n){return new tt(n)}function it(n,t){this.node=n;this.offset=t}function c(n){this.code=this[n];this.codeName=n;this.message="DOMException: "+this.codeName}var r="undefined",i=n.util,rt=i.getBody,o,l,a,s,v;i.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method");i.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");o=document.createElement("div");i.areHostMethods(o,["insertBefore","appendChild","cloneNode"]||!i.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation");i.isHostProperty(o,"innerHTML")||t.fail("Element is missing innerHTML property");l=document.createTextNode("test");i.areHostMethods(l,["splitText","deleteData","insertData","appendData","cloneNode"]||!i.areHostObjects(o,["previousSibling","nextSibling","childNodes","parentNode"])||!i.areHostProperties(l,["data"]))||t.fail("Incomplete Text Node implementation");a=function(n,t){for(var i=n.length;i--;)if(n[i]===t)return!0;return!1};s=!1;!function(){var t=document.createElement("b"),i;t.innerHTML="1";i=t.firstChild;t.innerHTML="<br />";s=h(i);n.features.crashyTextNodes=s}();typeof getComputedStyle!=r?v=function(n,t){return k(n).getComputedStyle(n,null)[t]}:typeof document.documentElement.currentStyle!=r?v=function(n,t){return n.currentStyle?n.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found");tt.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var i,t,n=this._current=this._next;if(this._current)if(i=n.firstChild)this._next=i;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}};it.prototype={equals:function(n){return!!n&&this.node===n.node&&this.offset==n.offset},inspect:function(){return"[DomPosition("+nt(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};c.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24};c.prototype.toString=function(){return this.message};n.dom={arrayContains:a,isHtmlNamespace:ut,parentElement:ft,getNodeIndex:u,getNodeLength:et,getCommonAncestor:y,isAncestorOf:p,isOrIsAncestorOf:ot,getClosestAncestorIn:f,isCharacterDataNode:w,isTextOrCommentNode:st,insertAfter:b,splitDataNode:ht,getDocument:e,getWindow:k,getIframeWindow:ct,getIframeDocument:d,getBody:rt,isWindow:g,getContentDocument:lt,getRootContainer:at,comparePoints:vt,isBrokenNode:h,inspectNode:nt,getComputedStyleProperty:v,createTestElement:pt,removeNode:wt,fragmentFromNodeChildren:yt,createIterator:bt,DomPosition:it};n.DOMException=c}),n.createCoreModule("DomRange",["DomUtil"],function(n){function a(n,t){return 3!=n.nodeType&&(p(n,t.startContainer)||p(n,t.endContainer))}function e(n){return n.document||it(n.startContainer)}function bi(n){return s(n.startContainer)}function ct(n){return new oi(n.parentNode,l(n))}function k(n){return new oi(n.parentNode,l(n)+1)}function lt(n,i,u){var f=11==n.nodeType?n.firstChild:n;return r(i)?u==i.length?t.insertAfter(n,i):i.parentNode.insertBefore(n,0==u?i:rt(i,u)):u>=i.childNodes.length?i.appendChild(n):i.insertBefore(n,i.childNodes[u]),f}function at(n,t,r){if(i(n),i(t),e(t)!=e(n))throw new f("WRONG_DOCUMENT_ERR");var o=u(n.startContainer,n.startOffset,t.endContainer,t.endOffset),s=u(n.endContainer,n.endOffset,t.startContainer,t.startOffset);return r?o<=0&&s>=0:o<0&&s>0}function vt(n){for(var i,t,r,u=e(n.range).createDocumentFragment();t=n.next();){if(i=n.isPartiallySelectedSubtree(),t=t.cloneNode(!i),i&&(r=n.getSubtreeIterator(),t.appendChild(vt(r)),r.detach()),10==t.nodeType)throw new f("HIERARCHY_REQUEST_ERR");u.appendChild(t)}return u}function b(n,i,r){var e,o,u,f;for(r=r||{stop:!1};u=n.next();)if(n.isPartiallySelectedSubtree()){if(i(u)===!1)return void(r.stop=!0);if(f=n.getSubtreeIterator(),b(f,i,r),f.detach(),r.stop)return}else for(e=t.createIterator(u);o=e.next();)if(i(o)===!1)return void(r.stop=!0)}function yt(n){for(var t;n.next();)n.isPartiallySelectedSubtree()?(t=n.getSubtreeIterator(),yt(t),t.detach()):n.remove()}function pt(n){for(var t,i,r=e(n.range).createDocumentFragment();t=n.next();){if(n.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=n.getSubtreeIterator(),t.appendChild(pt(i)),i.detach()):n.remove(),10==t.nodeType)throw new f("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function ki(n,t,i){var f,e=!(!t||!t.length),s=!!i,u;return e&&(f=new RegExp("^("+t.join("|")+")$")),u=[],b(new o(n,!1),function(t){var o,h;(!e||f.test(t.nodeType))&&(!s||i(t))&&(o=n.startContainer,t==o&&r(o)&&n.startOffset==o.length||(h=n.endContainer,t==h&&r(h)&&0==n.endOffset||u.push(t)))}),u}function wt(n){var i="undefined"==typeof n.getName?"Range":n.getName();return"["+i+"("+t.inspectNode(n.startContainer)+":"+n.startOffset+", "+t.inspectNode(n.endContainer)+":"+n.endOffset+")]"}function o(n,t){if(this.range=n,this.clonePartiallySelectedTextNodes=t,!n.collapsed){this.sc=n.startContainer;this.so=n.startOffset;this.ec=n.endContainer;this.eo=n.endOffset;var i=n.commonAncestorContainer;this.sc===this.ec&&r(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||r(this.sc)?ut(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||r(this.ec)?ut(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function d(n){return function(t,i){for(var u,r=i?t:t.parentNode;r;){if(u=r.nodeType,si(n,u))return r;r=r.parentNode}return null}}function v(n,t){if(rr(n,t))throw new f("INVALID_NODE_TYPE_ERR");}function y(n,t){if(!si(t,n.nodeType))throw new f("INVALID_NODE_TYPE_ERR");}function g(n,t){if(t<0||t>(r(n)?n.length:n.childNodes.length))throw new f("INDEX_SIZE_ERR");}function nt(n,t){if(ci(n,!0)!==ci(t,!0))throw new f("WRONG_DOCUMENT_ERR");}function h(n){if(ir(n,!0))throw new f("NO_MODIFICATION_ALLOWED_ERR");}function bt(n,t){if(!n)throw new f(t);}function kt(n,t){return t<=(r(n)?n.length:n.childNodes.length)}function dt(n){return!!n.startContainer&&!!n.endContainer&&!(di&&(t.isBrokenNode(n.startContainer)||t.isBrokenNode(n.endContainer)))&&s(n.startContainer)==s(n.endContainer)&&kt(n.startContainer,n.startOffset)&&kt(n.endContainer,n.endOffset)}function i(n){if(!dt(n))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+n.inspect()+")");}function gt(n,t){i(n);var u=n.startContainer,o=n.startOffset,f=n.endContainer,e=n.endOffset,s=u===f;r(f)&&e>0&&e<f.length&&rt(f,e,t);r(u)&&o>0&&o<u.length&&(u=rt(u,o,t),s?(e-=o,f=u):f==u.parentNode&&e>=l(u)&&e++,o=0);n.setStartAndEnd(u,o,f,e)}function ni(n){i(n);var t=n.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(n.cloneContents()),t.innerHTML}function ti(n){n.START_TO_START=st;n.START_TO_END=ai;n.END_TO_END=fr;n.END_TO_START=vi;n.NODE_BEFORE=yi;n.NODE_AFTER=pi;n.NODE_BEFORE_AND_AFTER=wi;n.NODE_INSIDE=ht}function ii(n){ti(n);ti(n.prototype)}function ri(n,t){return function(){var l;i(this);var s,f,r=this.startContainer,e=this.startOffset,c=this.commonAncestorContainer,u=new o(this,!0);return r!==c&&(s=ut(r,c,!0),f=k(s),r=f.node,e=f.offset),b(u,h),u.reset(),l=n(u),u.detach(),t(this,r,e,r,e),l}}function ui(t,f){function e(n,t){return function(i){y(i,hi);y(s(i),gi);var r=(n?ct:k)(i);(t?c:p)(this,r.node,r.offset)}}function c(n,t,i){var r=n.endContainer,e=n.endOffset;t===n.startContainer&&i===n.startOffset||(s(t)==s(r)&&1!=u(t,i,r,e)||(r=t,e=i),f(n,t,i,r,e))}function p(n,t,i){var r=n.startContainer,e=n.startOffset;t===n.endContainer&&i===n.endOffset||(s(t)==s(r)&&u(t,i,r,e)!=-1||(r=t,e=i),f(n,r,e,t,i))}var b=function(){};b.prototype=n.rangePrototype;t.prototype=new b;tt.extend(t.prototype,{setStart:function(n,t){v(n,!0);g(n,t);c(this,n,t)},setEnd:function(n,t){v(n,!0);g(n,t);p(this,n,t)},setStartAndEnd:function(){var n=arguments,i=n[0],r=n[1],u=i,t=r;switch(n.length){case 3:t=n[2];break;case 4:u=n[2];t=n[3]}f(this,i,r,u,t)},setBoundary:function(n,t,i){this["set"+(i?"Start":"End")](n,t)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(n){i(this);n?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(n){v(n,!0);f(this,n,0,n,ft(n))},selectNode:function(n){v(n,!1);y(n,hi);var t=ct(n),i=k(n);f(this,t.node,t.offset,i.node,i.offset)},extractContents:ri(pt,f),deleteContents:ri(yt,f),canSurroundContents:function(){i(this);h(this.startContainer);h(this.endContainer);var n=new o(this,!0),t=n._first&&a(n._first,this)||n._last&&a(n._last,this);return n.detach(),!t},splitBoundaries:function(){gt(this)},splitBoundariesPreservingPositions:function(n){gt(this,n)},normalizeBoundaries:function(){var s,h;i(this);var e,t=this.startContainer,o=this.startOffset,n=this.endContainer,u=this.endOffset,a=function(t){var i=t.nextSibling;i&&i.nodeType==t.nodeType&&(n=t,u=t.length,t.appendData(i.data),w(i))},v=function(i){var r=i.previousSibling,e,f;r&&r.nodeType==i.nodeType&&(t=i,e=i.length,(o=r.length,i.insertData(0,r.data),w(r),t==n)?(u+=o,n=t):n==i.parentNode&&(f=l(i),u==f?(n=i,u=e):u>f&&u--))},c=!0;r(n)?u==n.length?a(n):0==u&&(e=n.previousSibling,e&&e.nodeType==n.nodeType&&(u=e.length,t==n&&(c=!1),e.appendData(n.data),w(n),n=e)):(u>0&&(s=n.childNodes[u-1],s&&r(s)&&a(s)),c=!this.collapsed);c?r(t)?0==o?v(t):o==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(n==e&&(n=t,u+=t.length),t.appendData(e.data),w(e))):o<t.childNodes.length&&(h=t.childNodes[o],h&&r(h)&&v(h)):(t=n,o=u);f(this,t,o,n,u)},collapseToPoint:function(n,t){v(n,!0);g(n,t);this.setStartAndEnd(n,t)}});ii(t)}function fi(n){n.collapsed=n.startContainer===n.endContainer&&n.startOffset===n.endOffset;n.commonAncestorContainer=n.collapsed?n.startContainer:t.getCommonAncestor(n.startContainer,n.endContainer)}function ei(n,i,r,u,f){n.startContainer=i;n.startOffset=r;n.endContainer=u;n.endOffset=f;n.document=t.getDocument(i);fi(n)}function c(n){this.startContainer=n;this.startOffset=0;this.endContainer=n;this.endOffset=0;this.document=n;fi(this)}var t=n.dom,tt=n.util,oi=t.DomPosition,f=n.DOMException,r=t.isCharacterDataNode,l=t.getNodeIndex,p=t.isOrIsAncestorOf,it=t.getDocument,u=t.comparePoints,rt=t.splitDataNode,ut=t.getClosestAncestorIn,ft=t.getNodeLength,si=t.arrayContains,s=t.getRootContainer,di=n.features.crashyTextNodes,w=t.removeNode;o.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var n=this._current=this._next;return n&&(this._next=n!==this._last?n.nextSibling:null,r(n)&&this.clonePartiallySelectedTextNodes&&(n===this.ec&&(n=n.cloneNode(!0)).deleteData(this.eo,n.length-this.eo),this._current===this.sc&&(n=n.cloneNode(!0)).deleteData(0,this.so))),n},remove:function(){var t,i,n=this._current;!r(n)||n!==this.sc&&n!==this.ec?n.parentNode&&w(n):(t=n===this.sc?this.so:0,i=n===this.ec?this.eo:n.length,t!=i&&n.deleteData(t,i-t))},isPartiallySelectedSubtree:function(){var n=this._current;return a(n,this.range)},getSubtreeIterator:function(){var n;if(this.isSingleCharacterDataNode)n=this.range.cloneRange(),n.collapse(!1);else{n=new c(e(this.range));var t=this._current,i=t,r=0,u=t,f=ft(t);p(t,this.sc)&&(i=this.sc,r=this.so);p(t,this.ec)&&(u=this.ec,f=this.eo);ei(n,i,r,u,f)}return new o(n,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var hi=[1,3,4,5,7,8,10],gi=[2,9,11],nr=[1,3,4,5,7,8,10,11],tr=[1,3,4,5,7,8],ci=d([9,11]),ir=d([5,6,10,12]),rr=d([6,10,12]),li=document.createElement("style"),et=!1;try{li.innerHTML="<b>x<\/b>";et=3==li.firstChild.nodeType}catch(n){}n.features.htmlParsingConforms=et;var ur=et?function(n){var u=this.startContainer,e=it(u),i;if(!u)throw new f("INVALID_STATE_ERR");return i=null,1==u.nodeType?i=u:r(u)&&(i=t.parentElement(u)),i=null===i||"HTML"==i.nodeName&&t.isHtmlNamespace(it(i).documentElement)&&t.isHtmlNamespace(i)?e.createElement("body"):i.cloneNode(!1),i.innerHTML=n,t.fragmentFromNodeChildren(i)}:function(n){var r=e(this),i=r.createElement("body");return i.innerHTML=n,t.fragmentFromNodeChildren(i)},ot=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],st=0,ai=1,fr=2,vi=3,yi=0,pi=1,wi=2,ht=3;tt.extend(n.rangePrototype,{compareBoundaryPoints:function(n,t){i(this);nt(this.startContainer,t.startContainer);var r,f,e,o,s=n==vi||n==st?"start":"end",h=n==ai||n==st?"start":"end";return r=this[s+"Container"],f=this[s+"Offset"],e=t[h+"Container"],o=t[h+"Offset"],u(r,f,e,o)},insertNode:function(n){if(i(this),y(n,nr),h(this.startContainer),p(n,this.startContainer))throw new f("HIERARCHY_REQUEST_ERR");var t=lt(n,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var n,t,u;return(i(this),this.collapsed)?e(this).createDocumentFragment():this.startContainer===this.endContainer&&r(this.startContainer)?(n=this.startContainer.cloneNode(!0),n.data=n.data.slice(this.startOffset,this.endOffset),t=e(this).createDocumentFragment(),t.appendChild(n),t):(u=new o(this,!0),n=vt(u),u.detach(),n)},canSurroundContents:function(){i(this);h(this.startContainer);h(this.endContainer);var n=new o(this,!0),t=n._first&&a(n._first,this)||n._last&&a(n._last,this);return n.detach(),!t},surroundContents:function(n){if(y(n,tr),!this.canSurroundContents())throw new f("INVALID_STATE_ERR");var t=this.extractContents();if(n.hasChildNodes())for(;n.lastChild;)n.removeChild(n.lastChild);lt(n,this.startContainer,this.startOffset);n.appendChild(t);this.selectNode(n)},cloneRange:function(){i(this);for(var n,t=new c(e(this)),r=ot.length;r--;)n=ot[r],t[n]=this[n];return t},toString:function(){var n,t,u;return(i(this),n=this.startContainer,n===this.endContainer&&r(n))?3==n.nodeType||4==n.nodeType?n.data.slice(this.startOffset,this.endOffset):"":(t=[],u=new o(this,!0),b(u,function(n){3!=n.nodeType&&4!=n.nodeType||t.push(n.data)}),u.detach(),t.join(""))},compareNode:function(n){var t,r,e,u;if(i(this),t=n.parentNode,r=l(n),!t)throw new f("NOT_FOUND_ERR");return e=this.comparePoint(t,r),u=this.comparePoint(t,r+1),e<0?u>0?wi:yi:u>0?pi:ht},comparePoint:function(n,t){return i(this),bt(n,"HIERARCHY_REQUEST_ERR"),nt(n,this.startContainer),u(n,t,this.startContainer,this.startOffset)<0?-1:u(n,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ur,toHtml:function(){return ni(this)},intersectsNode:function(n,t){var r,f,e,o;return(i(this),s(n)!=bi(this))?!1:(r=n.parentNode,f=l(n),!r)?!0:(e=u(r,f,this.endContainer,this.endOffset),o=u(r,f+1,this.startContainer,this.startOffset),t?e<=0&&o>=0:e<0&&o>0)},isPointInRange:function(n,t){return i(this),bt(n,"HIERARCHY_REQUEST_ERR"),nt(n,this.startContainer),u(n,t,this.startContainer,this.startOffset)>=0&&u(n,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(n){return at(this,n,!1)},intersectsOrTouchesRange:function(n){return at(this,n,!0)},intersection:function(n){if(this.intersectsRange(n)){var i=u(this.startContainer,this.startOffset,n.startContainer,n.startOffset),r=u(this.endContainer,this.endOffset,n.endContainer,n.endOffset),t=this.cloneRange();return i==-1&&t.setStart(n.startContainer,n.startOffset),1==r&&t.setEnd(n.endContainer,n.endOffset),t}return null},union:function(n){if(this.intersectsOrTouchesRange(n)){var t=this.cloneRange();return u(n.startContainer,n.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(n.startContainer,n.startOffset),1==u(n.endContainer,n.endOffset,this.endContainer,this.endOffset)&&t.setEnd(n.endContainer,n.endOffset),t}throw new f("Ranges do not intersect");},containsNode:function(n,t){return t?this.intersectsNode(n,!1):this.compareNode(n)==ht},containsNodeContents:function(n){return this.comparePoint(n,0)>=0&&this.comparePoint(n,ft(n))<=0},containsRange:function(n){var t=this.intersection(n);return null!==t&&n.equals(t)},containsNodeText:function(n){var t=this.cloneRange(),i,r;return(t.selectNode(n),i=t.getNodes([3]),i.length>0)?(t.setStart(i[0],0),r=i.pop(),t.setEnd(r,r.length),this.containsRange(t)):this.containsNodeContents(n)},getNodes:function(n,t){return i(this),ki(this,n,t)},getDocument:function(){return e(this)},collapseBefore:function(n){this.setEndBefore(n);this.collapse(!1)},collapseAfter:function(n){this.setStartAfter(n);this.collapse(!0)},getBookmark:function(i){var o=e(this),r=n.createRange(o);i=i||t.getBody(o);r.selectNodeContents(i);var u=this.intersection(r),f=0,s=0;return u&&(r.setEnd(u.startContainer,u.startOffset),f=r.toString().length,s=f+u.toString().length),{start:f,end:s,containerNode:i}},moveToBookmark:function(n){var o=n.containerNode,t=0;this.setStart(o,0);this.collapse(!0);for(var i,r,u,f,s=[o],e=!1,h=!1;!h&&(i=s.pop());)if(3==i.nodeType)r=t+i.length,!e&&n.start>=t&&n.start<=r&&(this.setStart(i,n.start-t),e=!0),e&&n.end>=t&&n.end<=r&&(this.setEnd(i,n.end-t),h=!0),t=r;else for(f=i.childNodes,u=f.length;u--;)s.push(f[u])},getName:function(){return"DomRange"},equals:function(n){return c.rangesEqual(this,n)},isValid:function(){return dt(this)},inspect:function(){return wt(this)},detach:function(){}});ui(c,ei);tt.extend(c,{rangeProperties:ot,RangeIterator:o,copyComparisonConstants:ii,createPrototypeRange:ui,inspect:wt,toHtml:ni,getRangeDocument:e,rangesEqual:function(n,t){return n.startContainer===t.startContainer&&n.startOffset===t.startOffset&&n.endContainer===t.endContainer&&n.endOffset===t.endOffset}});n.DomRange=c}),n.createCoreModule("WrappedRange",["DomRange"],function(n,t){var o,r,i=n.dom,c=n.util,u=i.DomPosition,f=n.DomRange,e=i.getBody,s=i.getContentDocument,h=i.isCharacterDataNode,v,y;if(n.features.implementsDomRange&&!function(){function h(n){for(var t,i=b.length;i--;)t=b[i],n[t]=n.nativeRange[t];n.collapsed=n.startContainer===n.endContainer&&n.startOffset===n.endOffset}function k(n,t,i,r,u){var f=n.startContainer!==t||n.startOffset!=i,e=n.endContainer!==r||n.endOffset!=u,o=!n.equals(n.nativeRange);(f||e||o)&&(n.setEnd(r,u),n.setStart(t,i))}var r,a,b=f.rangeProperties,l,u,v,y,p,w;o=function(n){if(!n)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=n;h(this)};f.createPrototypeRange(o,k);r=o.prototype;r.selectNode=function(n){this.nativeRange.selectNode(n);h(this)};r.cloneContents=function(){return this.nativeRange.cloneContents()};r.surroundContents=function(n){this.nativeRange.surroundContents(n);h(this)};r.collapse=function(n){this.nativeRange.collapse(n);h(this)};r.cloneRange=function(){return new o(this.nativeRange.cloneRange())};r.refresh=function(){h(this)};r.toString=function(){return this.nativeRange.toString()};l=document.createTextNode("test");e(document).appendChild(l);u=document.createRange();u.setStart(l,0);u.setEnd(l,0);try{u.setStart(l,1);r.setStart=function(n,t){this.nativeRange.setStart(n,t);h(this)};r.setEnd=function(n,t){this.nativeRange.setEnd(n,t);h(this)};a=function(n){return function(t){this.nativeRange[n](t);h(this)}}}catch(n){r.setStart=function(n,t){try{this.nativeRange.setStart(n,t)}catch(i){this.nativeRange.setEnd(n,t);this.nativeRange.setStart(n,t)}h(this)};r.setEnd=function(n,t){try{this.nativeRange.setEnd(n,t)}catch(i){this.nativeRange.setStart(n,t);this.nativeRange.setEnd(n,t)}h(this)};a=function(n,t){return function(i){try{this.nativeRange[n](i)}catch(h){this.nativeRange[t](i);this.nativeRange[n](i)}h(this)}}}r.setStartBefore=a("setStartBefore","setEndBefore");r.setStartAfter=a("setStartAfter","setEndAfter");r.setEndBefore=a("setEndBefore","setStartBefore");r.setEndAfter=a("setEndAfter","setStartAfter");r.selectNodeContents=function(n){this.setStartAndEnd(n,0,i.getNodeLength(n))};u.selectNodeContents(l);u.setEnd(l,3);v=document.createRange();v.selectNodeContents(l);v.setEnd(l,4);v.setStart(l,2);r.compareBoundaryPoints=u.compareBoundaryPoints(u.START_TO_END,v)==-1&&1==u.compareBoundaryPoints(u.END_TO_START,v)?function(n,t){return t=t.nativeRange||t,n==t.START_TO_END?n=t.END_TO_START:n==t.END_TO_START&&(n=t.START_TO_END),this.nativeRange.compareBoundaryPoints(n,t)}:function(n,t){return this.nativeRange.compareBoundaryPoints(n,t.nativeRange||t)};y=document.createElement("div");y.innerHTML="123";p=y.firstChild;w=e(document);w.appendChild(y);u.setStart(p,1);u.setEnd(p,2);u.deleteContents();"13"==p.data&&(r.deleteContents=function(){this.nativeRange.deleteContents();h(this)},r.extractContents=function(){var n=this.nativeRange.extractContents();return h(this),n});w.removeChild(y);w=null;c.isHostMethod(u,"createContextualFragment")&&(r.createContextualFragment=function(n){return this.nativeRange.createContextualFragment(n)});e(document).removeChild(l);r.getName=function(){return"WrappedRange"};n.WrappedRange=o;n.createNativeRange=function(n){return n=s(n,t,"createNativeRange"),n.createRange()}}(),n.features.implementsTextRange){var p=function(n){var e=n.parentElement(),t=n.duplicate(),r,f,u;return t.collapse(!0),r=t.parentElement(),t=n.duplicate(),t.collapse(!1),f=t.parentElement(),u=r==f?r:i.getCommonAncestor(r,f),u==e?u:i.getCommonAncestor(e,u)},w=function(n){return 0==n.compareEndPoints("StartToEnd",n)},l=function(n,t,r,f,e){var c=n.duplicate(),o,k,s,g,y,it;if(c.collapse(r),o=c.parentElement(),i.isOrIsAncestorOf(t,o)||(o=t),!o.canHaveHTML)return k=new u(o.parentNode,i.getNodeIndex(o)),{boundaryPosition:k,nodeInfo:{nodeIndex:k.offset,containerElement:k.node}};s=i.getDocument(o).createElement("span");s.parentNode&&i.removeNode(s);for(var p,w,d,nt,b,rt=r?"StartToStart":"StartToEnd",l=e&&e.containerElement==o?e.nodeIndex:0,tt=o.childNodes.length,a=tt,v=a;;){if(v==tt?o.appendChild(s):o.insertBefore(s,o.childNodes[v]),c.moveToElementText(s),p=c.compareEndPoints(rt,n),0==p||l==a)break;if(p==-1){if(a==l+1)break;l=v}else a=a==l+1?l:v;v=Math.floor((l+a)/2);o.removeChild(s)}if(b=s.nextSibling,p==-1&&b&&h(b)){if(c.setEndPoint(r?"EndToStart":"EndToEnd",n),/[\r\n]/.test(b.data))for(y=c.duplicate(),it=y.text.replace(/\r\n/g,"\r").length,g=y.moveStart("character",it);(p=y.compareEndPoints("StartToEnd",y))==-1;)g++,y.moveStart("character",1);else g=c.text.length;nt=new u(b,g)}else w=(f||!r)&&s.previousSibling,d=(f||r)&&s.nextSibling,nt=d&&h(d)?new u(d,0):w&&h(w)?new u(w,w.data.length):new u(o,i.getNodeIndex(s));return i.removeNode(s),{boundaryPosition:nt,nodeInfo:{nodeIndex:v,containerElement:o}}},a=function(n,t){var u,f,r,s,c=n.offset,l=i.getDocument(n.node),o=e(l).createTextRange(),a=h(n.node);return a?(u=n.node,f=u.parentNode):(s=n.node.childNodes,u=c<s.length?s[c]:null,f=n.node),r=l.createElement("span"),r.innerHTML="&#feff;",u?f.insertBefore(r,u):f.appendChild(r),o.moveToElementText(r),o.collapse(!t),f.removeChild(r),a&&o[t?"moveStart":"moveEnd"]("character",c),o};r=function(n){this.textRange=n;this.refresh()};r.prototype=new f(document);r.prototype.refresh=function(){var n,t,i,r=p(this.textRange);w(this.textRange)?t=n=l(this.textRange,r,!0,!0).boundaryPosition:(i=l(this.textRange,r,!0,!1),n=i.boundaryPosition,t=l(this.textRange,r,!1,!1,i.nodeInfo).boundaryPosition);this.setStart(n.node,n.offset);this.setEnd(t.node,t.offset)};r.prototype.getName=function(){return"WrappedTextRange"};f.copyComparisonConstants(r);v=function(n){if(n.collapsed)return a(new u(n.startContainer,n.startOffset),!0);var i=a(new u(n.startContainer,n.startOffset),!0),r=a(new u(n.endContainer,n.endOffset),!1),t=e(f.getRangeDocument(n)).createTextRange();return t.setEndPoint("StartToStart",i),t.setEndPoint("EndToEnd",r),t};(r.rangeToTextRange=v,r.prototype.toTextRange=function(){return v(this)},n.WrappedTextRange=r,!n.features.implementsDomRange||n.config.preferTextRange)&&(y=function(n){return n("return this;")()}(Function),"undefined"==typeof y.Range&&(y.Range=r),n.createNativeRange=function(n){return n=s(n,t,"createNativeRange"),e(n).createTextRange()},n.WrappedRange=r)}n.createRange=function(i){return i=s(i,t,"createRange"),new n.WrappedRange(n.createNativeRange(i))};n.createRangyRange=function(n){return n=s(n,t,"createRangyRange"),new f(n)};c.createAliasForDeprecatedMethod(n,"createIframeRange","createRange");c.createAliasForDeprecatedMethod(n,"createIframeRangyRange","createRangyRange");n.addShimListener(function(t){var i=t.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return n.createRange(i)});i=t=null})}),n.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(n,t){function ct(n){return"string"==typeof n?/^backward(s)?$/i.test(n):!!n}function rt(n,i){if(n){if(f.isWindow(n))return n;if(n instanceof e)return n.win;var r=f.getContentDocument(n,t,i);return f.getWindow(r)}return window}function bi(n){return rt(n,"getWinSelection").getSelection()}function ri(n){return rt(n,"getDocSelection").document.selection}function ui(n){var t=!1;return n.anchorNode&&(t=1==f.comparePoints(n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)),t}function k(n,t,i){var r=i?"end":"start",u=i?"start":"end";n.anchorNode=t[r+"Container"];n.anchorOffset=t[r+"Offset"];n.focusNode=t[u+"Container"];n.focusOffset=t[u+"Offset"]}function ki(n){var t=n.nativeSelection;n.anchorNode=t.anchorNode;n.anchorOffset=t.anchorOffset;n.focusNode=t.focusNode;n.focusOffset=t.focusOffset}function c(n){n.anchorNode=n.focusNode=null;n.anchorOffset=n.focusOffset=0;n.rangeCount=0;n.isCollapsed=!0;n._ranges.length=0}function lt(t){var i;return t instanceof nt?(i=n.createNativeRange(t.getDocument()),i.setEnd(t.endContainer,t.endOffset),i.setStart(t.startContainer,t.startOffset)):t instanceof wt?i=t.nativeRange:r.implementsDomRange&&t instanceof f.getWindow(t.startContainer).Range&&(i=t),i}function di(n){if(!n.length||1!=n[0].nodeType)return!1;for(var t=1,i=n.length;t<i;++t)if(!f.isAncestorOf(n[0],n[t]))return!1;return!0}function at(n){var i=n.getNodes();if(!di(i))throw t.createError("getSingleElementFromRange: range "+n.inspect()+" did not consist of a single element");return i[0]}function vt(n){return!!n&&"undefined"!=typeof n.text}function fi(n,t){var i=new wt(t);n._ranges=[i];k(n,i,!1);n.rangeCount=1;n.isCollapsed=i.collapsed}function d(t){var i,u,f,r;if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else if(i=t.docSelection.createRange(),vt(i))fi(t,i);else{for(t.rangeCount=i.length,f=o(i.item(0)),r=0;r<t.rangeCount;++r)u=n.createRange(f),u.selectNode(i.item(r)),t._ranges.push(u);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed;k(t,t._ranges[t.rangeCount-1],!1)}}function ei(n,i){for(var r=n.docSelection.createRange(),e=at(i),s=o(r.item(0)),u=y(s).createControlRange(),f=0,h=r.length;f<h;++f)u.add(r.item(f));try{u.add(e)}catch(n){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}u.select();d(n)}function e(n,t,i){this.nativeSelection=n;this.docSelection=t;this._ranges=[];this.win=i;this.refresh()}function oi(n){n.win=n.anchorNode=n.focusNode=n._ranges=null;n.rangeCount=n.anchorOffset=n.focusOffset=0;n.detached=!0}function yt(n,t){for(var i,r,u=b.length;u--;)if(i=b[u],r=i.selection,"deleteAll"==t)oi(r);else if(i.win==n)return"delete"==t?(b.splice(u,1),!0):r;return"deleteAll"==t&&(b.length=0),null}function si(n,i){for(var u,e=o(i[0].startContainer),f=y(e).createControlRange(),r=0,s=i.length;r<s;++r){u=at(i[r]);try{f.add(u)}catch(n){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)");}}f.select();d(n)}function hi(n,t){if(n.win.document!=o(t))throw new ft("WRONG_DOCUMENT_ERR");}function ci(t){return function(i,r){var u;this.rangeCount?(u=this.getRangeAt(0),u["set"+(t?"Start":"End")](i,r)):(u=n.createRange(this.win.document),u.setStartAndEnd(i,r));this.setSingleRange(u,this.isBackward())}}function li(n){var i=[],u=new vi(n.anchorNode,n.anchorOffset),f=new vi(n.focusNode,n.focusOffset),e="function"==typeof n.getName?n.getName():"Selection",t,r;if("undefined"!=typeof n.rangeCount)for(t=0,r=n.rangeCount;t<r;++t)i[t]=nt.inspect(n.getRangeAt(t));return"["+e+"(Ranges: "+i.join(", ")+")(anchor: "+u.inspect()+", focus: "+f.inspect()+"]"}var p,u,tt,gt,wi,s,ot,b,st,i,ti,ht,ii,it;n.config.checkSelectionRanges=!0;var g,ut,ai="boolean",pt="number",f=n.dom,l=n.util,a=l.isHostMethod,nt=n.DomRange,wt=n.WrappedRange,ft=n.DOMException,vi=f.DomPosition,r=n.features,v="Control",o=f.getDocument,y=f.getBody,bt=nt.rangesEqual,kt=a(window,"getSelection"),h=l.isHostObject(document,"selection");if(r.implementsWinGetSelection=kt,r.implementsDocSelection=h,p=h&&(!kt||n.config.preferTextRange),p)g=ri,n.isSelectionValid=function(n){var t=rt(n,"isSelectionValid").document,i=t.selection;return"None"!=i.type||o(i.createRange().parentElement())==t};else{if(!kt)return t.fail("Neither document.selection or window.getSelection() detected."),!1;g=bi;n.isSelectionValid=function(){return!0}}if(n.getNativeSelection=g,u=g(),!u)return t.fail("Native selection was null (possibly issue 138?)"),!1;var yi=n.createNativeRange(document),dt=y(document),w=l.areHostProperties(u,["anchorNode","focusNode","anchorOffset","focusOffset"]);r.selectionHasAnchorAndFocus=w;tt=a(u,"extend");r.selectionHasExtend=tt;gt=typeof u.rangeCount==pt;r.selectionHasRangeCount=gt;var et=!1,pi=!0,ni=tt?function(t,i){var u=nt.getRangeDocument(i),r=n.createRange(u);r.collapseToPoint(i.endContainer,i.endOffset);t.addRange(lt(r));t.extend(i.startContainer,i.startOffset)}:null;if(l.areHostMethods(u,["addRange","getRangeAt","removeAllRanges"])&&typeof u.rangeCount==pt&&r.implementsDomRange&&!function(){var t=window.getSelection(),h,o;if(t){for(var s=t.rangeCount,l=s>1,u=[],a=ui(t),i=0;i<s;++i)u[i]=t.getRangeAt(i);var c=f.createTestElement(document,"",!1),e=c.appendChild(document.createTextNode("   ")),r=document.createRange();for((r.setStart(e,1),r.collapse(!0),t.removeAllRanges(),t.addRange(r),pi=1==t.rangeCount,t.removeAllRanges(),l)||(h=window.navigator.appVersion.match(/Chrome\/(.*?) /),h&&parseInt(h[1])>=36?et=!1:(o=r.cloneRange(),r.setStart(e,0),o.setEnd(e,3),o.setStart(e,2),t.addRange(r),t.addRange(o),et=2==t.rangeCount)),f.removeNode(c),t.removeAllRanges(),i=0;i<s;++i)0==i&&a?ni?ni(t,u[i]):(n.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(u[i])):t.addRange(u[i])}}(),r.selectionSupportsMultipleRanges=et,r.collapsedNonEditableSelectionsSupported=pi,s=!1,dt&&a(dt,"createControlRange")&&(wi=dt.createControlRange(),l.areHostProperties(wi,["item","add"])&&(s=!0)),r.implementsControlRange=s,ut=w?function(n){return n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset}:function(n){return!!n.rangeCount&&n.getRangeAt(n.rangeCount-1).collapsed},a(u,"getRangeAt")?ot=function(n,t){try{return n.getRangeAt(t)}catch(n){return null}}:w&&(ot=function(t){var r=o(t.anchorNode),i=n.createRange(r);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),e.prototype=n.selectionPrototype,b=[],st=function(n){if(n&&n instanceof e)return n.refresh(),n;n=rt(n,"getNativeSelection");var t=yt(n),i=g(n),r=h?ri(n):null;return t?(t.nativeSelection=i,t.docSelection=r,t.refresh()):(t=new e(i,r,n),b.push({win:n,selection:t})),t},n.getSelection=st,l.createAliasForDeprecatedMethod(n,"getIframeSelection","getSelection"),i=e.prototype,!p&&w&&l.areHostMethods(u,["removeAllRanges","addRange"]))i.removeAllRanges=function(){this.nativeSelection.removeAllRanges();c(this)},ti=function(n,t){ni(n.nativeSelection,t);n.refresh()},i.addRange=gt?function(t,i){var u,f,r;if(s&&h&&this.docSelection.type==v)ei(this,t);else if(ct(i)&&tt)ti(this,t);else{et?u=this.rangeCount:(this.removeAllRanges(),u=0);f=lt(t).cloneRange();try{this.nativeSelection.addRange(f)}catch(n){}(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==u+1)?(n.config.checkSelectionRanges&&(r=ot(this.nativeSelection,this.rangeCount-1),r&&!bt(r,t)&&(t=new wt(r))),this._ranges[this.rangeCount-1]=t,k(this,t,it(this.nativeSelection)),this.isCollapsed=ut(this)):this.refresh()}}:function(n,t){ct(t)&&tt?ti(this,n):(this.nativeSelection.addRange(lt(n)),this.refresh())},i.setRanges=function(n){if(s&&h&&n.length>1)si(this,n);else{this.removeAllRanges();for(var t=0,i=n.length;t<i;++t)this.addRange(n[t])}};else{if(!(a(u,"empty")&&a(yi,"select")&&s&&p))return t.fail("No means of selecting a Range or TextRange was found"),!1;i.removeAllRanges=function(){var n,t,i;try{(this.docSelection.empty(),"None"!=this.docSelection.type)&&(this.anchorNode?n=o(this.anchorNode):this.docSelection.type==v&&(t=this.docSelection.createRange(),t.length&&(n=o(t.item(0)))),n&&(i=y(n).createTextRange(),i.select(),this.docSelection.empty()))}catch(n){}c(this)};i.addRange=function(t){this.docSelection.type==v?ei(this,t):(n.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,k(this,t,!1))};i.setRanges=function(n){this.removeAllRanges();var t=n.length;t>1?si(this,n):t&&this.addRange(n[0])}}if(i.getRangeAt=function(n){if(n<0||n>=this.rangeCount)throw new ft("INDEX_SIZE_ERR");return this._ranges[n].cloneRange()},p)ht=function(t){var i;n.isSelectionValid(t.win)?i=t.docSelection.createRange():(i=y(t.win.document).createTextRange(),i.collapse(!0));t.docSelection.type==v?d(t):vt(i)?fi(t,i):c(t)};else if(a(u,"getRangeAt")&&typeof u.rangeCount==pt)ht=function(t){if(s&&h&&t.docSelection.type==v)d(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var i=0,r=t.rangeCount;i<r;++i)t._ranges[i]=new n.WrappedRange(t.nativeSelection.getRangeAt(i));k(t,t._ranges[t.rangeCount-1],it(t.nativeSelection));t.isCollapsed=ut(t)}else c(t)};else{if(!w||typeof u.isCollapsed!=ai||typeof yi.collapsed!=ai||!r.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ht=function(n){var t,i=n.nativeSelection;i.anchorNode?(t=ot(i,0),n._ranges=[t],n.rangeCount=1,ki(n),n.isCollapsed=ut(n)):c(n)}}i.refresh=function(n){var i=n?this._ranges.slice(0):null,r=this.anchorNode,u=this.anchorOffset,t;if(ht(this),n){if((t=i.length,t!=this._ranges.length)||this.anchorNode!=r||this.anchorOffset!=u)return!0;for(;t--;)if(!bt(i[t],this._ranges[t]))return!0;return!1}};ii=function(n,t){var r=n.getAllRanges(),i,u;for(n.removeAllRanges(),i=0,u=r.length;i<u;++i)bt(t,r[i])||n.addRange(r[i]);n.rangeCount||c(n)};i.removeRange=s&&h?function(n){if(this.docSelection.type==v){for(var r,t=this.docSelection.createRange(),e=at(n),s=o(t.item(0)),u=y(s).createControlRange(),f=!1,i=0,h=t.length;i<h;++i)r=t.item(i),r!==e||f?u.add(t.item(i)):f=!0;u.select();d(this)}else ii(this,n)}:function(n){ii(this,n)};!p&&w&&r.implementsDomRange?(it=ui,i.isBackward=function(){return it(this)}):it=i.isBackward=function(){return!1};i.isBackwards=i.isBackward;i.toString=function(){for(var t=[],n=0,i=this.rangeCount;n<i;++n)t[n]=""+this._ranges[n];return t.join("")};i.collapse=function(t,i){hi(this,t);var r=n.createRange(t);r.collapseToPoint(t,i);this.setSingleRange(r);this.isCollapsed=!0};i.collapseToStart=function(){if(!this.rangeCount)throw new ft("INVALID_STATE_ERR");var n=this._ranges[0];this.collapse(n.startContainer,n.startOffset)};i.collapseToEnd=function(){if(!this.rangeCount)throw new ft("INVALID_STATE_ERR");var n=this._ranges[this.rangeCount-1];this.collapse(n.endContainer,n.endOffset)};i.selectAllChildren=function(t){hi(this,t);var i=n.createRange(t);i.selectNodeContents(t);this.setSingleRange(i)};i.deleteFromDocument=function(){var r,t,n,i,u;if(s&&h&&this.docSelection.type==v){for(t=this.docSelection.createRange();t.length;)r=t.item(0),t.remove(r),f.removeNode(r);this.refresh()}else if(this.rangeCount&&(n=this.getAllRanges(),n.length)){for(this.removeAllRanges(),i=0,u=n.length;i<u;++i)n[i].deleteContents();this.addRange(n[u-1])}};i.eachRange=function(n,t){for(var i=0,r=this._ranges.length;i<r;++i)if(n(this.getRangeAt(i)))return t};i.getAllRanges=function(){var n=[];return this.eachRange(function(t){n.push(t)}),n};i.setSingleRange=function(n,t){this.removeAllRanges();this.addRange(n,t)};i.callMethodOnEachRange=function(n,t){var i=[];return this.eachRange(function(r){i.push(r[n].apply(r,t||[]))}),i};i.setStart=ci(!0);i.setEnd=ci(!1);n.rangePrototype.select=function(n){st(this.getDocument()).setSingleRange(this,n)};i.changeEachRange=function(n){var t=[],i=this.isBackward();this.eachRange(function(i){n(i);t.push(i)});this.removeAllRanges();i&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)};i.containsNode=function(n,t){return this.eachRange(function(i){return i.containsNode(n,t)},!0)||!1};i.getBookmark=function(n){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[n])}};i.moveToBookmark=function(t){for(var u,i,r=[],f=0;u=t.rangeBookmarks[f++];)i=n.createRange(this.win),i.moveToBookmark(u),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)};i.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}};i.restoreRanges=function(n){this.removeAllRanges();for(var i,t=0;i=n.ranges[t];++t)this.addRange(i,n.backward&&0==t)};i.toHtml=function(){var n=[];return this.eachRange(function(t){n.push(nt.toHtml(t))}),n.join("")};r.implementsTextRange&&(i.getNativeTextRange=function(){var r,i;if(r=this.docSelection){if(i=r.createRange(),vt(i))return i;throw t.createError("getNativeTextRange: selection is a control selection");}if(this.rangeCount>0)return n.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range");});i.getName=function(){return"WrappedSelection"};i.inspect=function(){return li(this)};i.detach=function(){yt(this.win,"delete");oi(this)};e.detachAll=function(){yt(null,"deleteAll")};e.inspect=li;e.isDirectionBackward=ct;n.Selection=e;n.selectionPrototype=i;n.addShimListener(function(n){"undefined"==typeof n.getSelection&&(n.getSelection=function(){return st(n)});n=null})}),d=!1,v=function(){d||(d=!0,!n.initialized&&n.config.autoInitialize&&w())},i&&("complete"==document.readyState?v():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",v,!1),c(window,"load",v))),n},this),function(n,t){"function"==typeof define&&define.amd?define(["./rangy-core"],n):"undefined"!=typeof module&&"object"==typeof exports?module.exports=n(require("rangy")):n(t.rangy)}(function(n){return n.createModule("SaveRestore",["WrappedRange"],function(n,t){function i(n,t){return(t||document).getElementById(n)}function f(n,t){var i,f="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=l.getDocument(n.startContainer),u=n.cloneRange();return u.collapse(t),i=r.createElement("span"),i.id=f,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(r.createTextNode(b)),u.insertNode(i),i}function e(n,r,f,e){var o=i(f,n);o?(r[e?"setStartBefore":"setEndBefore"](o),u(o)):t.warn("Marker element has been removed. Cannot restore selection.")}function v(n,t){return t.compareBoundaryPoints(n.START_TO_START,n)}function o(t,i){var u,r,e=n.DomRange.getRangeDocument(t),o=t.toString(),s=a(i);return t.collapsed?(r=f(t,!1),{document:e,markerId:r.id,collapsed:!0}):(r=f(t,!1),u=f(t,!0),{document:e,startMarkerId:u.id,endMarkerId:r.id,collapsed:!1,backward:s,toString:function(){return"original text: '"+o+"', new text: '"+t.toString()+"'"}})}function s(r,f){var c=r.document,o,s,h;return"undefined"==typeof f&&(f=!0),o=n.createRange(c),r.collapsed?(s=i(r.markerId,c),s?(s.style.display="inline",h=s.previousSibling,h&&3==h.nodeType?(u(s),o.collapseToPoint(h,h.length)):(o.collapseBefore(s),u(s))):t.warn("Marker element has been removed. Cannot restore selection.")):(e(c,o,r.startMarkerId,!0),e(c,o,r.endMarkerId,!1)),f&&o.normalizeBoundaries(),o}function h(t,r){var f,s,e=[],c=a(r),u,h;for(t=t.slice(0),t.sort(v),u=0,h=t.length;u<h;++u)e[u]=o(t[u],c);for(u=h-1;u>=0;--u)f=t[u],s=n.DomRange.getRangeDocument(f),f.collapsed?f.collapseAfter(i(e[u].markerId,s)):(f.setEndBefore(i(e[u].endMarkerId,s)),f.setStartAfter(i(e[u].startMarkerId,s)));return e}function y(i){if(!n.isSelectionValid(i))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var r=n.getSelection(i),u=r.getAllRanges(),f=1==u.length&&r.isBackward(),e=h(u,f);return f?r.setSingleRange(u[0],f):r.setRanges(u),{win:i,rangeInfos:e,restored:!1}}function c(n){for(var i=[],r=n.length,t=r-1;t>=0;t--)i[t]=s(n[t],!0);return i}function p(t,i){if(!t.restored){var r=t.rangeInfos,u=n.getSelection(t.win),f=c(r),e=r.length;1==e&&i&&n.features.selectionHasExtend&&r[0].backward?(u.removeAllRanges(),u.addRange(f[0],!0)):u.setRanges(f);t.restored=!0}}function r(n,t){var r=i(t,n);r&&u(r)}function w(n){for(var t,u=n.rangeInfos,i=0,f=u.length;i<f;++i)t=u[i],t.collapsed?r(n.doc,t.markerId):(r(n.doc,t.startMarkerId),r(n.doc,t.endMarkerId))}var l=n.dom,u=l.removeNode,a=n.Selection.isDirectionBackward,b="﻿";n.util.extend(n,{saveRange:o,restoreRange:s,saveRanges:h,restoreRanges:c,saveSelection:y,restoreSelection:p,removeMarkerElement:r,removeMarkers:w})}),n},this);
/**
 * @license AngularJS v1.3.10
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(n,t){"use strict";function tt(){this.$get=["$$sanitizeUri",function(n){return function(t){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var i=[];return rt(t,e(i,function(t,i){return!/^unsafe/.test(n(t,i))})),i.join("")}}]}function it(n){var i=[],r=e(i,t.noop);return r.chars(n),i.join("")}function i(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function rt(n,i){function nt(n,r,e,o){if(r=t.lowercase(r),w[r])for(;f.last()&&b[f.last()];)v("",f.last());p[r]&&f.last()==r&&v("",r);o=a[r]||!!o;o||f.push(r);var s={};e.replace(ot,function(n,t,i,r,f){var e=i||r||f||"";s[t]=u(e)});i.start&&i.start(r,s,o)}function v(n,r){var e,u=0;if(r=t.lowercase(r))for(u=f.length-1;u>=0&&f[u]!=r;u--);if(u>=0){for(e=f.length-1;e>=u;e--)i.end&&i.end(f[e]);f.length=u}}"string"!=typeof n&&(n=null===n||"undefined"==typeof n?"":""+n);var y,e,r,d,f=[],g=n;for(f.last=function(){return f[f.length-1]};n;){if((d="",e=!0,f.last()&&k[f.last()])?(n=n.replace(new RegExp("([^]*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(n,t){return t=t.replace(ct,"$1").replace(lt,"$1"),i.chars&&i.chars(u(t)),""}),v("",f.last())):(l.test(n)?(r=n.match(l))&&(r[0],i.whitespace&&i.whitespace(r[0]),n=n.replace(r[0],""),e=!1):h.test(n)?(r=n.match(h),r&&(i.comment&&i.comment(r[1]),n=n.replace(r[0],""),e=!1)):c.test(n)?(r=n.match(c),r&&(n=n.replace(r[0],""),e=!1)):ht.test(n)?(r=n.match(s),r&&(n=n.substring(r[0].length),r[0].replace(s,v),e=!1)):st.test(n)&&(r=n.match(o),r?(r[4]&&(n=n.substring(r[0].length),r[0].replace(o,nt)),e=!1):(d+="<",n=n.substring(1))),e&&(y=n.indexOf("<"),d+=y<0?n:n.substring(0,y),n=y<0?"":n.substring(y),i.chars&&i.chars(u(d)))),n==g)throw et("badparse","The sanitizer was unable to parse the following block of html: {0}",n);g=n}v()}function u(n){if(!n)return"";var i=kt.exec(n),u=i[1],f=i[3],t=i[2];return t&&(r.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in r?r.textContent:r.innerText),u+t+f}function f(n){return n.replace(/&/g,"&amp;").replace(at,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+(1024*(t-55296)+(i-56320)+65536)+";"}).replace(vt,function(n){var t=n.charCodeAt(0);return t<=159||173==t||t>=1536&&t<=1540||1807==t||6068==t||6069==t||t>=8204&&t<=8207||t>=8232&&t<=8239||t>=8288&&t<=8303||65279==t||t>=65520&&t<=65535?"&#"+t+";":n}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ut(n){var i="",r=n.split(";");return t.forEach(r,function(n){var u=n.split(":"),r,n;2==u.length&&(r=nt(t.lowercase(u[0])),n=nt(t.lowercase(u[1])),(("color"===r||"background-color"===r)&&(n.match(/^rgb\([0-9%,\. ]*\)$/i)||n.match(/^rgba\([0-9%,\. ]*\)$/i)||n.match(/^hsl\([0-9%,\. ]*\)$/i)||n.match(/^hsla\([0-9%,\. ]*\)$/i)||n.match(/^#[0-9a-f]{3,6}$/i)||n.match(/^[a-z]*$/i))||"text-align"===r&&("left"===n||"right"===n||"center"===n||"justify"===n)||"text-decoration"===r&&("underline"===n||"line-through"===n)||"font-weight"===r&&"bold"===n||"font-style"===r&&"italic"===n||"float"===r&&("left"===n||"right"===n||"none"===n)||"vertical-align"===r&&("baseline"===n||"sub"===n||"super"===n||"test-top"===n||"text-bottom"===n||"middle"===n||"top"===n||"bottom"===n||n.match(/[0-9]*(px|em)/)||n.match(/[0-9]+?%/))||"font-size"===r&&("xx-small"===n||"x-small"===n||"small"===n||"medium"===n||"large"===n||"x-large"===n||"xx-large"===n||"larger"===n||"smaller"===n||n.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===r||"height"===r)&&n.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===r&&n.match(/^ltr|rtl|initial|inherit$/))&&(i+=r+": "+n+";"))}),i}function ft(n,t,i,r){return!("img"!==n||!t["ta-insert-video"]||"ta-insert-video"!==i&&"allowfullscreen"!==i&&"frameborder"!==i&&("contenteditable"!==i||"false"!==r))}function e(n,i){var u=!1,r=t.bind(n,n.push);return{start:function(n,e,o){n=t.lowercase(n);!u&&k[n]&&(u=n);u||d[n]!==!0||(r("<"),r(n),t.forEach(e,function(u,o){var s=t.lowercase(o),h="img"===n&&"src"===s||"background"===s;("style"===s&&""!==(u=ut(u))||ft(n,e,s,u)||bt[s]===!0&&(g[s]!==!0||i(u,h)))&&(r(" "),r(o),r('="'),r(f(u)),r('"'))}),r(o?"/>":">"))},comment:function(n){r(n)},whitespace:function(n){r(f(n))},end:function(n){n=t.lowercase(n);u||d[n]!==!0||(r("<\/"),r(n),r(">"));n==u&&(u=!1)},chars:function(n){u||r(f(n))}}}var et=t.$$minErr("$sanitize"),o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,s=/^<\/\s*([\w:-]+)[^>]*>/,ot=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,st=/^</,ht=/^<\//,ct=/<!--(.*?)-->/g,h=/(^<!--.*?-->)/,c=/<!DOCTYPE([^>]*?)>/i,lt=/<!\[CDATA\[(.*?)]]>/g,at=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vt=/([^\#-~| |!])/g,l=/^(\s+)/,a=i("area,br,col,hr,img,wbr,input"),v=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=i("rp,rt"),p=t.extend({},y,v),w=t.extend({},v,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=t.extend({},y,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),yt=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),k=i("script,style"),d=t.extend({},a,w,b,p,yt),g=i("background,cite,href,longdesc,src,usemap,xlink:href"),pt=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),wt=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),bt=t.extend({},g,wt,pt),r=document.createElement("pre"),kt=/^(\s*)([\s\S]*?)(\s*)$/,nt=function(){return String.prototype.trim?function(n){return t.isString(n)?n.trim():n}:function(n){return t.isString(n)?n.replace(/^\s\s*/,"").replace(/\s\s*$/,""):n}}();t.module("ngSanitize",[]).provider("$sanitize",tt);t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(u,f){function c(n){n&&o.push(it(n))}function a(n,i){o.push("<a ");t.isDefined(f)&&o.push('target="',f,'" ');o.push('href="',n.replace(/"/g,"&quot;"),'">');c(i);o.push("<\/a>")}if(!u)return u;for(var e,h,l,s=u,o=[];e=s.match(i);)h=e[0],e[2]||e[4]||(h=(e[3]?"http://":"mailto:")+h),l=e.index,c(s.substr(0,l)),a(h,e[0].replace(r,"")),s=s.substring(l+e[0].length);return c(s),n(o.join(""))}}])}(window,window.angular);!function(n,t){"function"==typeof define&&define.amd?define("textAngular",["rangy","rangy/lib/rangy-selectionsaverestore"],function(i,r){return n["textAngular.name"]=t(i,r)}):"object"==typeof exports?module.exports=t(require("rangy"),require("rangy/lib/rangy-selectionsaverestore")):n.textAngular=t(rangy)}(this,function(n){function w(n){try{return 0!==angular.element(n).length}catch(n){return!1}}function b(n,t){if(!n||""===n||s.hasOwnProperty(n))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!w(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+n+'" does not have a valid display/iconclass/buttontext value';s[n]=t}function k(n){var i=document.createElement("DIV"),t;return i.innerHTML=n,t=i.textContent||i.innerText||"",t.replace("​",""),t=t.trim()}var s={},r,l,a,v,y,p,e,u,h,o;angular.module("textAngularSetup",[]).constant("taRegisterTool",b).value("taTools",s).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}},defaultFileDropHandler:function(n,t){var i=new FileReader;return"image"===n.type.substring(0,5)&&(i.onload=function(){""!==i.result&&t("insertImage",i.result,!0)},i.readAsDataURL(n),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(n){var t=angular.element("<iframe><\/iframe>"),i=n.prop("attributes");angular.forEach(i,function(n){t.attr(n.name,n.value)});t.attr("src",t.attr("ta-insert-video"));n.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(n,t){return{imgOnSelectAction:function(n,t,i){var u=function(){i.updateTaBindtaTextElement();i.hidePopover()},f,r,e,o,s,h,c,l,a,v;n.preventDefault();i.displayElements.popover.css("width","375px");f=i.displayElements.popoverContainer;f.empty();r=angular.element('<div class="btn-group" style="padding-right: 6px;">');e=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% <\/button>');e.on("click",function(n){n.preventDefault();t.css({width:"100%",height:""});u()});o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% <\/button>');o.on("click",function(n){n.preventDefault();t.css({width:"50%",height:""});u()});s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% <\/button>');s.on("click",function(n){n.preventDefault();t.css({width:"25%",height:""});u()});h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset<\/button>');h.on("click",function(n){n.preventDefault();t.css({width:"",height:""});u()});r.append(e);r.append(o);r.append(s);r.append(h);f.append(r);r=angular.element('<div class="btn-group" style="padding-right: 6px;">');c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"><\/i><\/button>');c.on("click",function(n){n.preventDefault();t.css("float","left");t.css("cssFloat","left");t.css("styleFloat","left");u()});l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"><\/i><\/button>');l.on("click",function(n){n.preventDefault();t.css("float","right");t.css("cssFloat","right");t.css("styleFloat","right");u()});a=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"><\/i><\/button>');a.on("click",function(n){n.preventDefault();t.css("float","");t.css("cssFloat","");t.css("styleFloat","");u()});r.append(c);r.append(a);r.append(l);f.append(r);r=angular.element('<div class="btn-group">');v=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"><\/i><\/button>');v.on("click",function(n){n.preventDefault();t.remove();u()});r.append(v);f.append(r);i.showPopover(t);i.showResizeOverlay(t)},aOnSelectAction:function(i,r,u){var f,s,e,h,c,o;i.preventDefault();u.displayElements.popover.css("width","436px");f=u.displayElements.popoverContainer;f.empty();f.css("line-height","28px");s=angular.element('<a href="'+r.attr("href")+'" target="_blank">'+r.attr("href")+"<\/a>");s.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"});f.append(s);e=angular.element('<div class="btn-group pull-right">');h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"><\/i><\/button>');h.on("click",function(i){i.preventDefault();var f=n.prompt(t.insertLink.dialogPrompt,r.attr("href"));f&&""!==f&&"http://"!==f&&(r.attr("href",f),u.updateTaBindtaTextElement());u.hidePopover()});e.append(h);c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"><\/i><\/button>');c.on("click",function(n){n.preventDefault();r.replaceWith(r.contents());u.updateTaBindtaTextElement();u.hidePopover()});e.append(c);o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"<\/button>");"_blank"===r.attr("target")&&o.addClass("active");o.on("click",function(n){n.preventDefault();r.attr("target","_blank"===r.attr("target")?"":"_blank");o.toggleClass("active");u.updateTaBindtaTextElement()});e.append(o);f.append(e);u.showPopover(r)},extractYoutubeVideoId:function(n){var t=n.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i);return t&&t[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(n,t,i,r,u,f,e){var s={},h,c,o;if(f("",s),e.forceTextAngularSanitize===!0&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");n("html",{iconclass:"fa fa-code",tooltiptext:i.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});h=function(n){return function(){return this.$editor().queryFormatBlockState(n)}};c=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){n(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:i.heading.tooltip+t.charAt(1),action:c,activeState:h(t.toLowerCase())})});n("p",{buttontext:"P",tooltiptext:i.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}});n("pre",{buttontext:"pre",tooltiptext:i.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}});n("ul",{iconclass:"fa fa-list-ul",tooltiptext:i.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}});n("ol",{iconclass:"fa fa-list-ol",tooltiptext:i.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}});n("quote",{iconclass:"fa fa-quote-right",tooltiptext:i.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}});n("undo",{iconclass:"fa fa-undo",tooltiptext:i.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}});n("redo",{iconclass:"fa fa-repeat",tooltiptext:i.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}});n("bold",{iconclass:"fa fa-bold",tooltiptext:i.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98});n("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:i.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(n){if(n&&"#document"===n.nodeName)return!1;var t=!1;if(n)try{t="left"===n.css("text-align")||"left"===n.attr("align")||"right"!==n.css("text-align")&&"center"!==n.css("text-align")&&"justify"!==n.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")}catch(n){t=!1}return t=t||this.$editor().queryCommandState("justifyLeft")}});n("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:i.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(n){if(n&&"#document"===n.nodeName)return!1;var t=!1;if(n)try{t="right"===n.css("text-align")}catch(n){t=!1}return t=t||this.$editor().queryCommandState("justifyRight")}});n("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:i.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(n){var t=!1;if(n)try{t="justify"===n.css("text-align")}catch(n){t=!1}return t=t||this.$editor().queryCommandState("justifyFull")}});n("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:i.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(n){if(n&&"#document"===n.nodeName)return!1;var t=!1;if(n)try{t="center"===n.css("text-align")}catch(n){t=!1}return t=t||this.$editor().queryCommandState("justifyCenter")}});n("indent",{iconclass:"fa fa-indent",tooltiptext:i.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"});n("outdent",{iconclass:"fa fa-outdent",tooltiptext:i.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"});n("italics",{iconclass:"fa fa-italic",tooltiptext:i.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105});n("underline",{iconclass:"fa fa-underline",tooltiptext:i.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117});n("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:i.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}});n("clear",{iconclass:"fa fa-ban",tooltiptext:i.clear.tooltip,action:function(n,t){var e,i,u,o,f;this.$editor().wrapSelection("removeFormat",null);i=angular.element(r.getSelectionElement());e=r.getAllSelectedElements();u=function(n,t){n=angular.element(n);var i=t;return t||(i=n),angular.forEach(n.children(),function(n){if("ul"===n.tagName.toLowerCase()||"ol"===n.tagName.toLowerCase())i=u(n,i);else{var t=angular.element("<p><\/p>");t.html(angular.element(n).html());i.after(t);i=t}}),n.remove(),i};angular.forEach(e,function(n){"ul"!==n.nodeName.toLowerCase()&&"ol"!==n.nodeName.toLowerCase()||u(n)});angular.forEach(i.find("ul"),u);angular.forEach(i.find("ol"),u);o=this.$editor();f=function(n){n=angular.element(n);n[0]!==o.displayElements.text[0]&&n.removeAttr("class");angular.forEach(n.children(),f)};angular.forEach(i,f);i[0]&&"li"!==i[0].tagName.toLowerCase()&&"ol"!==i[0].tagName.toLowerCase()&&"ul"!==i[0].tagName.toLowerCase()&&"true"!==i[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default");t()}});o=function(n){return n.toLowerCase().indexOf("javascript")!==-1};n("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:i.insertImage.tooltip,action:function(){var n,u;if(n=t.prompt(i.insertImage.dialogPrompt,"http://"),n&&""!==n&&"http://"!==n&&!o(n))return r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()&&r.setSelectionAfterElement(r.getSelectionElement()),u='<img src="'+n+'">',this.$editor().wrapSelection("insertHTML",u,!0)},onElementSelect:{element:"img",action:u.imgOnSelectAction}});n("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:i.insertVideo.tooltip,action:function(){var n,f,e;if(n=t.prompt(i.insertVideo.dialogPrompt,"https://"),!o(n)&&n&&""!==n&&"https://"!==n&&(videoId=u.extractYoutubeVideoId(n),videoId))return f="https://www.youtube.com/embed/"+videoId,e='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+f+'" contenteditable="false" allowfullscreen="true" frameborder="0" />',r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()&&r.setSelectionAfterElement(r.getSelectionElement()),this.$editor().wrapSelection("insertHTML",e,!0)},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:u.imgOnSelectAction}});n("insertLink",{tooltiptext:i.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var n;if(n=r.getSelectionElement().tagName&&"a"===r.getSelectionElement().tagName.toLowerCase()?t.prompt(i.insertLink.dialogPrompt,r.getSelectionElement().href):t.prompt(i.insertLink.dialogPrompt,"http://"),n&&""!==n&&"http://"!==n&&!o(n))return this.$editor().wrapSelection("createLink",n,!0)},activeState:function(n){return!!n&&"A"===n[0].tagName},onElementSelect:{element:"a",action:u.aOnSelectAction}});n("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"><\/span><\/div>',disabled:!0,wordcount:0,activeState:function(){var i=this.$editor().displayElements.text,n=i[0].innerHTML||"",t=0;return""!==n.replace(/\s*<[^>]*?>\s*/g,"")&&""!==n.trim()&&(t=n.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=t,this.$editor().wordcount=t,!1}});n("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"><\/span><\/div>',disabled:!0,charcount:0,activeState:function(){var n=this.$editor().displayElements.text,i=n[0].innerText||n[0].textContent,t=i.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=t,this.$editor().charcount=t,!1}})}]);var d="v1.5.16",t={ie:function(){for(var i,n=3,t=document.createElement("div"),r=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",r[0];);return n>4?n:i}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},f=f||{};f.now=function(){return f.now||f.mozNow||f.msNow||f.oNow||f.webkitNow||function(){return(new Date).getTime()}}();var i=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,g=/^(ul|li|ol)$/i,c=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.ie>8||void 0===t.ie){for(e=document.styleSheets,u=0;u<e.length;u++)if((0===e[u].media.length||e[u].media.mediaText.match(/(all|screen)/gi))&&e[u].href&&e[u].href.match(/textangular\.(min\.|)css/gi)){r=e[u];break}r||(r=function(){var n=document.createElement("style");return t.webkit&&n.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(n),n.sheet}());l=function(n,t){return v(r,n,t)};v=function(n,t,i){var u,f;return n.cssRules?u=Math.max(n.cssRules.length-1,0):n.rules&&(u=Math.max(n.rules.length-1,0)),n.insertRule?n.insertRule(t+"{"+i+"}",u):n.addRule(t,i,u),r.rules?f=r.rules[u]:r.cssRules&&(f=r.cssRules[u]),f};p=function(n,t){for(var r,i=0;i<t.length;i++)if(t[i].cssText===n.cssText){r=i;break}return r};a=function(n){y(r,n)};y=function(n,t){var i=n.cssRules||n.rules,r;i&&0!==i.length&&(r=p(t,i),n.removeRule?n.removeRule(r):n.deleteRule(r))}}return angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(n){return n?""===n?void 0===t.ie?"div":t.ie<=8?"P":"p":t.ie<=8?n.toUpperCase():n:t.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(n,t){return function(i){var r=angular.element("<div><\/div>");return r[0].innerHTML=i,angular.forEach(n,function(n){var i=[];n.selector&&""!==n.selector?i=r.find(n.selector):n.customAttribute&&""!==n.customAttribute&&(i=t.getByAttribute(r,n.customAttribute));angular.forEach(i,function(t){t=angular.element(t);n.selector&&""!==n.selector&&n.customAttribute&&""!==n.customAttribute?void 0!==t.attr(n.customAttribute)&&n.renderLogic(t):n.renderLogic(t)})}),r[0].innerHTML}}]).factory("taFixChrome",function(){return function(n,t){if(!n||!angular.isString(n)||n.length<=0)return n;for(var i,f,e,o=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,s=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,r="",u=0;i=s.exec(n);)e=i[1],e=e.replace(/&nbsp;/gi," "),r+=n.substring(u,i.index)+e,u=i.index+i[0].length;if(u&&(r+=n.substring(u),n=r,r="",u=0),!t){for(;i=o.exec(n);)r+=n.substring(u,i.index-1),f=i[0],i=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(f),i?(f=f.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),f.length>8&&(r+=" "+f)):r+=" "+f,u=o.lastIndex;r+=n.substring(u)}return u>0?r.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):n}}).factory("taSanitize",["$sanitize",function(n){function e(n,t){for(var i,r=0,u=0,f=/<[^>]*>/gi;i=f.exec(n);)if(u=i.index,"/"===i[0].substr(1,1)){if(0===r)break;r--}else r++;return t+n.substring(0,u)+angular.element(t)[0].outerHTML.substring(t.length)+n.substring(u)}function o(n){var y,p;if(!n||!angular.isString(n)||n.length<=0)return n;for(var u,i,v,r,l,a,w=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,s="",h="",c=0;i=w.exec(n);)if(r=i[3]||i[4],y=new RegExp(f,"i"),angular.isString(r)&&y.test(r)){for(l="",p=new RegExp(f,"ig");v=p.exec(r);)for(u=0;u<t.length;u++)v[2*u+2]&&(l+="<"+t[u].tag+">");a=o(n.substring(c,i.index));h+=s.length>0?e(a,s):a;r=r.replace(new RegExp(f,"ig"),"");h+="<"+i[1].trim();r.length>0&&(h+=' style="'+r+'"');h+=i[5]+">";c=i.index+i[0].length;s=l}return h+(s.length>0?e(n.substring(c),s):n.substring(c))}function c(n){var i;if(!n||!angular.isString(n)||n.length<=0)return n;for(var t,f=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",u=0;t=f.exec(n);)r+=n.substring(u,t.index),u=t.index+t[0].length,i="<"+t[1]+t[5],/style=("([^"]+)"|'([^']+)')/gi.test(i)?i=i.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):i+=' style="text-align:'+(t[3]||t[4])+';"',i+=">",r+=i;return r+n.substring(u)}for(var r,u,t=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],s=[],i=0;i<t.length;i++){for(r="("+t[i].property+":\\s*(",u=0;u<t[i].values.length;u++)u>0&&(r+="|"),r+=t[i].values[u];r+=");)";s.push(r)}var f="("+s.join("|")+")",h=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),l=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),a=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(t,i,r){var u;if(!r)try{t=o(t)}catch(n){}if(t=c(t))try{t=t.replace(h,"");t=t.replace(l,"");t=t.replace(h,"");t=t.replace(a,"")}catch(n){}try{u=n(t);r&&(u=t)}catch(n){u=i||""}var f,y=u.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),e=u.replace(/(&#(9|10);)*/gi,""),p=/<pre[^>]*>.*?<\/pre[^>]*>/gi,s=0,v=0;for(u="";null!==(f=p.exec(e))&&s<y.length;)u+=e.substring(v,f.index)+y[s],v=f.index+f[0].length,s++;return u+e.substring(v)}}]).factory("taToolExecuteAction",["$q","$log",function(n,t){return function(i){void 0!==i&&(this.$editor=function(){return i});var r,u=n.defer(),e=u.promise,f=this.$editor();try{r=this.action(u,f.startAction());e.finally(function(){f.endAction.call(f)})}catch(n){t.error(n)}(r||void 0===r)&&u.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(t,r,u){var f=function(n,i){for(var u,f=n.find("li"),r=f.length-1;r>=0;r--)u=angular.element("<"+i+">"+f[r].innerHTML+"<\/"+i+">"),n.after(u);n.remove();t.setSelectionToElementEnd(u[0])},o=function(n,i,u,f,e){for(var h,p,w,y,s=n.find("li"),c,l,a,v,o=0;o<s.length;o++)if(s[o].outerHTML===i[0].outerHTML){y=o;o>0&&(p=s[o-1]);o+1<s.length&&(w=s[o+1]);break}if(c="",f?c+="<"+e+">"+i[0].innerHTML+"<\/"+e+">":(c+="<"+r(u)+">",c+="<li>"+i[0].innerHTML+"<\/li>",c+="<\/"+r(u)+">"),h=angular.element(c),!p)return i.remove(),n.after(angular.element(n[0].outerHTML)),n.after(h),n.remove(),void t.setSelectionToElementEnd(h[0]);if(w){for(l=(n.parent(),""),a=n[0].nodeName.toLowerCase(),l+="<"+a+">",o=0;o<y;o++)l+="<li>"+s[o].innerHTML+"<\/li>";for(l+="<\/"+a+">",v="",v+="<"+a+">",o=y+1;o<s.length;o++)v+="<li>"+s[o].innerHTML+"<\/li>";v+="<\/"+a+">";n.after(angular.element(v));n.after(h);n.after(angular.element(l));n.remove();t.setSelectionToElementEnd(h[0])}else i.remove(),n.after(h),t.setSelectionToElementEnd(h[0])},l=function(n,i,u,f,e){for(var c,o,w,b,h=n.find("li"),l=[],a,v,y,p,s=0;s<h.length;s++)for(o=0;o<i.length;o++)h[s].isEqualNode(i[o])&&(l[o]=s);if(l[0]>0&&(w=h[l[0]-1]),l[i.length-1]+1<h.length&&(b=h[l[i.length-1]+1]),a="",f)for(o=0;o<i.length;o++)a+="<"+e+">"+i[o].innerHTML+"<\/"+e+">",i[o].remove();else{for(a+="<"+r(u)+">",o=0;o<i.length;o++)a+=i[o].outerHTML,i[o].remove();a+="<\/"+r(u)+">"}if(c=angular.element(a),!w)return n.after(angular.element(n[0].outerHTML)),n.after(c),n.remove(),void t.setSelectionToElementEnd(c[0]);if(!b)return n.after(c),void t.setSelectionToElementEnd(c[0]);for(v="",y=n[0].nodeName.toLowerCase(),v+="<"+y+">",s=0;s<l[0];s++)v+="<li>"+h[s].innerHTML+"<\/li>";for(v+="<\/"+y+">",p="",p+="<"+y+">",s=l[i.length-1]+1;s<h.length;s++)p+="<li>"+h[s].innerHTML+"<\/li>";p+="<\/"+y+">";n.after(angular.element(p));n.after(c);n.after(angular.element(v));n.remove();t.setSelectionToElementEnd(c[0])},s=function(n){/(<br(|\/)>)$/i.test(n.innerHTML.trim())?t.setSelectionBeforeElement(angular.element(n).find("br")[0]):t.setSelectionToElementEnd(n)},e=function(n,t){var i=angular.element("<"+t+">"+n[0].innerHTML+"<\/"+t+">");n.after(i);n.remove();s(i.find("li")[0])},h=function(n,t,i){for(var e,f="",u=0;u<n.length;u++)f+="<"+r("li")+">"+n[u].innerHTML+"<\/"+r("li")+">";e=angular.element("<"+i+">"+f+"<\/"+i+">");t.after(e);t.remove();s(e.find("li")[0])},c=function(n,t){for(var u,f,r=0;r<n.childNodes.length;r++)u=n.childNodes[r],u.tagName&&u.tagName.match(i)&&c(u,t);return null===n.parentNode?n:"<br>"===t?n:(f=angular.element(t),f[0].innerHTML=n.innerHTML,n.parentNode.insertBefore(f[0],n),n.parentNode.removeChild(n),f)};return function(s,a){return s=r(s),function(v,y,p,w){var k,nt,ot,b,bt,st,it,ut,ht=angular.element("<"+s+">"),d,vt,tt,ft,rt,et,wt,yt,at,pt,kt,ct,lt,ni;try{t.getSelection&&(ut=t.getSelection());it=t.getSelectionElement();void 0!==it.tagName&&("div"===it.tagName.toLowerCase()&&/taTextElement.+/.test(it.id)&&ut&&ut.start&&1===ut.start.offset&&1===ut.end.offset?(d=it.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(d)&&(d=d.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(d)&&(d=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(d)&&(d=__.replace(/<\/span>(<\/span>)+/i,"<\/span>")),/<span><\/span>/i.test(d)&&(d=d.replace(/<span><\/span>/i,"")),vt="<div>"+d+"<\/div>",it.innerHTML=vt,t.setSelectionToElementEnd(it.childNodes[0]),it=t.getSelectionElement()):"span"===it.tagName.toLowerCase()&&ut&&ut.start&&1===ut.start.offset&&1===ut.end.offset?(d=it.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(d)&&(d=d.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(d)&&(d=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(d)&&(d=__.replace(/<\/span>(<\/span>)+/i,"<\/span>")),/<span><\/span>/i.test(d)&&(d=d.replace(/<span><\/span>/i,"")),vt="<div>"+d+"<\/div>",it.innerHTML=vt,t.setSelectionToElementEnd(it.childNodes[0]),it=t.getSelectionElement()):"p"===it.tagName.toLowerCase()&&ut&&ut.start&&1===ut.start.offset&&1===ut.end.offset?(d=it.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,"&#8203;"),it.innerHTML=d)):"li"===it.tagName.toLowerCase()&&ut&&ut.start&&ut.start.offset===ut.end.offset&&(d=it.innerHTML,/<br>/i.test(d)&&(d=d.replace(/<br>/i,""),it.innerHTML=d)))}catch(n){}if(it){if(tt=angular.element(it),ft=it&&it.tagName&&it.tagName.toLowerCase()||"","insertorderedlist"===v.toLowerCase()||"insertunorderedlist"===v.toLowerCase()){if(rt=r("insertorderedlist"===v.toLowerCase()?"ol":"ul"),et=t.getOnlySelectedElements(),et.length>1&&("ol"===ft||"ul"===ft))return l(tt,et,rt,rt===ft,s);if(ft===rt)return tt[0].childNodes.length!==et.length&&1===et.length?(tt=angular.element(et[0]),o(tt.parent(),tt,rt,!0,s)):f(tt,s);if("li"===ft&&tt.parent()[0].tagName.toLowerCase()===rt&&1===tt.parent().children().length)return f(tt.parent(),s);if("li"===ft&&tt.parent()[0].tagName.toLowerCase()!==rt&&1===tt.parent().children().length)return e(tt.parent(),rt);if(ft.match(i)&&!tt.hasClass("ta-bind"))return et.length&&tt[0].childNodes.length!==et.length&&1===et.length?(tt=angular.element(et[0]),o(tt.parent(),tt,rt,rt===ft,s)):"ol"===ft||"ul"===ft?e(tt,rt):(wt=!1,angular.forEach(tt.children(),function(n){n.tagName.match(i)&&(wt=!0)}),wt?h(tt.children(),tt,rt):h([angular.element("<div>"+it.innerHTML+"<\/div>")[0]],tt,rt));if(ft.match(i)){if(b=t.getOnlySelectedElements(),0===b.length)nt=angular.element("<"+rt+"><li>"+it.innerHTML+"<\/li><\/"+rt+">"),tt.html(""),tt.append(nt);else{if(1===b.length&&("ol"===b[0].tagName.toLowerCase()||"ul"===b[0].tagName.toLowerCase()))return b[0].tagName.toLowerCase()===rt?f(angular.element(b[0]),s):e(angular.element(b[0]),rt);for(ot="",yt=[],k=0;k<b.length;k++)if(3!==b[k].nodeType){if(at=angular.element(b[k]),"li"===b[k].tagName.toLowerCase())continue;ot+="ol"===b[k].tagName.toLowerCase()||"ul"===b[k].tagName.toLowerCase()?at[0].innerHTML:"span"!==b[k].tagName.toLowerCase()||"ol"!==b[k].childNodes[0].tagName.toLowerCase()&&"ul"!==b[k].childNodes[0].tagName.toLowerCase()?"<"+r("li")+">"+at[0].innerHTML+"<\/"+r("li")+">":at[0].childNodes[0].innerHTML;yt.unshift(at)}nt=angular.element("<"+rt+">"+ot+"<\/"+rt+">");yt.pop().replaceWith(nt);angular.forEach(yt,function(n){n.remove()})}return void t.setSelectionToElementEnd(nt[0])}}else{if("formatblock"===v.toLowerCase()){for(st=p.toLowerCase().replace(/[<>]/gi,""),"default"===st.trim()&&(st=s,p="<"+s+">"),nt="li"===ft?tt.parent():tt;!nt[0].tagName||!nt[0].tagName.match(i)&&!nt.parent().attr("contenteditable");)nt=nt.parent(),ft=(nt[0].tagName||"").toLowerCase();if(ft===st){for(b=nt.children(),pt=!1,k=0;k<b.length;k++)pt=pt||b[k].tagName.match(i);pt?(nt.after(b),bt=nt.next(),nt.remove(),nt=bt):(ht.append(nt[0].childNodes),nt.after(ht),nt.remove(),nt=ht)}else if(nt.parent()[0].tagName.toLowerCase()!==st||nt.parent().hasClass("ta-bind"))if(ft.match(g))nt.wrap(p);else{for(b=t.getOnlySelectedElements(),0===b.length&&(b=[nt[0]]),k=0;k<b.length;k++)if(3===b[k].nodeType||!b[k].tagName.match(i))for(;3===b[k].nodeType||!b[k].tagName||!b[k].tagName.match(i);)b[k]=b[k].parentNode;if(b=b.filter(function(n,t,i){return i.indexOf(n)===t}),b.length>1&&(b=b.filter(function(n){return!("div"===n.nodeName.toLowerCase()&&/^taTextElement/.test(n.id))})),angular.element(b[0]).hasClass("ta-bind"))nt=angular.element(p),nt[0].innerHTML=b[0].innerHTML,b[0].innerHTML=nt[0].outerHTML;else if("blockquote"===st){for(ot="",k=0;k<b.length;k++)ot+=b[k].outerHTML;for(nt=angular.element(p),nt[0].innerHTML=ot,b[0].parentNode.insertBefore(nt[0],b[0]),k=b.length-1;k>=0;k--)b[k].parentNode&&b[k].parentNode.removeChild(b[k])}else if("pre"===st&&t.getStateShiftKey()){for(ot="",k=0;k<b.length;k++)ot+=b[k].outerHTML;for(nt=angular.element(p),nt[0].innerHTML=ot,b[0].parentNode.insertBefore(nt[0],b[0]),k=b.length-1;k>=0;k--)b[k].parentNode&&b[k].parentNode.removeChild(b[k])}else for(k=0;k<b.length;k++)kt=c(b[k],p),b[k]===nt[0]&&(nt=angular.element(kt))}else{for(ct=nt.parent(),lt=ct.contents(),k=0;k<lt.length;k++)ct.parent().hasClass("ta-bind")&&3===lt[k].nodeType&&(ht=angular.element("<"+s+">"),ht[0].innerHTML=lt[k].outerHTML,lt[k]=ht[0]),ct.parent()[0].insertBefore(lt[k],ct[0]);ct.remove()}return t.setSelectionToElementEnd(nt[0]),void nt[0].focus()}if("createlink"===v.toLowerCase()){if("a"===ft)return void(t.getSelectionElement().href=p);var dt='<a href="'+p+'" target="'+(w.a.target?w.a.target:"")+'">',gt="<\/a>",ti=t.getSelection();ti.collapsed?t.insertHtml(dt+p+gt,a):n.getSelection().getRangeAt(0).canSurroundContents()&&(ni=angular.element(dt+gt)[0],n.getSelection().getRangeAt(0).surroundContents(ni));return}if("inserthtml"===v.toLowerCase())return void t.insertHtml(p,a)}try{u[0].execCommand(v,y,p)}catch(n){}}}}}]).service("taSelection",["$document","taDOM","$log",function(t,r){var e,f=t[0],o=function(n,t){return n.tagName&&n.tagName.match(/^br$/i)&&0===t&&!n.previousSibling?{element:n.parentNode,offset:0}:{element:n,offset:t}},u={getSelection:function(){var r,t,i;try{r=n.getSelection().getRangeAt(0)}catch(n){return}return t=r.commonAncestorContainer,i={start:o(r.startContainer,r.startOffset),end:o(r.endContainer,r.endOffset),collapsed:r.collapsed},3===t.nodeType&&("div"===t.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(t.parentNode.id)||(t=t.parentNode)),"div"===t.nodeName.toLowerCase()&&/^taTextElement/.test(t.id)?(i.start.element=t.childNodes[i.start.offset],i.end.element=t.childNodes[i.end.offset],i.container=t):i.container=t.parentNode===i.start.element||t.parentNode===i.end.element?t.parentNode:t,i},updateLeftArrowKey:function(){var i=n.getSelection().getRangeAt(0),t,s,f,o,r,e;if(i&&i.collapsed){if(t=u.getFlattenedDom(i),!t.findIndex)return;if(o=i.startContainer,r=t.findIndex(function(n){if(n.node===o)return!0;var t=n.parents.indexOf(o);return t!==-1}),t.forEach(function(n){n.parents.forEach(function(){})}),r+1<t.length&&(f=t[r+1].node),f&&f.textContent&&(s=/^\ufeff([^\ufeff]*)$/.exec(f.textContent)))return;if(r>0&&(e=t[r-1].node),0===i.startOffset&&e&&(s=/^\ufeff([^\ufeff]*)$/.exec(e.textContent)))return void u.setSelectionToElementEnd(e)}},updateRightArrowKey:function(){},getFlattenedDom:function(n){function u(n){if(n.node.childNodes.length){var t=Array.prototype.slice.call(n.node.childNodes);t.forEach(function(t){var i=n.parents.slice();i.slice(-1)[0]!==n.node&&i.push(n.node);u({parents:i,node:t})})}else i.push({parents:n.parents,node:n.node})}var t=n.commonAncestorContainer.parentNode,i,r;return t?(i=Array.prototype.slice.call(t.childNodes),r=i.indexOf(n.startContainer),r+1<i.length&&r>0||t.parentNode&&(t=t.parentNode),i=[],u({parents:[t],node:t}),i):n.commonAncestorContainer.childNodes},getOnlySelectedElements:function(){var i=n.getSelection().getRangeAt(0),t=i.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,i.getNodes([1],function(n){return n.parentNode===t})},getAllSelectedElements:function(){var u=n.getSelection().getRangeAt(0),t=u.commonAncestorContainer,i,r,f,e;if(t=3===t.nodeType?t.parentNode:t,i=u.getNodes([1],function(n){return n.parentNode===t}),r=t.innerHTML,r=r.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""),r===u.toHtml()&&("div"!==t.nodeName.toLowerCase()||!/^taTextElement/.test(t.id))){for(f=[],e=i.length;e--;f.unshift(i[e]));i=f;i.push(t)}return i},getSelectionElement:function(){var n=u.getSelection();if(n)return u.getSelection().container},setSelection:function(t,i,r,u){var f=n.createRange();f.setStart(t,r);f.setEnd(i,u);n.getSelection().setSingleRange(f)},setSelectionBeforeElement:function(t){var i=n.createRange();i.selectNode(t);i.collapse(!0);n.getSelection().setSingleRange(i)},setSelectionAfterElement:function(t){var i=n.createRange();i.selectNode(t);i.collapse(!1);n.getSelection().setSingleRange(i)},setSelectionToElementStart:function(t){var i=n.createRange();i.selectNodeContents(t);i.collapse(!0);n.getSelection().setSingleRange(i)},setSelectionToElementEnd:function(t){var i=n.createRange();i.selectNodeContents(t);i.collapse(!1);t.childNodes&&t.childNodes[t.childNodes.length-1]&&"br"===t.childNodes[t.childNodes.length-1].nodeName&&(i.startOffset=i.endOffset=i.startOffset-1);n.getSelection().setSingleRange(i)},setStateShiftKey:function(n){e=n},getStateShiftKey:function(){return e},insertHtml:function(t,e){var o,h,b,k,v,l,g,y=angular.element("<div>"+t+"<\/div>"),s=n.getSelection().getRangeAt(0),a=f.createDocumentFragment(),nt=y[0].childNodes,p=!0,w,d,tt;if(nt.length>0){for(k=[],b=0;b<nt.length;b++)w=nt[b],"p"===w.nodeName.toLowerCase()&&""===w.innerHTML.trim()||(p=p&&!i.test(w.nodeName),k.push(w));for(d=0;d<k.length;d++)l=a.appendChild(k[d]);!p&&s.collapsed&&/^(|<br(|\/)>)$/i.test(s.startContainer.innerHTML)&&s.selectNode(s.startContainer)}else p=!0,l=a=f.createTextNode(t);if(p)s.deleteContents();else if(s.collapsed&&s.startContainer!==e)if(s.startContainer.innerHTML&&s.startContainer.innerHTML.match(/^<[^>]*>$/i))o=s.startContainer,1===s.startOffset?(s.setStartAfter(o),s.setEndAfter(o)):(s.setStartBefore(o),s.setEndBefore(o));else{if(3===s.startContainer.nodeType&&s.startContainer.parentNode!==e)for(o=s.startContainer.parentNode,h=o.cloneNode(),r.splitNodes(o.childNodes,o,h,s.startContainer,s.startOffset);!c.test(o.nodeName);)angular.element(o).after(h),o=o.parentNode,tt=h,h=o.cloneNode(),r.splitNodes(o.childNodes,o,h,tt);else o=s.startContainer,h=o.cloneNode(),r.splitNodes(o.childNodes,o,h,void 0,void 0,s.startOffset);if(angular.element(o).after(h),s.setStartAfter(o),s.setEndAfter(o),/^(|<br(|\/)>)$/i.test(o.innerHTML.trim())&&(s.setStartBefore(o),s.setEndBefore(o),angular.element(o).remove()),/^(|<br(|\/)>)$/i.test(h.innerHTML.trim())&&angular.element(h).remove(),"li"===o.nodeName.toLowerCase()){for(g=f.createDocumentFragment(),v=0;v<a.childNodes.length;v++)y=angular.element("<li>"),r.transferChildNodes(a.childNodes[v],y[0]),r.transferNodeAttributes(a.childNodes[v],y[0]),g.appendChild(y[0]);a=g;l&&(l=a.childNodes[a.childNodes.length-1],l=l.childNodes[l.childNodes.length-1])}}else s.deleteContents();s.insertNode(a);l&&u.setSelectionToElementEnd(l)}};return u}]).service("taDOM",function(){var n={getByAttribute:function(t,i){var r=[],u=t.children();return u.length&&angular.forEach(u,function(t){r=r.concat(n.getByAttribute(angular.element(t),i))}),void 0!==t.attr(i)&&r.push(t),r},transferChildNodes:function(n,t){for(t.innerHTML="";n.childNodes.length>0;)t.appendChild(n.childNodes[0]);return t},splitNodes:function(t,i,r,u,f,e){if(!u&&isNaN(e))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var o=document.createDocumentFragment(),s=document.createDocumentFragment(),h=0;t.length>0&&(isNaN(e)||e!==h)&&t[0]!==u;)o.appendChild(t[0]),h++;for(!isNaN(f)&&f>=0&&t[0]&&(o.appendChild(document.createTextNode(t[0].nodeValue.substring(0,f))),t[0].nodeValue=t[0].nodeValue.substring(f));t.length>0;)s.appendChild(t[0]);n.transferChildNodes(o,i);n.transferChildNodes(s,r)},transferNodeAttributes:function(n,t){for(var i=0;i<n.attributes.length;i++)t.setAttribute(n.attributes[i].name,n.attributes[i].value);return t}};return n}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=parseInt(n.$eval(i.taMaxText));if(isNaN(u))throw"Max text must be an integer";i.$observe("taMaxText",function(n){if(u=parseInt(n),isNaN(u))throw"Max text must be an integer";r.$dirty&&r.$validate()});r.$validators.taMaxText=function(n){var t=angular.element("<div/>");return t.html(n),t.text().length<=u}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=parseInt(n.$eval(i.taMinText));if(isNaN(u))throw"Min text must be an integer";i.$observe("taMinText",function(n){if(u=parseInt(n),isNaN(u))throw"Min text must be an integer";r.$dirty&&r.$validate()});r.$validators.taMinText=function(n){var t=angular.element("<div/>");return t.html(n),!t.text().length||t.text().length>=u}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(n){if(!n)return!0;var t=k(n);return""===t&&!/<img[^>]+>/.test(n)}}]).directive("taButton",[function(){return{link:function(n,t){t.attr("unselectable","on");t.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(r,u,f,e,o,s,v,y,p,w,b,k,d){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(o,k,g,nt){function ki(n){var t;return ur.forEach(function(i){if(i.keyCode===n.keyCode){var r=(n.metaKey?st:0)+(n.ctrlKey?ot:0)+(n.shiftKey?ct:0)+(n.altKey?ht:0);if(i.forbiddenModifiers&r)return;i.mustHaveModifiers.every(function(n){return r&n})&&(t=i.specialKey)}}),t}var li,ii,ut,ai,tt=nt[0],ri=nt[1]||{},rt=void 0!==k.attr("contenteditable")&&k.attr("contenteditable"),vi=rt||"textarea"===k[0].tagName.toLowerCase()||"input"===k[0].tagName.toLowerCase(),it=!1,vt=!1,kt=!1,yi=g.taUnsafeSanitizer||p.disableSanitizer,di=g.taKeepStyles||p.keepStyles,gi=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,nr=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,ot=1,st=2,ht=4,ct=8,ui=13,tr=16,dt=9,ir=37,rr=39,ur=[{specialKey:"UndoKey",forbiddenModifiers:ht+ct,mustHaveModifiers:[st+ot],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:ht,mustHaveModifiers:[st+ot,ct],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:ht+ct,mustHaveModifiers:[st+ot],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:st+ct+ht+ot,mustHaveModifiers:[],keyCode:dt},{specialKey:"ShiftTabKey",forbiddenModifiers:st+ht+ot,mustHaveModifiers:[ct],keyCode:dt}],fi,yt,oi,bt,gt,si,hi,pi,ni,at,ti;void 0===g.taDefaultWrap&&(g.taDefaultWrap="p");""===g.taDefaultWrap?(ut="",ai=void 0===t.ie?"<div><br><\/div>":t.ie>=11?"<p><br><\/p>":t.ie<=8?"<P>&nbsp;<\/P>":"<p>&nbsp;<\/p>"):(ut=void 0===t.ie||t.ie>=11?"br"===g.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+g.taDefaultWrap+"><br><\/"+g.taDefaultWrap+">":t.ie<=8?"<"+g.taDefaultWrap.toUpperCase()+"><\/"+g.taDefaultWrap.toUpperCase()+">":"<"+g.taDefaultWrap+"><\/"+g.taDefaultWrap+">",ai=void 0===t.ie||t.ie>=11?"br"===g.taDefaultWrap.toLowerCase()?"<br><br>":"<"+g.taDefaultWrap+"><br><\/"+g.taDefaultWrap+">":t.ie<=8?"<"+g.taDefaultWrap.toUpperCase()+">&nbsp;<\/"+g.taDefaultWrap.toUpperCase()+">":"<"+g.taDefaultWrap+">&nbsp;<\/"+g.taDefaultWrap+">");ri.$options||(ri.$options={});fi=function(n){var s,t,u,h,r,f,e,o;if(w(n))return n;if(s=angular.element("<div>"+n+"<\/div>"),0===s.children().length)n="<"+g.taDefaultWrap+">"+n+"<\/"+g.taDefaultWrap+">";else{for(u=s[0].childNodes,h=!1,t=0;t<u.length&&!(h=u[t].nodeName.toLowerCase().match(i));t++);if(h)for(n="",t=0;t<u.length;t++)r=u[t],f=r.nodeName.toLowerCase(),"#comment"===f?n+="<!--"+r.nodeValue+"-->":"#text"===f?(e=r.textContent,n+=e.trim()?"<"+g.taDefaultWrap+">"+e+"<\/"+g.taDefaultWrap+">":e):f.match(i)?n+=r.outerHTML:(o=r.outerHTML||r.nodeValue,n+=""!==o.trim()?"<"+g.taDefaultWrap+">"+o+"<\/"+g.taDefaultWrap+">":o);else n="<"+g.taDefaultWrap+">"+n+"<\/"+g.taDefaultWrap+">"}return n};g.taPaste&&(ii=b(g.taPaste));k.addClass("ta-bind");o["$undoManager"+(g.id||"")]=tt.$undoManager={_stack:[],_index:0,_max:1e3,push:function(n){return"undefined"==typeof n||null===n||"undefined"!=typeof this.current()&&null!==this.current()&&n===this.current()?n:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(n),yt&&u.cancel(yt),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,n)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(n){if(!(n<0||n>this._stack.length-1))return this._index=n,this.current()},current:function(){return this._stack[this._index]}};var lt,ft=function(){if(rt)return k[0].innerHTML;if(vi)return k.val();throw"textAngular Error: attempting to update non-editable taBind";},pt=function(n){return o.$emit("ta-element-select",this),n.preventDefault(),!1},ei=o["reApplyOnSelectorHandlers"+(g.id||"")]=function(){it||angular.forEach(v,function(n){k.find(n).off("click",pt).on("click",pt)})},et=function(n,t,i){kt=i||!1;"undefined"!=typeof t&&null!==t||(t=rt);"undefined"!=typeof n&&null!==n||(n=ft());w(n)?(""!==tt.$viewValue&&tt.$setViewValue(""),t&&""!==tt.$undoManager.current()&&tt.$undoManager.push("")):(ei(),tt.$viewValue!==n&&(tt.$setViewValue(n),t&&tt.$undoManager.push(n)));tt.$render()},wt=function(n){k[0].innerHTML=n},fr=o["$undoTaBind"+(g.id||"")]=function(){if(!it&&rt){var n=tt.$undoManager.undo();"undefined"!=typeof n&&null!==n&&(wt(n),et(n,!1),lt&&u.cancel(lt),lt=u(function(){k[0].focus();s.setSelectionToElementEnd(k[0])},1))}},er=o["$redoTaBind"+(g.id||"")]=function(){if(!it&&rt){var n=tt.$undoManager.redo();"undefined"!=typeof n&&null!==n&&(wt(n),et(n,!1),lt&&u.cancel(lt),lt=u(function(){k[0].focus();s.setSelectionToElementEnd(k[0])},1))}};if(o["updateTaBind"+(g.id||"")]=function(){it||et(void 0,void 0,!0)},oi=function(n){return tt.$oldViewValue=r(e(n,di),tt.$oldViewValue,yi)},k.attr("required")&&(tt.$validators.required=function(n,t){return!w(n||t)}),tt.$parsers.push(oi),tt.$parsers.unshift(fi),tt.$formatters.push(oi),tt.$formatters.unshift(fi),tt.$formatters.unshift(function(n){return tt.$undoManager.push(n||"")}),vi)if(o.events={},rt){bt=!1;gt=function(n){var ut=void 0!==n&&n.match(/content=["']*OneNote.File/i),e,d,c,f,i,v,nt,it,p,b,g;if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)||n.match(/content=["']*Word.Document/i)||n.match(/content=["']*OneNote.File/i)){e=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);e=e?e[1]:n;e=e.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var a=angular.element("<div>"+e+"<\/div>"),h=angular.element("<div><\/div>"),t={element:null,lastIndent:[],lastLi:null,isUl:!1};for(t.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]},d=function(n){t.isUl=n;t.element=angular.element(n?"<ul>":"<ol>");t.lastIndent=[];t.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]};t.lastLevelMatch=null},c=0;c<=a[0].childNodes.length;c++)if(a[0].childNodes[c]&&"#text"!==a[0].childNodes[c].nodeName&&(f=a[0].childNodes[c].tagName.toLowerCase(),"p"===f||"ul"===f||"h1"===f||"h2"===f||"h3"===f||"h4"===f||"h5"===f||"h6"===f||"table"===f))if(i=angular.element(a[0].childNodes[c]),v=(i.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i),v){if(i[0].childNodes.length<2||i[0].childNodes[1].childNodes.length<1)continue;var w="bullet"===v[1].toLowerCase()||"number"!==v[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(i[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(i[0].childNodes[1].childNodes[0].innerHTML)),rt=(i.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),l=parseFloat(rt?rt[1]:0),y=(i.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(y&&y[2]&&(l=parseInt(y[2])),(!y||t.lastLevelMatch&&y[1]===t.lastLevelMatch[1])&&v[3]&&"first"!==v[3].toLowerCase()&&null!==t.lastIndent.peek()&&(t.isUl===w||t.lastIndent.peek()!==l)){if(null!=t.lastIndent.peek()&&t.lastIndent.peek()<l)t.element=angular.element(w?"<ul>":"<ol>"),t.lastLi.append(t.element);else if(null!=t.lastIndent.peek()&&t.lastIndent.peek()>l){for(;null!=t.lastIndent.peek()&&t.lastIndent.peek()>l;)if("li"!==t.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(t.element.parent()[0].tagName.toLowerCase()))break;t.element=t.element.parent();t.lastIndent.pop()}else t.element=t.element.parent();t.isUl="ul"===t.element[0].tagName.toLowerCase();w!==t.isUl&&(d(w),h.append(t.element))}}else d(w),h.append(t.element);t.lastLevelMatch=y;l!==t.lastIndent.peek()&&t.lastIndent.push(l);t.lastLi=angular.element("<li>");t.element.append(t.lastLi);t.lastLi.html(i.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,""));i.remove()}else d(!1),h.append(i);nt=function(n){n=angular.element(n);for(var t=n[0].childNodes.length-1;t>=0;t--)n.after(n[0].childNodes[t]);n.remove()};angular.forEach(h.find("span"),function(n){n.removeAttribute("lang");n.attributes.length<=0&&nt(n)});angular.forEach(h.find("font"),nt);n=h.html();ut&&(n=h.html()||a.html());n=n.replace(/\n/g," ")}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){for(it=angular.element("<div>"+n+"<\/div>"),it.find("textarea").remove(),p=0;p<binds.length;p++){for(b=binds[p][0].parentNode.parentNode,g=0;g<binds[p][0].childNodes.length;g++)b.parentNode.insertBefore(binds[p][0].childNodes[g],b);b.parentNode.removeChild(b)}n=it.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(n=n.replace(/<(|\/)span[^>]*?>/gi,"")));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&<\/ul>"));n=n.replace(/^[ |\u00A0]+/gm,function(n){for(var t="",i=0;i<n.length;i++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");ii&&(n=ii(o,{$html:n})||n);n=n.replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5<\/sup>");n=r(n,"",yi);s.insertHtml(n,k[0]);u(function(){tt.$setViewValue(ft());bt=!1;k.removeClass("processing-paste")},0)}else bt=!1,k.removeClass("processing-paste")};k.on("paste",o.events.paste=function(t,i){var e,r,s,h,c,o;if(i&&angular.extend(t,i),it||bt)return t.stopPropagation(),t.preventDefault(),!1;if(bt=!0,k.addClass("processing-paste"),r=(t.originalEvent||t).clipboardData,!r&&window.clipboardData&&window.clipboardData.getData)return e=window.clipboardData.getData("Text"),gt(e),t.stopPropagation(),t.preventDefault(),!1;if(r&&r.getData&&r.types.length>0){for(s="",h=0;h<r.types.length;h++)s+=" "+r.types[h];return/text\/html/i.test(s)?e=r.getData("text/html"):/text\/plain/i.test(s)&&(e=r.getData("text/plain")),gt(e),t.stopPropagation(),t.preventDefault(),!1}c=n.saveSelection();o=angular.element('<div class="ta-hidden-input" contenteditable="true"><\/div>');f.find("body").append(o);o[0].focus();u(function(){n.restoreSelection(c);gt(o[0].innerHTML);k[0].focus();o.remove()},0)});k.on("cut",o.events.cut=function(n){it?n.preventDefault():u(function(){tt.$setViewValue(ft())},0)});k.on("keydown",o.events.keydown=function(n,t){var e,r,h,i,u,l,f;if(t&&angular.extend(n,t),n.keyCode===tr?s.setStateShiftKey(!0):s.setStateShiftKey(!1),n.specialKey=ki(n),p.keyMappings.forEach(function(t){n.specialKey===t.commandKeyCode&&(n.specialKey=void 0);t.testForKey(n)&&(e=t.commandKeyCode);"UndoKey"!==t.commandKeyCode&&"RedoKey"!==t.commandKeyCode||t.enablePropagation||n.preventDefault()}),"undefined"!=typeof e&&(n.specialKey=e),"undefined"==typeof n.specialKey||"UndoKey"===n.specialKey&&"RedoKey"===n.specialKey||(n.preventDefault(),d.sendKeyCommand(o,n)),!(it||("UndoKey"===n.specialKey&&(fr(),n.preventDefault()),"RedoKey"===n.specialKey&&(er(),n.preventDefault()),n.keyCode!==ui||n.shiftKey||n.ctrlKey||n.metaKey||n.altKey))){if(h=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},i=s.getSelectionElement(),!i.nodeName.match(c))return;u=angular.element(ut);l=["blockquote","ul","ol"];h(l,i.parentNode.tagName.toLowerCase())&&(/^<br(|\/)>$/i.test(i.innerHTML.trim())&&!i.nextSibling&&(r=angular.element(i),f=r.parent(),f.after(u),r.remove(),0===f.children().length&&f.remove(),s.setSelectionToElementStart(u[0]),n.preventDefault()),/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(i.innerHTML.trim())&&(r=angular.element(i),r.after(u),r.remove(),s.setSelectionToElementStart(u[0]),n.preventDefault()))}});k.on("keyup",o.events.keyup=function(n,t){var l,i,f,e,o,r,h;if(t&&angular.extend(n,t),s.setStateShiftKey(!1),n.keyCode===dt)return l=s.getSelection(),void(l.start.element===k[0]&&k.children().length&&s.setSelectionToElementStart(k.children()[0]));if((n.keyCode!==ir||n.shiftKey||s.updateLeftArrowKey(k),n.keyCode!==rr||n.shiftKey||s.updateRightArrowKey(k),yt&&u.cancel(yt),!it&&!gi.test(n.keyCode))&&(n.keyCode!==ui||!(n.ctrlKey||n.metaKey||n.altKey))){if(""!==ut&&"<BR><BR>"!==ut&&n.keyCode===ui&&!n.ctrlKey&&!n.metaKey&&!n.altKey){for(i=s.getSelectionElement();!i.nodeName.match(c)&&i!==k[0];)i=i.parentNode;n.shiftKey?(f=i.tagName.toLowerCase(),f!==g.taDefaultWrap&&"li"!==f&&"pre"!==f&&"div"!==f||/.+<br><br>/.test(i.innerHTML.trim())||(e=i.previousSibling,e&&(e.innerHTML=e.innerHTML+"<br><br>",angular.element(i).remove(),s.setSelectionToElementEnd(e)))):i.tagName.toLowerCase()!==g.taDefaultWrap&&"li"!==i.nodeName.toLowerCase()&&(""===i.innerHTML.trim()||"<br>"===i.innerHTML.trim())&&(o=angular.element(ut),angular.element(i).replaceWith(o),s.setSelectionToElementStart(o[0]))}r=ft();""===ut||""!==r.trim()&&"<br>"!==r.trim()?"<"!==r.substring(0,1)&&""!==g.taDefaultWrap:(wt(ut),s.setSelectionToElementStart(k.children()[0]));h=li!==n.keyCode&&nr.test(n.keyCode);si&&u.cancel(si);si=u(function(){et(r,h,!0)},ri.$options.debounce||400);h||(yt=u(function(){tt.$undoManager.push(r)},250));li=n.keyCode}});if(k.on("input",function(){ft()!==tt.$viewValue&&(hi&&u.cancel(hi),hi=u(function(){var i=n.saveSelection(),t=ft();t!==tt.$viewValue&&et(t,!0);0!==tt.$viewValue.length&&n.restoreSelection(i)},1e3))}),k.on("blur",o.events.blur=function(){vt=!1;it?(kt=!0,tt.$render()):et(void 0,void 0,!0)}),g.placeholder&&(t.ie>8||void 0===t.ie)){if(!g.id)throw"textAngular Error: An unique ID is required for placeholders to work";pi=l("#"+g.id+".placeholder-text:before",'content: "'+g.placeholder+'"');o.$on("$destroy",function(){a(pi)})}k.on("focus",o.events.focus=function(){vt=!0;k.removeClass("placeholder-text");ei()});k.on("mouseup",o.events.mouseup=function(){var n=s.getSelection();n&&n.start.element===k[0]&&k.children().length&&s.setSelectionToElementStart(k.children()[0])});k.on("mousedown",o.events.mousedown=function(n,t){t&&angular.extend(n,t);n.stopPropagation()})}else{k.on("change blur",o.events.change=o.events.blur=function(){it||tt.$setViewValue(ft())});k.on("keydown",o.events.keydown=function(n,t){var f,u;if(t&&angular.extend(n,t),n.keyCode===dt){var r=this.selectionStart,e=this.selectionEnd,i=k.val();n.shiftKey?(f=i.lastIndexOf("\n",r),u=i.lastIndexOf("\t",r),u!==-1&&u>=f&&(k.val(i.substring(0,u)+i.substring(u+1)),this.selectionStart=this.selectionEnd=r-1)):(k.val(i.substring(0,r)+"\t"+i.substring(e)),this.selectionStart=this.selectionEnd=r+1);n.preventDefault()}});var ci=function(n,t){for(var i="",r=0;r<t;r++)i+=n;return i},wi=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,r,n[r])},bi=function(n,t){var i="",r=n.childNodes;return t++,i+=ci("\t",t-1)+n.outerHTML.substring(0,4),wi(r,function(n,r){var u=r.nodeName.toLowerCase();return"#comment"===u?void(i+="<!--"+r.nodeValue+"-->"):"#text"===u?void(i+=r.textContent):void(r.outerHTML&&(i+="ul"===u||"ol"===u?"\n"+bi(r,t):"\n"+ci("\t",t)+r.outerHTML))}),i+="\n"+ci("\t",t-1)+n.outerHTML.substring(n.outerHTML.lastIndexOf("<"))};tt.$formatters.unshift(function(n){var t=angular.element("<div>"+n+"<\/div>")[0].childNodes;return t.length>0&&(n="",wi(t,function(t,i){var r=i.nodeName.toLowerCase();return"#comment"===r?void(n+="<!--"+i.nodeValue+"-->"):"#text"===r?void(n+=i.textContent):void(i.outerHTML&&(n.length>0&&(n+="\n"),n+="ul"===r||"ol"===r?""+bi(i,0):""+i.outerHTML))})),n})}at=function(n,t){if(t&&angular.extend(n,t),!h&&!it){h=!0;var i;i=n.originalEvent?n.originalEvent.dataTransfer:n.dataTransfer;o.$emit("ta-drop-event",this,n,i);u(function(){h=!1;et(void 0,void 0,!0)},100)}};ti=!1;tt.$render=function(){if(!ti){ti=!0;var n=tt.$viewValue||"";kt||(rt&&vt&&(k.removeClass("placeholder-text"),ni&&u.cancel(ni),ni=u(function(){vt||(k[0].focus(),s.setSelectionToElementEnd(k.children()[k.children().length-1]));ni=void 0},1)),rt?(wt(g.placeholder?""===n?ut:n:""===n?ut:n),it?k.off("drop",at):(ei(),k.on("drop",at))):"textarea"!==k[0].tagName.toLowerCase()&&"input"!==k[0].tagName.toLowerCase()?wt(y(n)):k.val(n));rt&&g.placeholder&&(""===n?vt?k.removeClass("placeholder-text"):k.addClass("placeholder-text"):k.removeClass("placeholder-text"));ti=kt=!1}};g.taReadonly&&(it=o.$eval(g.taReadonly),it?(k.addClass("ta-readonly"),"textarea"!==k[0].tagName.toLowerCase()&&"input"!==k[0].tagName.toLowerCase()||k.attr("disabled","disabled"),void 0!==k.attr("contenteditable")&&k.attr("contenteditable")&&k.removeAttr("contenteditable")):(k.removeClass("ta-readonly"),"textarea"===k[0].tagName.toLowerCase()||"input"===k[0].tagName.toLowerCase()?k.removeAttr("disabled"):rt&&k.attr("contenteditable","true")),o.$watch(g.taReadonly,function(n,t){t!==n&&(n?(k.addClass("ta-readonly"),"textarea"!==k[0].tagName.toLowerCase()&&"input"!==k[0].tagName.toLowerCase()||k.attr("disabled","disabled"),void 0!==k.attr("contenteditable")&&k.attr("contenteditable")&&k.removeAttr("contenteditable"),angular.forEach(v,function(n){k.find(n).on("click",pt)}),k.off("drop",at)):(k.removeClass("ta-readonly"),"textarea"===k[0].tagName.toLowerCase()||"input"===k[0].tagName.toLowerCase()?k.removeAttr("disabled"):rt&&k.attr("contenteditable","true"),angular.forEach(v,function(n){k.find(n).off("click",pt)}),k.on("drop",at)),it=n)}));rt&&!it&&(angular.forEach(v,function(n){k.find(n).on("click",pt)}),k.on("drop",at))}}}]),h=!1,o=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),o.config([function(){angular.forEach(s,function(n,t){delete s[t]})}]),o.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(t,i,r,u,f,e,o,s,h,c,l){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(a,v,y,p){var it,rt,ut,ft,et,ot,g,k,at,st,ht,ct,w=y.serial?y.serial:Math.floor(1e16*Math.random()),tt,vt,nt,d,lt,b;if(a._name=y.name?y.name:"textAngularEditor"+w,tt=function(n,t,r){i(function(){n.one(t,r)},100)},at=f(y.taDefaultWrap),angular.extend(a,angular.copy(r),{wrapSelection:function(n,t,i){"undo"===n.toLowerCase()?a["$undoTaBindtaTextElement"+w]():"redo"===n.toLowerCase()?a["$redoTaBindtaTextElement"+w]():(at(n,!1,t,a.defaultTagAttributes),i&&a["reApplyOnSelectorHandlerstaTextElement"+w](),a.displayElements.text[0].focus())},showHtml:a.$eval(y.taShowHtml)||!1}),y.taFocussedClass&&(a.classes.focussed=y.taFocussedClass),y.taTextEditorClass&&(a.classes.textEditor=y.taTextEditorClass),y.taHtmlEditorClass&&(a.classes.htmlEditor=y.taHtmlEditorClass),y.taDefaultTagAttributes)try{angular.extend(a.defaultTagAttributes,angular.fromJson(y.taDefaultTagAttributes))}catch(n){h.error(n)}y.taTextEditorSetup&&(a.setup.textEditorSetup=a.$parent.$eval(y.taTextEditorSetup));y.taHtmlEditorSetup&&(a.setup.htmlEditorSetup=a.$parent.$eval(y.taHtmlEditorSetup));a.fileDropHandler=y.taFileDrop?a.$parent.$eval(y.taFileDrop):a.defaultFileDropHandler;g=v[0].innerHTML;v[0].innerHTML="";a.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea><\/textarea>"),text:angular.element("<div><\/div>"),scrollWindow:angular.element("<div class='ta-scroll-window'><\/div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"><\/div>'),popoverArrow:angular.element('<div class="arrow"><\/div>'),popoverContainer:angular.element('<div class="popover-content"><\/div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"><\/div>'),background:angular.element('<div class="ta-resizer-handle-background"><\/div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"><\/div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"><\/div>')],info:angular.element('<div class="ta-resizer-handle-info"><\/div>')}};a.displayElements.popover.append(a.displayElements.popoverArrow);a.displayElements.popover.append(a.displayElements.popoverContainer);a.displayElements.scrollWindow.append(a.displayElements.popover);a.displayElements.popover.on("mousedown",function(n,t){return t&&angular.extend(n,t),n.preventDefault(),!1});a.handlePopoverEvents=function(){"block"===a.displayElements.popover.css("display")&&(ct&&i.cancel(ct),ct=i(function(){a.reflowPopover(a.resizeElement);a.reflowResizeOverlay(a.resizeElement)},100))};angular.element(window).on("resize",a.handlePopoverEvents);angular.element(window).on("scroll",a.handlePopoverEvents);vt=function(n){var t,u={vertical:!1,horizontal:!1},i,r;try{if(t=window.getComputedStyle(n),null===t)return u}catch(n){return u}return i=t["overflow-y"],r=t["overflow-x"],{vertical:("scroll"===i||"auto"===i)&&n.scrollHeight>n.clientHeight,horizontal:("scroll"===r||"auto"===r)&&n.scrollWidth>n.clientWidth}};a.getScrollTop=function(n,t){var i=n.scrollTop;return"undefined"==typeof i&&(i=0),t&&vt(n).vertical&&(n.removeEventListener("scroll",a._scrollListener,!1),n.addEventListener("scroll",a._scrollListener,!1)),0!==i?{node:n.nodeName,top:i}:n.parentNode?a.getScrollTop(n.parentNode,t):{node:"<none>",top:0}};a.showPopover=function(n){a.getScrollTop(a.displayElements.scrollWindow[0],!0);a.displayElements.popover.css("display","block");i(function(){a.displayElements.resize.overlay.css("display","block")});a.resizeElement=n;a.reflowPopover(n);s.addClass(a.displayElements.popover,"in");tt(o.find("body"),"click keyup",function(){a.hidePopover()})};a._scrollListener=function(){a.handlePopoverEvents()};a.reflowPopover=function(n){var f=a.getScrollTop(a.displayElements.scrollWindow[0],!1),e=n[0].offsetTop-f.top;e<51?(a.displayElements.popover.css("top",n[0].offsetTop+n[0].offsetHeight+a.displayElements.scrollWindow[0].scrollTop+"px"),a.displayElements.popover.removeClass("top").addClass("bottom")):(a.displayElements.popover.css("top",n[0].offsetTop-54+a.displayElements.scrollWindow[0].scrollTop+"px"),a.displayElements.popover.removeClass("bottom").addClass("top"));var i=a.displayElements.text[0].offsetWidth-a.displayElements.popover[0].offsetWidth,t=n[0].offsetLeft+n[0].offsetWidth/2-a.displayElements.popover[0].offsetWidth/2,r=Math.max(0,Math.min(i,t)),u=Math.min(t,Math.max(0,t-i))-11;r+=window.scrollX;u-=window.scrollX;a.displayElements.popover.css("left",r+"px");a.displayElements.popoverArrow.css("margin-left",u+"px")};a.hidePopover=function(){a.displayElements.popover.css("display","none");a.displayElements.popoverContainer.attr("style","");a.displayElements.popoverContainer.attr("class","popover-content");a.displayElements.popover.removeClass("in");a.displayElements.resize.overlay.css("display","none")};a.displayElements.resize.overlay.append(a.displayElements.resize.background);angular.forEach(a.displayElements.resize.anchors,function(n){a.displayElements.resize.overlay.append(n)});a.displayElements.resize.overlay.append(a.displayElements.resize.info);a.displayElements.scrollWindow.append(a.displayElements.resize.overlay);a.displayElements.resize.background.on("click",function(){a.displayElements.text[0].focus()});a.reflowResizeOverlay=function(n){n=angular.element(n)[0];a.displayElements.resize.overlay.css({display:"block",left:n.offsetLeft-5+"px",top:n.offsetTop-5+"px",width:n.offsetWidth+10+"px",height:n.offsetHeight+10+"px"});a.displayElements.resize.info.text(n.offsetWidth+" x "+n.offsetHeight)};a.showResizeOverlay=function(n){var t=o.find("body");st=function(i){var r={width:parseInt(n.attr("width")),height:parseInt(n.attr("height")),x:i.clientX,y:i.clientY},u,f;(void 0===r.width||isNaN(r.width))&&(r.width=n[0].offsetWidth);(void 0===r.height||isNaN(r.height))&&(r.height=n[0].offsetHeight);a.hidePopover();u=r.height/r.width;f=function(t){function o(n){return Math.round(Math.max(0,n))}var i={x:Math.max(0,r.width+(t.clientX-r.x)),y:Math.max(0,r.height+(t.clientY-r.y))},s=void 0!==y.taResizeForceAspectRatio,h=y.taResizeMaintainAspectRatio,c=s||h&&!t.shiftKey,f,e;c&&(f=i.y/i.x,i.x=u>f?i.x:i.y/u,i.y=u>f?i.x*u:i.y);e=angular.element(n);e.css("height",o(i.y)+"px");e.css("width",o(i.x)+"px");a.reflowResizeOverlay(n)};t.on("mousemove",f);tt(t,"mouseup",function(n){n.preventDefault();n.stopPropagation();t.off("mousemove",f);a.$apply(function(){a.hidePopover();a.updateTaBindtaTextElement()},100)});i.stopPropagation();i.preventDefault()};a.displayElements.resize.anchors[3].off("mousedown");a.displayElements.resize.anchors[3].on("mousedown",st);a.reflowResizeOverlay(n);tt(t,"click",function(){a.hideResizeOverlay()})};a.hideResizeOverlay=function(){a.displayElements.resize.anchors[3].off("mousedown",st);a.displayElements.resize.overlay.css("display","none")};a.setup.htmlEditorSetup(a.displayElements.html);a.setup.textEditorSetup(a.displayElements.text);a.displayElements.html.attr({id:"taHtmlElement"+w,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":v.attr("ng-model-options")});a.displayElements.text.attr({id:"taTextElement"+w,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":v.attr("ng-model-options")});a.displayElements.scrollWindow.attr({"ng-hide":"showHtml"});y.taDefaultWrap&&a.displayElements.text.attr("ta-default-wrap",y.taDefaultWrap);y.taUnsafeSanitizer&&(a.displayElements.text.attr("ta-unsafe-sanitizer",y.taUnsafeSanitizer),a.displayElements.html.attr("ta-unsafe-sanitizer",y.taUnsafeSanitizer));y.taKeepStyles&&(a.displayElements.text.attr("ta-keep-styles",y.taKeepStyles),a.displayElements.html.attr("ta-keep-styles",y.taKeepStyles));a.displayElements.scrollWindow.append(a.displayElements.text);v.append(a.displayElements.scrollWindow);v.append(a.displayElements.html);a.displayElements.forminput.attr("name",a._name);v.append(a.displayElements.forminput);y.tabindex&&(v.removeAttr("tabindex"),a.displayElements.text.attr("tabindex",y.tabindex),a.displayElements.html.attr("tabindex",y.tabindex));y.placeholder&&(a.displayElements.text.attr("placeholder",y.placeholder),a.displayElements.html.attr("placeholder",y.placeholder));y.taDisabled&&(a.displayElements.text.attr("ta-readonly","disabled"),a.displayElements.html.attr("ta-readonly","disabled"),a.disabled=a.$parent.$eval(y.taDisabled),a.$parent.$watch(y.taDisabled,function(n){a.disabled=n;a.disabled?v.addClass(a.classes.disabled):v.removeClass(a.classes.disabled)}));y.taPaste&&(a._pasteHandler=function(n){return l(y.taPaste)(a.$parent,{$html:n})},a.displayElements.text.attr("ta-paste","_pasteHandler($html)"));t(a.displayElements.scrollWindow)(a);t(a.displayElements.html)(a);a.updateTaBindtaTextElement=a["updateTaBindtaTextElement"+w];a.updateTaBindtaHtmlElement=a["updateTaBindtaHtmlElement"+w];v.addClass("ta-root");a.displayElements.scrollWindow.addClass("ta-text ta-editor "+a.classes.textEditor);a.displayElements.html.addClass("ta-html ta-editor "+a.classes.htmlEditor);nt=function(n,t){t!==o[0].queryCommandState(n)&&o[0].execCommand(n,!1,null)};a._actionRunning=!1;d=!1;(a.startAction=function(){var t=!1,i=!1,r=!1,u=!1;return a._actionRunning=!0,t=o[0].queryCommandState("bold"),i=o[0].queryCommandState("italic"),r=o[0].queryCommandState("underline"),u=o[0].queryCommandState("strikeThrough"),d=n.saveSelection(),nt("bold",t),nt("italic",i),nt("underline",r),nt("strikeThrough",u),function(){d&&n.restoreSelection(d)}},a.endAction=function(){a._actionRunning=!1;d&&(a.showHtml?a.displayElements.html[0].focus():a.displayElements.text[0].focus(),n.removeMarkers(d));d=!1;a.updateSelectedStyles();a.showHtml||a["updateTaBindtaTextElement"+w]()},et=function(){a.focussed=!0;v.addClass(a.classes.focussed);k.focus();v.triggerHandler("focus");a.updateSelectedStyles&&!a._bUpdateSelectedStyles&&i(function(){a.updateSelectedStyles()},0)},a.displayElements.html.on("focus",et),a.displayElements.text.on("focus",et),ot=function(n){return a._actionRunning||o[0].activeElement===a.displayElements.html[0]||o[0].activeElement===a.displayElements.text[0]||(v.removeClass(a.classes.focussed),k.unfocus(),i(function(){a._bUpdateSelectedStyles=!1;v.triggerHandler("blur");a.focussed=!1},0)),n.preventDefault(),!1},a.displayElements.html.on("blur",ot),a.displayElements.text.on("blur",ot),a.displayElements.text.on("paste",function(n){v.triggerHandler("paste",n)}),a.queryFormatBlockState=function(n){return!a.showHtml&&n.toLowerCase()===o[0].queryCommandValue("formatBlock").toLowerCase()},a.queryCommandState=function(n){return a.showHtml?"":o[0].queryCommandState(n)},a.switchView=function(){a.showHtml=!a.showHtml;s.enabled(!1,a.displayElements.html);s.enabled(!1,a.displayElements.text);a.showHtml?i(function(){return s.enabled(!0,a.displayElements.html),s.enabled(!0,a.displayElements.text),a.displayElements.html[0].focus()},100):i(function(){return s.enabled(!0,a.displayElements.html),s.enabled(!0,a.displayElements.text),a.displayElements.text[0].focus()},100)},y.ngModel)?(lt=!0,p.$render=function(){if(lt){lt=!1;var n=a.$parent.$eval(y.ngModel);(void 0===n||null===n)&&g&&""!==g&&p.$setViewValue(g)}a.displayElements.forminput.val(p.$viewValue);a.html=p.$viewValue||""},v.attr("required")&&(p.$validators.required=function(n,t){var i=n||t;return!(!i||""===i.trim())})):(a.displayElements.forminput.val(g),a.html=g);(a.$watch("html",function(n,t){n!==t&&(y.ngModel&&p.$viewValue!==n&&p.$setViewValue(n),a.displayElements.forminput.val(n))}),y.taTargetToolbars)?k=e.registerEditor(a._name,a,y.taTargetToolbars.split(",")):(b=angular.element('<div text-angular-toolbar name="textAngularToolbar'+w+'">'),y.taToolbar&&b.attr("ta-toolbar",y.taToolbar),y.taToolbarClass&&b.attr("ta-toolbar-class",y.taToolbarClass),y.taToolbarGroupClass&&b.attr("ta-toolbar-group-class",y.taToolbarGroupClass),y.taToolbarButtonClass&&b.attr("ta-toolbar-button-class",y.taToolbarButtonClass),y.taToolbarActiveButtonClass&&b.attr("ta-toolbar-active-button-class",y.taToolbarActiveButtonClass),y.taFocussedClass&&b.attr("ta-focussed-class",y.taFocussedClass),v.prepend(b),t(b)(a.$parent),k=e.registerEditor(a._name,a,["textAngularToolbar"+w]));a.$on("$destroy",function(){e.unregisterEditor(a._name);angular.element(window).off("blur");angular.element(window).off("resize",a.handlePopoverEvents);angular.element(window).off("scroll",a.handlePopoverEvents)});a.$on("ta-element-select",function(n,t){k.triggerElementSelect(n,t)&&a["reApplyOnSelectorHandlerstaTextElement"+w]()});a.$on("ta-drop-event",function(n,t,r,f){f&&f.files&&f.files.length>0?(a.displayElements.text[0].focus(),u.setSelectionToElementEnd(r.target),angular.forEach(f.files,function(n){try{c.when(a.fileDropHandler(n,a.wrapSelection)||a.fileDropHandler!==a.defaultFileDropHandler&&c.when(a.defaultFileDropHandler(n,a.wrapSelection))).then(function(){a["updateTaBindtaTextElement"+w]()})}catch(n){h.error(n)}}),r.preventDefault(),r.stopPropagation()):i(function(){a["updateTaBindtaTextElement"+w]()},0)});a._bUpdateSelectedStyles=!1;angular.element(window).on("blur",function(){a._bUpdateSelectedStyles=!1;a.focussed=!1});a.updateSelectedStyles=function(){var n;ht&&i.cancel(ht);void 0!==(n=u.getSelectionElement())&&n.parentNode!==a.displayElements.text[0]?k.updateSelectedStyles(angular.element(n)):k.updateSelectedStyles();a._bUpdateSelectedStyles&&(ht=i(a.updateSelectedStyles,200))};it=function(){return a.focussed?void(a._bUpdateSelectedStyles||(a._bUpdateSelectedStyles=!0,a.$apply(function(){a.updateSelectedStyles()}))):void(a._bUpdateSelectedStyles=!1)};a.displayElements.html.on("keydown",it);a.displayElements.text.on("keydown",it);rt=function(){a._bUpdateSelectedStyles=!1};a.displayElements.html.on("keyup",rt);a.displayElements.text.on("keyup",rt);ut=function(n,t){if(u.getSelection){var i=u.getSelection();u.getSelectionElement()&&"a"===u.getSelectionElement().nodeName.toLowerCase()&&(3===i.start.element.nodeType&&i.start.element.textContent.length===i.end.offset&&u.setSelectionAfterElement(u.getSelectionElement()),3===i.start.element.nodeType&&0===i.start.offset&&u.setSelectionBeforeElement(u.getSelectionElement()))}t&&angular.extend(n,t);a.$apply(function(){if(k.sendKeyCommand(n))return a._bUpdateSelectedStyles||a.updateSelectedStyles(),n.preventDefault(),!1})};a.displayElements.html.on("keypress",ut);a.displayElements.text.on("keypress",ut);ft=function(){a._bUpdateSelectedStyles=!1;i(function(){a.updateSelectedStyles()},0)};a.displayElements.html.on("mouseup",ft);a.displayElements.text.on("mouseup",ft)}}}]),o.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(n,t,i,r,u){var s,e={},f={},h=0,c=function(n){angular.forEach(f,function(t){t.editorFunctions.updateSelectedStyles(n)})},l=50,a=function(){h=Date.now();s=r(function(){c();s=void 0},l,1)},o;return u.$on("destroy",function(){s&&(r.cancel(s),s=void 0)}),o=function(){Math.abs(Date.now()-h)>l&&a()},{registerEditor:function(i,r,u){if(!i||""===i)throw"textAngular Error: An editor requires a name";if(!r)throw"textAngular Error: An editor requires a scope";if(f[i])throw'textAngular Error: An Editor with name "'+i+'" already exists';return f[i]={scope:r,toolbars:u,toolbarScopes:[],_registerToolbarScope:function(n){this.toolbars.indexOf(n.name)>=0&&this.toolbarScopes.push(n)},editorFunctions:{disable:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!0})},enable:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!1})},focus:function(){angular.forEach(f[i].toolbarScopes,function(n){n._parent=r;n.disabled=!1;n.focussed=!0});r.focussed=!0},unfocus:function(){angular.forEach(f[i].toolbarScopes,function(n){n.disabled=!0;n.focussed=!1});r.focussed=!1},updateSelectedStyles:function(n){angular.forEach(f[i].toolbarScopes,function(t){angular.forEach(t.tools,function(i){i.activeState&&(t._parent=r,i.active=i.activeState(n))})})},sendKeyCommand:function(u){var e=!1;return(u.ctrlKey||u.metaKey||u.specialKey)&&angular.forEach(t,function(t,o){if(t.commandKeyCode&&(t.commandKeyCode===u.which||t.commandKeyCode===u.specialKey))for(var s=0;s<f[i].toolbarScopes.length;s++)if(void 0!==f[i].toolbarScopes[s].tools[o]){n.call(f[i].toolbarScopes[s].tools[o],r);e=!0;break}}),e},triggerElementSelect:function(n,u){var c=function(n,t){for(var i=!0,r=0;r<t.length;r++)i=i&&n.attr(t[r]);return i},e=[],l={},a=!1,s,o;if(u=angular.element(u),s=!1,angular.forEach(t,function(n,t){n.onElementSelect&&n.onElementSelect.element&&n.onElementSelect.element.toLowerCase()===u[0].tagName.toLowerCase()&&(!n.onElementSelect.filter||n.onElementSelect.filter(u))&&(s=s||angular.isArray(n.onElementSelect.onlyWithAttrs)&&c(u,n.onElementSelect.onlyWithAttrs),n.onElementSelect.onlyWithAttrs&&!c(u,n.onElementSelect.onlyWithAttrs)||(l[t]=n))}),s?(angular.forEach(l,function(n,t){n.onElementSelect.onlyWithAttrs&&c(u,n.onElementSelect.onlyWithAttrs)&&e.push({name:t,tool:n})}),e.sort(function(n,t){return t.tool.onElementSelect.onlyWithAttrs.length-n.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(l,function(n,t){e.push({name:t,tool:n})}),e.length>0)for(o=0;o<e.length;o++){for(var y=e[o].tool,v=e[o].name,h=0;h<f[i].toolbarScopes.length;h++)if(void 0!==f[i].toolbarScopes[h].tools[v]){y.onElementSelect.action.call(f[i].toolbarScopes[h].tools[v],n,u,r);a=!0;break}if(a)break}return a}}},angular.forEach(u,function(n){e[n]&&f[i].toolbarScopes.push(e[n])}),o(),f[i].editorFunctions},retrieveEditor:function(n){return f[n]},unregisterEditor:function(n){delete f[n];o()},registerToolbar:function(n){if(!n)throw"textAngular Error: A toolbar requires a scope";if(!n.name||""===n.name)throw"textAngular Error: A toolbar requires a name";if(e[n.name])throw'textAngular Error: A toolbar with name "'+n.name+'" already exists';e[n.name]=n;angular.forEach(f,function(t){t._registerToolbarScope(n)});o()},retrieveToolbar:function(n){return e[n]},retrieveToolbarsViaEditor:function(n){var t=[],i=this;return angular.forEach(this.retrieveEditor(n).toolbars,function(n){t.push(i.retrieveToolbar(n))}),t},unregisterToolbar:function(n){delete e[n];o()},updateToolsDisplay:function(n){var t=this;angular.forEach(n,function(n,i){t.updateToolDisplay(i,n)})},resetToolsDisplay:function(){var n=this;angular.forEach(t,function(t,i){n.resetToolDisplay(i)});o()},updateToolDisplay:function(n,t){var i=this;angular.forEach(e,function(r,u){i.updateToolbarToolDisplay(u,n,t)});o()},resetToolDisplay:function(n){var t=this;angular.forEach(e,function(i,r){t.resetToolbarToolDisplay(r,n)});o()},updateToolbarToolDisplay:function(n,t,i){if(!e[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';e[n].updateToolDisplay(t,i)},resetToolbarToolDisplay:function(n,i){if(!e[n])throw'textAngular Error: No Toolbar with name "'+n+'" exists';e[n].updateToolDisplay(i,t[i],!0)},removeTool:function(n){delete t[n];angular.forEach(e,function(t){var r,i,u;for(delete t.tools[n],r=0;r<t.toolbar.length;r++){for(u=0;u<t.toolbar[r].length;u++){if(t.toolbar[r][u]===n){i={group:r,index:u};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}});o()},addTool:function(n,t,r,u){i(n,t);angular.forEach(e,function(i){i.addTool(n,t,r,u)});o()},addToolToToolbar:function(n,t,r,u,f){i(n,t);e[r].addTool(n,t,u,f);o()},refreshEditor:function(n){if(!f[n])throw'textAngular Error: No Editor with name "'+n+'" exists';f[n].scope.updateTaBindtaTextElement();f[n].scope.$$phase||f[n].scope.$digest();o()},sendKeyCommand:function(n,t){var i=f[n._name];if(i&&i.editorFunctions.sendKeyCommand(t))return n._bUpdateSelectedStyles||n.updateSelectedStyles(),t.preventDefault(),!1},updateStyles:c,getVersion:function(){return d},getToolbarScopes:function(){var n=[];return angular.forEach(f,function(t){n=n.concat(t.toolbarScopes)}),n}}}]),o.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(n,t,i,r,u,f){return{scope:{name:"@"},restrict:"EA",link:function(e,o,s){var h,c;if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";angular.extend(e,angular.copy(i));s.taToolbar&&(e.toolbar=e.$parent.$eval(s.taToolbar));s.taToolbarClass&&(e.classes.toolbar=s.taToolbarClass);s.taToolbarGroupClass&&(e.classes.toolbarGroup=s.taToolbarGroupClass);s.taToolbarButtonClass&&(e.classes.toolbarButton=s.taToolbarButtonClass);s.taToolbarActiveButtonClass&&(e.classes.toolbarButtonActive=s.taToolbarActiveButtonClass);s.taFocussedClass&&(e.classes.focussed=s.taFocussedClass);e.disabled=!0;e.focussed=!1;e._$element=o;o[0].innerHTML="";o.addClass("ta-toolbar "+e.classes.toolbar);e.$watch("focussed",function(){e.focussed?o.addClass(e.classes.focussed):o.removeClass(e.classes.focussed)});h=function(t,i){var r,f,u;return(r=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t.class?r.addClass(t.class):r.addClass(e.classes.toolbarButton),r.attr("name",i.name),r.attr("ta-button","ta-button"),r.attr("ng-disabled","isDisabled()"),r.attr("tabindex","-1"),r.attr("ng-click","executeAction()"),r.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&r.attr("title",t.tooltiptext),t&&!t.display&&!i._display&&(r[0].innerHTML="",t.buttontext&&(r[0].innerHTML=t.buttontext),t.iconclass))&&(f=angular.element("<i>"),u=r[0].innerHTML,f.addClass(t.iconclass),r[0].innerHTML="",r.append(f),u&&""!==u&&r.append("&nbsp;"+u)),i._lastToolDefinition=angular.copy(t),n(r)(i)};e.tools={};e._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};c={$window:f,$editor:function(){return e._parent},isDisabled:function(){return("html"!==this.name||!e._parent.startAction)&&("function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(n){return n?e.classes.toolbarButtonActive:""},executeAction:u};angular.forEach(e.toolbar,function(n){var t=angular.element("<div>");t.addClass(e.classes.toolbarGroup);angular.forEach(n,function(n){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);t.append(e.tools[n].$element)});o.append(t)});e.updateToolDisplay=function(n,t,i){var r=e.tools[n],u;if(r){if(r._lastToolDefinition&&!i&&(t=angular.extend({},r._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+n+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext;null===t.iconclass&&delete t.iconclass;null===t.display&&delete t.display;u=h(t,r);r.$element.replaceWith(u);r.$element=u}};e.addTool=function(n,t,i,u){e.tools[n]=angular.extend(e.$new(!0),r[n],c,{name:n});e.tools[n].$element=h(r[n],e.tools[n]);var f;void 0===i&&(i=e.toolbar.length-1);f=angular.element(o.children()[i]);void 0===u?(f.append(e.tools[n].$element),e.toolbar[i][e.toolbar[i].length-1]=n):(f.children().eq(u).after(e.tools[n].$element),e.toolbar[i][u]=n)};t.registerToolbar(e);e.$on("$destroy",function(){t.unregisterToolbar(e.name)})}}}]),o.directive("textAngularVersion",["textAngularManager",function(n){var t=n.getVersion();return{restrict:"EA",link:function(n,i){i.html(t)}}}]),o.name});
//# sourceMappingURL=idea-angulars.min.js.map
